/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var e={108(e,t,n){"use strict";n.d(t,{A:()=>s});var r=n(1354),a=n.n(r),i=n(6314),o=n.n(i)()(a());o.push([e.id,'.media-preview {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n  padding: 12px;\n  background: rgba(255, 255, 255, 0.02);\n  border-radius: var(--radius-sm);\n  border: 1px solid var(--border-color);\n}\n\n.media-preview.empty {\n  align-items: center;\n  justify-content: center;\n  min-height: 200px;\n  color: var(--text-tertiary);\n  text-align: center;\n}\n\n.media-preview.empty p {\n  margin: 8px 0 0;\n  font-size: 12px;\n}\n\n.preview-thumbnail {\n  position: relative;\n  width: 100%;\n  aspect-ratio: 16 / 9;\n  background: rgba(0, 0, 0, 0.3);\n  border-radius: var(--radius-sm);\n  overflow: hidden;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.preview-thumbnail img {\n  width: 100%;\n  height: 100%;\n  object-fit: contain;\n}\n\n.preview-placeholder {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n  color: var(--text-tertiary);\n}\n\n.preview-loading {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.loading-spinner {\n  width: 24px;\n  height: 24px;\n  border: 2px solid rgba(255, 255, 255, 0.1);\n  border-top-color: var(--accent-primary);\n  border-radius: 50%;\n  animation: spin 0.8s linear infinite;\n}\n\n@keyframes spin {\n  to {\n    transform: rotate(360deg);\n  }\n}\n\n.preview-info {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n\n.preview-name {\n  margin: 0;\n  font-size: 13px;\n  font-weight: 600;\n  color: var(--text-primary);\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.preview-details {\n  display: flex;\n  flex-direction: column;\n  gap: 6px;\n}\n\n.detail-row {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  font-size: 12px;\n}\n\n.detail-label {\n  color: var(--text-tertiary);\n}\n\n.detail-value {\n  color: var(--text-secondary);\n  text-align: right;\n}\n\n.type-badge {\n  padding: 2px 8px;\n  border-radius: 4px;\n  font-size: 10px;\n  font-weight: 600;\n  text-transform: uppercase;\n}\n\n.type-badge[data-type="video"] {\n  background: rgba(0, 184, 148, 0.2);\n  color: #00b894;\n}\n\n.type-badge[data-type="image"] {\n  background: rgba(225, 112, 85, 0.2);\n  color: #e17055;\n}\n\n.type-badge[data-type="audio"] {\n  background: rgba(108, 92, 231, 0.2);\n  color: #6c5ce7;\n}\n\n.type-badge[data-type="template"] {\n  background: rgba(0, 206, 201, 0.2);\n  color: #00cec9;\n}\n\n.preview-source {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  font-size: 11px;\n  color: var(--status-ok);\n  padding: 6px 8px;\n  background: rgba(0, 184, 148, 0.1);\n  border-radius: var(--radius-sm);\n}\n\n.preview-source.warning {\n  color: var(--status-warning);\n  background: rgba(255, 193, 7, 0.1);\n}\n\n.preview-path {\n  font-size: 11px;\n  color: var(--text-tertiary);\n  word-break: break-all;\n  padding-top: 8px;\n  border-top: 1px solid var(--border-color);\n}\n',"",{version:3,sources:["webpack://./src/renderer/components/MediaPreview.css"],names:[],mappings:"AAAA;EACE,aAAa;EACb,sBAAsB;EACtB,SAAS;EACT,aAAa;EACb,qCAAqC;EACrC,+BAA+B;EAC/B,qCAAqC;AACvC;;AAEA;EACE,mBAAmB;EACnB,uBAAuB;EACvB,iBAAiB;EACjB,2BAA2B;EAC3B,kBAAkB;AACpB;;AAEA;EACE,eAAe;EACf,eAAe;AACjB;;AAEA;EACE,kBAAkB;EAClB,WAAW;EACX,oBAAoB;EACpB,8BAA8B;EAC9B,+BAA+B;EAC/B,gBAAgB;EAChB,aAAa;EACb,mBAAmB;EACnB,uBAAuB;AACzB;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,mBAAmB;AACrB;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,WAAW;EACX,YAAY;EACZ,2BAA2B;AAC7B;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,uBAAuB;AACzB;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,0CAA0C;EAC1C,uCAAuC;EACvC,kBAAkB;EAClB,oCAAoC;AACtC;;AAEA;EACE;IACE,yBAAyB;EAC3B;AACF;;AAEA;EACE,aAAa;EACb,sBAAsB;EACtB,QAAQ;AACV;;AAEA;EACE,SAAS;EACT,eAAe;EACf,gBAAgB;EAChB,0BAA0B;EAC1B,mBAAmB;EACnB,gBAAgB;EAChB,uBAAuB;AACzB;;AAEA;EACE,aAAa;EACb,sBAAsB;EACtB,QAAQ;AACV;;AAEA;EACE,aAAa;EACb,8BAA8B;EAC9B,mBAAmB;EACnB,eAAe;AACjB;;AAEA;EACE,2BAA2B;AAC7B;;AAEA;EACE,4BAA4B;EAC5B,iBAAiB;AACnB;;AAEA;EACE,gBAAgB;EAChB,kBAAkB;EAClB,eAAe;EACf,gBAAgB;EAChB,yBAAyB;AAC3B;;AAEA;EACE,kCAAkC;EAClC,cAAc;AAChB;;AAEA;EACE,mCAAmC;EACnC,cAAc;AAChB;;AAEA;EACE,mCAAmC;EACnC,cAAc;AAChB;;AAEA;EACE,kCAAkC;EAClC,cAAc;AAChB;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,QAAQ;EACR,eAAe;EACf,uBAAuB;EACvB,gBAAgB;EAChB,kCAAkC;EAClC,+BAA+B;AACjC;;AAEA;EACE,4BAA4B;EAC5B,kCAAkC;AACpC;;AAEA;EACE,eAAe;EACf,2BAA2B;EAC3B,qBAAqB;EACrB,gBAAgB;EAChB,yCAAyC;AAC3C",sourcesContent:['.media-preview {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 12px;\r\n  padding: 12px;\r\n  background: rgba(255, 255, 255, 0.02);\r\n  border-radius: var(--radius-sm);\r\n  border: 1px solid var(--border-color);\r\n}\r\n\r\n.media-preview.empty {\r\n  align-items: center;\r\n  justify-content: center;\r\n  min-height: 200px;\r\n  color: var(--text-tertiary);\r\n  text-align: center;\r\n}\r\n\r\n.media-preview.empty p {\r\n  margin: 8px 0 0;\r\n  font-size: 12px;\r\n}\r\n\r\n.preview-thumbnail {\r\n  position: relative;\r\n  width: 100%;\r\n  aspect-ratio: 16 / 9;\r\n  background: rgba(0, 0, 0, 0.3);\r\n  border-radius: var(--radius-sm);\r\n  overflow: hidden;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.preview-thumbnail img {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: contain;\r\n}\r\n\r\n.preview-placeholder {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 100%;\r\n  height: 100%;\r\n  color: var(--text-tertiary);\r\n}\r\n\r\n.preview-loading {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.loading-spinner {\r\n  width: 24px;\r\n  height: 24px;\r\n  border: 2px solid rgba(255, 255, 255, 0.1);\r\n  border-top-color: var(--accent-primary);\r\n  border-radius: 50%;\r\n  animation: spin 0.8s linear infinite;\r\n}\r\n\r\n@keyframes spin {\r\n  to {\r\n    transform: rotate(360deg);\r\n  }\r\n}\r\n\r\n.preview-info {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n}\r\n\r\n.preview-name {\r\n  margin: 0;\r\n  font-size: 13px;\r\n  font-weight: 600;\r\n  color: var(--text-primary);\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n.preview-details {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 6px;\r\n}\r\n\r\n.detail-row {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  font-size: 12px;\r\n}\r\n\r\n.detail-label {\r\n  color: var(--text-tertiary);\r\n}\r\n\r\n.detail-value {\r\n  color: var(--text-secondary);\r\n  text-align: right;\r\n}\r\n\r\n.type-badge {\r\n  padding: 2px 8px;\r\n  border-radius: 4px;\r\n  font-size: 10px;\r\n  font-weight: 600;\r\n  text-transform: uppercase;\r\n}\r\n\r\n.type-badge[data-type="video"] {\r\n  background: rgba(0, 184, 148, 0.2);\r\n  color: #00b894;\r\n}\r\n\r\n.type-badge[data-type="image"] {\r\n  background: rgba(225, 112, 85, 0.2);\r\n  color: #e17055;\r\n}\r\n\r\n.type-badge[data-type="audio"] {\r\n  background: rgba(108, 92, 231, 0.2);\r\n  color: #6c5ce7;\r\n}\r\n\r\n.type-badge[data-type="template"] {\r\n  background: rgba(0, 206, 201, 0.2);\r\n  color: #00cec9;\r\n}\r\n\r\n.preview-source {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n  font-size: 11px;\r\n  color: var(--status-ok);\r\n  padding: 6px 8px;\r\n  background: rgba(0, 184, 148, 0.1);\r\n  border-radius: var(--radius-sm);\r\n}\r\n\r\n.preview-source.warning {\r\n  color: var(--status-warning);\r\n  background: rgba(255, 193, 7, 0.1);\r\n}\r\n\r\n.preview-path {\r\n  font-size: 11px;\r\n  color: var(--text-tertiary);\r\n  word-break: break-all;\r\n  padding-top: 8px;\r\n  border-top: 1px solid var(--border-color);\r\n}\r\n'],sourceRoot:""}]);const s=o},181(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CasparCG=void 0;const r=n(4411),a=n(6469);class i extends r.BasicCasparCGAPI{async loadbg(e){return this.executeCommand({command:a.Commands.Loadbg,params:e})}async loadbgHtml(e){return this.executeCommand({command:a.Commands.LoadbgHtml,params:e})}async load(e){return this.executeCommand({command:a.Commands.Load,params:e})}async play(e){return this.executeCommand({command:a.Commands.Play,params:e})}async playHtml(e){return this.executeCommand({command:a.Commands.PlayHtml,params:e})}async pause(e){return this.executeCommand({command:a.Commands.Pause,params:e})}async resume(e){return this.executeCommand({command:a.Commands.Resume,params:e})}async stop(e){return this.executeCommand({command:a.Commands.Stop,params:e})}async clear(e){return this.executeCommand({command:a.Commands.Clear,params:e})}async call(e){return this.executeCommand({command:a.Commands.Call,params:e})}async swap(e){return this.executeCommand({command:a.Commands.Swap,params:e})}async add(e){return this.executeCommand({command:a.Commands.Add,params:e})}async remove(e){return this.executeCommand({command:a.Commands.Remove,params:e})}async print(e){return this.executeCommand({command:a.Commands.Print,params:e})}async logLevel(e){return this.executeCommand({command:a.Commands.LogLevel,params:e})}async logCategory(e){return this.executeCommand({command:a.Commands.LogCategory,params:e})}async set(e){return this.executeCommand({command:a.Commands.Set,params:e})}async lock(e){return this.executeCommand({command:a.Commands.Lock,params:e})}async dataStore(e){return this.executeCommand({command:a.Commands.DataStore,params:e})}async dataRetrieve(e){return this.executeCommand({command:a.Commands.DataRetrieve,params:e})}async dataList(e){return this.executeCommand({command:a.Commands.DataList,params:e})}async dataRemove(e){return this.executeCommand({command:a.Commands.DataRemove,params:e})}async cgAdd(e){return this.executeCommand({command:a.Commands.CgAdd,params:e})}async cgPlay(e){return this.executeCommand({command:a.Commands.CgPlay,params:e})}async cgStop(e){return this.executeCommand({command:a.Commands.CgStop,params:e})}async cgNext(e){return this.executeCommand({command:a.Commands.CgNext,params:e})}async cgRemove(e){return this.executeCommand({command:a.Commands.CgRemove,params:e})}async cgClear(e){return this.executeCommand({command:a.Commands.CgClear,params:e})}async cgUpdate(e){return this.executeCommand({command:a.Commands.CgUpdate,params:e})}async cgInvoke(e){return this.executeCommand({command:a.Commands.CgInvoke,params:e})}async cgInfo(e){return this.executeCommand({command:a.Commands.CgInfo,params:e})}async mixerKeyer(e){return this.executeCommand({command:a.Commands.MixerKeyer,params:e})}async mixerChroma(e){return this.executeCommand({command:a.Commands.MixerChroma,params:e})}async mixerBlend(e){return this.executeCommand({command:a.Commands.MixerBlend,params:e})}async mixerInvert(e){return this.executeCommand({command:a.Commands.MixerInvert,params:e})}async mixerOpacity(e){return this.executeCommand({command:a.Commands.MixerOpacity,params:e})}async mixerBrightness(e){return this.executeCommand({command:a.Commands.MixerBrightness,params:e})}async mixerSaturation(e){return this.executeCommand({command:a.Commands.MixerSaturation,params:e})}async mixerContrast(e){return this.executeCommand({command:a.Commands.MixerContrast,params:e})}async mixerLevels(e){return this.executeCommand({command:a.Commands.MixerLevels,params:e})}async mixerFill(e){return this.executeCommand({command:a.Commands.MixerFill,params:e})}async mixerClip(e){return this.executeCommand({command:a.Commands.MixerClip,params:e})}async mixerAnchor(e){return this.executeCommand({command:a.Commands.MixerAnchor,params:e})}async mixerCrop(e){return this.executeCommand({command:a.Commands.MixerCrop,params:e})}async mixerRotation(e){return this.executeCommand({command:a.Commands.MixerRotation,params:e})}async mixerPerspective(e){return this.executeCommand({command:a.Commands.MixerPerspective,params:e})}async mixerMipmap(e){return this.executeCommand({command:a.Commands.MixerMipmap,params:e})}async mixerVolume(e){return this.executeCommand({command:a.Commands.MixerVolume,params:e})}async mixerMastervolume(e){return this.executeCommand({command:a.Commands.MixerMastervolume,params:e})}async mixerStraightAlphaOutput(e){return this.executeCommand({command:a.Commands.MixerStraightAlphaOutput,params:e})}async mixerGrid(e){return this.executeCommand({command:a.Commands.MixerGrid,params:e})}async mixerCommit(e){return this.executeCommand({command:a.Commands.MixerCommit,params:e})}async mixerClear(e){return this.executeCommand({command:a.Commands.MixerClear,params:e})}async channelGrid(e={}){return this.executeCommand({command:a.Commands.ChannelGrid,params:e})}async thumbnailList(e={}){return this.executeCommand({command:a.Commands.ThumbnailList,params:e})}async thumbnailRetrieve(e){return this.executeCommand({command:a.Commands.ThumbnailRetrieve,params:e})}async thumbnailGenerate(e){return this.executeCommand({command:a.Commands.ThumbnailGenerate,params:e})}async thumbnailGenerateAll(e={}){return this.executeCommand({command:a.Commands.ThumbnailGenerateAll,params:e})}async cinf(e){return this.executeCommand({command:a.Commands.Cinf,params:e})}async cls(e={}){return this.executeCommand({command:a.Commands.Cls,params:e})}async fls(e={}){return this.executeCommand({command:a.Commands.Fls,params:e})}async tls(e={}){return this.executeCommand({command:a.Commands.Tls,params:e})}async version(e={}){return this.executeCommand({command:a.Commands.Version,params:e})}async info(e){return this.executeCommand({command:a.Commands.Info,params:e})}async infoChannel(e){return this.executeCommand({command:a.Commands.InfoChannel,params:e})}async infoLayer(e){return this.executeCommand({command:a.Commands.InfoLayer,params:e})}async infoTemplate(e){return this.executeCommand({command:a.Commands.InfoTemplate,params:e})}async infoConfig(e={}){return this.executeCommand({command:a.Commands.InfoConfig,params:e})}async infoPaths(e={}){return this.executeCommand({command:a.Commands.InfoPaths,params:e})}async infoSystem(e={}){return this.executeCommand({command:a.Commands.InfoSystem,params:e})}async infoServer(e={}){return this.executeCommand({command:a.Commands.InfoServer,params:e})}async infoQueues(e={}){return this.executeCommand({command:a.Commands.InfoQueues,params:e})}async infoThreads(e={}){return this.executeCommand({command:a.Commands.InfoThreads,params:e})}async infoDelay(e){return this.executeCommand({command:a.Commands.InfoDelay,params:e})}async diag(e={}){return this.executeCommand({command:a.Commands.Diag,params:e})}async glInfo(e={}){return this.executeCommand({command:a.Commands.GlInfo,params:e})}async glGc(e={}){return this.executeCommand({command:a.Commands.GlGc,params:e})}async bye(e={}){return this.executeCommand({command:a.Commands.Bye,params:e})}async kill(e={}){return this.executeCommand({command:a.Commands.Kill,params:e})}async restart(e={}){return this.executeCommand({command:a.Commands.Restart,params:e})}async ping(e={}){return this.executeCommand({command:a.Commands.Ping,params:e})}async begin(e={}){return this.executeCommand({command:a.Commands.Begin,params:e})}async commit(e={}){return this.executeCommand({command:a.Commands.Commit,params:e})}async discard(e={}){return this.executeCommand({command:a.Commands.Discard,params:e})}async sendCustom(e){return this.executeCommand({command:a.Commands.Custom,params:e})}}t.CasparCG=i},228(e){"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function a(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function i(e,t,r,i,o){if("function"!=typeof r)throw new TypeError("The listener must be a function");var s=new a(r,i||e,o),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function o(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,a=[];if(0===this._eventsCount)return a;for(r in e=this._events)t.call(e,r)&&a.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(e)):a},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var a=0,i=r.length,o=new Array(i);a<i;a++)o[a]=r[a].fn;return o},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,a,i,o){var s=n?n+e:e;if(!this._events[s])return!1;var l,c,d=this._events[s],u=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),u){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,r),!0;case 4:return d.fn.call(d.context,t,r,a),!0;case 5:return d.fn.call(d.context,t,r,a,i),!0;case 6:return d.fn.call(d.context,t,r,a,i,o),!0}for(c=1,l=new Array(u-1);c<u;c++)l[c-1]=arguments[c];d.fn.apply(d.context,l)}else{var p,h=d.length;for(c=0;c<h;c++)switch(d[c].once&&this.removeListener(e,d[c].fn,void 0,!0),u){case 1:d[c].fn.call(d[c].context);break;case 2:d[c].fn.call(d[c].context,t);break;case 3:d[c].fn.call(d[c].context,t,r);break;case 4:d[c].fn.call(d[c].context,t,r,a);break;default:if(!l)for(p=1,l=new Array(u-1);p<u;p++)l[p-1]=arguments[p];d[c].fn.apply(d[c].context,l)}}return!0},s.prototype.on=function(e,t,n){return i(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return i(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,a){var i=n?n+e:e;if(!this._events[i])return this;if(!t)return o(this,i),this;var s=this._events[i];if(s.fn)s.fn!==t||a&&!s.once||r&&s.context!==r||o(this,i);else{for(var l=0,c=[],d=s.length;l<d;l++)(s[l].fn!==t||a&&!s[l].once||r&&s[l].context!==r)&&c.push(s[l]);c.length?this._events[i]=1===c.length?c[0]:c:o(this,i)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&o(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},231(e){(function(){e.exports={Element:1,Attribute:2,Text:3,CData:4,EntityReference:5,EntityDeclaration:6,ProcessingInstruction:7,Comment:8,Document:9,DocType:10,DocumentFragment:11,NotationDeclaration:12,Declaration:201,Raw:202,AttributeDeclaration:203,ElementDeclaration:204,Dummy:205}}).call(this)},420(e,t,n){(function(){var t,r={}.hasOwnProperty;t=n(2652),e.exports=function(e){function t(e){t.__super__.constructor.call(this,e)}return function(e,t){for(var n in t)r.call(t,n)&&(e[n]=t[n]);function a(){this.constructor=e}a.prototype=t.prototype,e.prototype=new a,e.__super__=t.prototype}(t,e),t.prototype.document=function(e,t){var n,r,a,i,o;for(t=this.filterOptions(t),i="",r=0,a=(o=e.children).length;r<a;r++)n=o[r],i+=this.writeChildNode(n,t,0);return t.pretty&&i.slice(-t.newline.length)===t.newline&&(i=i.slice(0,-t.newline.length)),i},t}(t)}).call(this)},540(e){"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},669(e,t,n){(function(){var t,r,a={}.hasOwnProperty;t=n(231),r=n(1959),e.exports=function(e){function n(e,r,a){if(n.__super__.constructor.call(this,e),null==r)throw new Error("Missing instruction target. "+this.debugInfo());this.type=t.ProcessingInstruction,this.target=this.stringify.insTarget(r),this.name=this.target,a&&(this.value=this.stringify.insValue(a))}return function(e,t){for(var n in t)a.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(n,e),n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(e){return this.options.writer.processingInstruction(this,this.options.writer.filterOptions(e))},n.prototype.isEqualNode=function(e){return!!n.__super__.isEqualNode.apply(this,arguments).isEqualNode(e)&&e.target===this.target},n}(r)}).call(this)},690(e,t,n){(function(){var t,r,a={}.hasOwnProperty;r=n(3910),t=n(231),e.exports=function(e){function n(e,r,a){if(n.__super__.constructor.call(this,e),null==r)throw new Error("Missing DTD notation name. "+this.debugInfo(r));if(!a.pubID&&!a.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(r));this.name=this.stringify.name(r),this.type=t.NotationDeclaration,null!=a.pubID&&(this.pubID=this.stringify.dtdPubID(a.pubID)),null!=a.sysID&&(this.sysID=this.stringify.dtdSysID(a.sysID))}return function(e,t){for(var n in t)a.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(n,e),Object.defineProperty(n.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(n.prototype,"systemId",{get:function(){return this.sysID}}),n.prototype.toString=function(e){return this.options.writer.dtdNotation(this,this.options.writer.filterOptions(e))},n}(r)}).call(this)},906(e,t,n){"use strict";n.d(t,{A:()=>s});var r=n(1354),a=n.n(r),i=n(6314),o=n.n(i)()(a());o.push([e.id,".file-tree {\n  display: flex;\n  flex-direction: column;\n  gap: 2px;\n  user-select: none;\n}\n\n.file-tree-empty {\n  padding: 20px;\n  text-align: center;\n  color: var(--text-tertiary);\n}\n","",{version:3,sources:["webpack://./src/renderer/components/FileTree.css"],names:[],mappings:"AAAA;EACE,aAAa;EACb,sBAAsB;EACtB,QAAQ;EACR,iBAAiB;AACnB;;AAEA;EACE,aAAa;EACb,kBAAkB;EAClB,2BAA2B;AAC7B",sourcesContent:[".file-tree {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 2px;\r\n  user-select: none;\r\n}\r\n\r\n.file-tree-empty {\r\n  padding: 20px;\r\n  text-align: center;\r\n  color: var(--text-tertiary);\r\n}\r\n"],sourceRoot:""}]);const s=o},961(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(2551)},1113(e){"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},1354(e){"use strict";e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),a="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),i="/*# ".concat(a," */");return[t].concat([i]).join("\n")}return[t].join("\n")}},1613(e,t,n){"use strict";n.d(t,{A:()=>s});var r=n(1354),a=n.n(r),i=n(6314),o=n.n(i)()(a());o.push([e.id,'.macro-editor {\n  width: 600px;\n  max-width: 90vw;\n  max-height: 80vh;\n  display: flex;\n  flex-direction: column;\n}\n\n.macro-editor .modal-body {\n  overflow-y: auto;\n  flex: 1;\n}\n\n.macro-form {\n  margin-bottom: 20px;\n}\n\n.input-row {\n  display: flex;\n  gap: 16px;\n  align-items: flex-end;\n}\n\n.input-color {\n  width: 60px;\n  height: 40px;\n  padding: 4px;\n  cursor: pointer;\n}\n\n.checkbox-label {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  font-size: 13px;\n  color: var(--text-secondary);\n  cursor: pointer;\n  height: 40px;\n}\n\n.checkbox-label input[type="checkbox"] {\n  width: 16px;\n  height: 16px;\n  cursor: pointer;\n}\n\n.commands-section {\n  border-top: 1px solid var(--border-color);\n  padding-top: 16px;\n}\n\n.commands-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 12px;\n}\n\n.commands-header h3 {\n  margin: 0;\n  font-size: 14px;\n  font-weight: 600;\n  color: var(--text-primary);\n}\n\n.btn-sm {\n  padding: 6px 12px;\n  font-size: 12px;\n}\n\n.commands-list {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  /* Removed max-height and overflow to let modal body handle scrolling\n     and prevent dropdown clipping */\n}\n\n/* Ensure dropdowns can overflow the container */\n.command-editor {\n  overflow: visible;\n}\n\n.command-type {\n  position: relative;\n  z-index: 10;\n}\n\n.command-type select {\n  position: relative;\n}\n\n.commands-empty {\n  padding: 20px;\n  text-align: center;\n  color: var(--text-tertiary);\n  font-size: 13px;\n}\n\n.command-editor {\n  background: rgba(255, 255, 255, 0.03);\n  border: 1px solid var(--border-color);\n  border-radius: var(--radius-sm);\n  padding: 12px;\n}\n\n.command-header {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  margin-bottom: 10px;\n}\n\n.command-index {\n  width: 24px;\n  height: 24px;\n  background: var(--accent-gradient);\n  border-radius: 4px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 11px;\n  font-weight: 600;\n  color: var(--bg-primary);\n  flex-shrink: 0;\n}\n\n.command-type {\n  flex: 1;\n  max-width: 200px;\n  min-width: 160px;\n}\n\n.command-actions {\n  display: flex;\n  gap: 4px;\n  margin-left: auto;\n}\n\n.command-params {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n\n.param-row {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  flex-wrap: wrap;\n}\n\n.param-row label {\n  font-size: 11px;\n  color: var(--text-tertiary);\n  flex-shrink: 0;\n}\n\n.param-row .input {\n  flex: 1;\n  min-width: 80px;\n}\n\n.param-input {\n  max-width: 70px;\n}\n',"",{version:3,sources:["webpack://./src/renderer/components/MacroEditor.css"],names:[],mappings:"AAAA;EACE,YAAY;EACZ,eAAe;EACf,gBAAgB;EAChB,aAAa;EACb,sBAAsB;AACxB;;AAEA;EACE,gBAAgB;EAChB,OAAO;AACT;;AAEA;EACE,mBAAmB;AACrB;;AAEA;EACE,aAAa;EACb,SAAS;EACT,qBAAqB;AACvB;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,YAAY;EACZ,eAAe;AACjB;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,QAAQ;EACR,eAAe;EACf,4BAA4B;EAC5B,eAAe;EACf,YAAY;AACd;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,eAAe;AACjB;;AAEA;EACE,yCAAyC;EACzC,iBAAiB;AACnB;;AAEA;EACE,aAAa;EACb,8BAA8B;EAC9B,mBAAmB;EACnB,mBAAmB;AACrB;;AAEA;EACE,SAAS;EACT,eAAe;EACf,gBAAgB;EAChB,0BAA0B;AAC5B;;AAEA;EACE,iBAAiB;EACjB,eAAe;AACjB;;AAEA;EACE,aAAa;EACb,sBAAsB;EACtB,QAAQ;EACR;oCACkC;AACpC;;AAEA,gDAAgD;AAChD;EACE,iBAAiB;AACnB;;AAEA;EACE,kBAAkB;EAClB,WAAW;AACb;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,aAAa;EACb,kBAAkB;EAClB,2BAA2B;EAC3B,eAAe;AACjB;;AAEA;EACE,qCAAqC;EACrC,qCAAqC;EACrC,+BAA+B;EAC/B,aAAa;AACf;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,SAAS;EACT,mBAAmB;AACrB;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,kCAAkC;EAClC,kBAAkB;EAClB,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,eAAe;EACf,gBAAgB;EAChB,wBAAwB;EACxB,cAAc;AAChB;;AAEA;EACE,OAAO;EACP,gBAAgB;EAChB,gBAAgB;AAClB;;AAEA;EACE,aAAa;EACb,QAAQ;EACR,iBAAiB;AACnB;;AAEA;EACE,aAAa;EACb,sBAAsB;EACtB,QAAQ;AACV;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,QAAQ;EACR,eAAe;AACjB;;AAEA;EACE,eAAe;EACf,2BAA2B;EAC3B,cAAc;AAChB;;AAEA;EACE,OAAO;EACP,eAAe;AACjB;;AAEA;EACE,eAAe;AACjB",sourcesContent:['.macro-editor {\r\n  width: 600px;\r\n  max-width: 90vw;\r\n  max-height: 80vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.macro-editor .modal-body {\r\n  overflow-y: auto;\r\n  flex: 1;\r\n}\r\n\r\n.macro-form {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.input-row {\r\n  display: flex;\r\n  gap: 16px;\r\n  align-items: flex-end;\r\n}\r\n\r\n.input-color {\r\n  width: 60px;\r\n  height: 40px;\r\n  padding: 4px;\r\n  cursor: pointer;\r\n}\r\n\r\n.checkbox-label {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  font-size: 13px;\r\n  color: var(--text-secondary);\r\n  cursor: pointer;\r\n  height: 40px;\r\n}\r\n\r\n.checkbox-label input[type="checkbox"] {\r\n  width: 16px;\r\n  height: 16px;\r\n  cursor: pointer;\r\n}\r\n\r\n.commands-section {\r\n  border-top: 1px solid var(--border-color);\r\n  padding-top: 16px;\r\n}\r\n\r\n.commands-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 12px;\r\n}\r\n\r\n.commands-header h3 {\r\n  margin: 0;\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n  color: var(--text-primary);\r\n}\r\n\r\n.btn-sm {\r\n  padding: 6px 12px;\r\n  font-size: 12px;\r\n}\r\n\r\n.commands-list {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n  /* Removed max-height and overflow to let modal body handle scrolling\r\n     and prevent dropdown clipping */\r\n}\r\n\r\n/* Ensure dropdowns can overflow the container */\r\n.command-editor {\r\n  overflow: visible;\r\n}\r\n\r\n.command-type {\r\n  position: relative;\r\n  z-index: 10;\r\n}\r\n\r\n.command-type select {\r\n  position: relative;\r\n}\r\n\r\n.commands-empty {\r\n  padding: 20px;\r\n  text-align: center;\r\n  color: var(--text-tertiary);\r\n  font-size: 13px;\r\n}\r\n\r\n.command-editor {\r\n  background: rgba(255, 255, 255, 0.03);\r\n  border: 1px solid var(--border-color);\r\n  border-radius: var(--radius-sm);\r\n  padding: 12px;\r\n}\r\n\r\n.command-header {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.command-index {\r\n  width: 24px;\r\n  height: 24px;\r\n  background: var(--accent-gradient);\r\n  border-radius: 4px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 11px;\r\n  font-weight: 600;\r\n  color: var(--bg-primary);\r\n  flex-shrink: 0;\r\n}\r\n\r\n.command-type {\r\n  flex: 1;\r\n  max-width: 200px;\r\n  min-width: 160px;\r\n}\r\n\r\n.command-actions {\r\n  display: flex;\r\n  gap: 4px;\r\n  margin-left: auto;\r\n}\r\n\r\n.command-params {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n}\r\n\r\n.param-row {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.param-row label {\r\n  font-size: 11px;\r\n  color: var(--text-tertiary);\r\n  flex-shrink: 0;\r\n}\r\n\r\n.param-row .input {\r\n  flex: 1;\r\n  min-width: 80px;\r\n}\r\n\r\n.param-input {\r\n  max-width: 70px;\r\n}\r\n'],sourceRoot:""}]);const s=o},1635(e,t,n){"use strict";n.r(t),n.d(t,{__addDisposableResource:()=>N,__assign:()=>i,__asyncDelegator:()=>w,__asyncGenerator:()=>x,__asyncValues:()=>B,__await:()=>b,__awaiter:()=>m,__classPrivateFieldGet:()=>L,__classPrivateFieldIn:()=>O,__classPrivateFieldSet:()=>D,__createBinding:()=>A,__decorate:()=>s,__disposeResources:()=>M,__esDecorate:()=>c,__exportStar:()=>g,__extends:()=>a,__generator:()=>f,__importDefault:()=>R,__importStar:()=>I,__makeTemplateObject:()=>S,__metadata:()=>h,__param:()=>l,__propKey:()=>u,__read:()=>y,__rest:()=>o,__rewriteRelativeImportExtension:()=>U,__runInitializers:()=>d,__setFunctionName:()=>p,__spread:()=>v,__spreadArray:()=>C,__spreadArrays:()=>E,__values:()=>_,default:()=>F});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},i.apply(this,arguments)};function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}function s(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o}function l(e,t){return function(n,r){t(n,r,e)}}function c(e,t,n,r,a,i){function o(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var s,l=r.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?r.static?e:e.prototype:null,u=t||(d?Object.getOwnPropertyDescriptor(d,r.name):{}),p=!1,h=n.length-1;h>=0;h--){var m={};for(var f in r)m[f]="access"===f?{}:r[f];for(var f in r.access)m.access[f]=r.access[f];m.addInitializer=function(e){if(p)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(e||null))};var A=(0,n[h])("accessor"===l?{get:u.get,set:u.set}:u[c],m);if("accessor"===l){if(void 0===A)continue;if(null===A||"object"!=typeof A)throw new TypeError("Object expected");(s=o(A.get))&&(u.get=s),(s=o(A.set))&&(u.set=s),(s=o(A.init))&&a.unshift(s)}else(s=o(A))&&("field"===l?a.unshift(s):u[c]=s)}d&&Object.defineProperty(d,r.name,u),p=!0}function d(e,t,n){for(var r=arguments.length>2,a=0;a<t.length;a++)n=r?t[a].call(e,n):t[a].call(e);return r?n:void 0}function u(e){return"symbol"==typeof e?e:"".concat(e)}function p(e,t,n){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function h(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function m(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,s)}l((r=r.apply(e,t||[])).next())})}function f(e,t){var n,r,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1],a=s;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(s);break}a[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}var A=Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function g(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||A(t,e,n)}function _(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return o}function v(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(y(arguments[t]));return e}function E(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),a=0;for(t=0;t<n;t++)for(var i=arguments[t],o=0,s=i.length;o<s;o++,a++)r[a]=i[o];return r}function C(e,t,n){if(n||2===arguments.length)for(var r,a=0,i=t.length;a<i;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}function b(e){return this instanceof b?(this.v=e,this):new b(e)}function x(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,a=n.apply(e,t||[]),i=[];return r=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",function(e){return function(t){return Promise.resolve(t).then(e,c)}}),r[Symbol.asyncIterator]=function(){return this},r;function o(e,t){a[e]&&(r[e]=function(t){return new Promise(function(n,r){i.push([e,t,n,r])>1||s(e,t)})},t&&(r[e]=t(r[e])))}function s(e,t){try{(n=a[e](t)).value instanceof b?Promise.resolve(n.value.v).then(l,c):d(i[0][2],n)}catch(e){d(i[0][3],e)}var n}function l(e){s("next",e)}function c(e){s("throw",e)}function d(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",function(e){throw e}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,a){t[r]=e[r]?function(t){return(n=!n)?{value:b(e[r](t)),done:!1}:a?a(t):t}:a}}function B(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=_(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,a){!function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)}(r,a,(t=e[n](t)).done,t.value)})}}}function S(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var k=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},T=function(e){return T=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},T(e)};function I(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=T(e),r=0;r<n.length;r++)"default"!==n[r]&&A(t,e,n[r]);return k(t,e),t}function R(e){return e&&e.__esModule?e:{default:e}}function L(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function D(e,t,n,r,a){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!a)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?a.call(e,n):a?a.value=n:t.set(e,n),n}function O(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}function N(e,t,n){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var r,a;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(void 0===r){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(a=r)}if("function"!=typeof r)throw new TypeError("Object not disposable.");a&&(r=function(){try{a.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var P="function"==typeof SuppressedError?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function M(e){function t(t){e.error=e.hasError?new P(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}var n,r=0;return function a(){for(;n=e.stack.pop();)try{if(!n.async&&1===r)return r=0,e.stack.push(n),Promise.resolve().then(a);if(n.dispose){var i=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(i).then(a,function(e){return t(e),a()})}else r|=1}catch(e){t(e)}if(1===r)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}()}function U(e,t){return"string"==typeof e&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(e,n,r,a,i){return n?t?".jsx":".js":!r||a&&i?r+a+"."+i.toLowerCase()+"js":e}):e}const F={__extends:a,__assign:i,__rest:o,__decorate:s,__param:l,__esDecorate:c,__runInitializers:d,__propKey:u,__setFunctionName:p,__metadata:h,__awaiter:m,__generator:f,__createBinding:A,__exportStar:g,__values:_,__read:y,__spread:v,__spreadArrays:E,__spreadArray:C,__await:b,__asyncGenerator:x,__asyncDelegator:w,__asyncValues:B,__makeTemplateObject:S,__importStar:I,__importDefault:R,__classPrivateFieldGet:L,__classPrivateFieldSet:D,__classPrivateFieldIn:O,__addDisposableResource:N,__disposeResources:M,__rewriteRelativeImportExtension:U}},1657(e,t){"use strict";var n,r,a,i,o,s,l,c,d,u;Object.defineProperty(t,"__esModule",{value:!0}),t.Version=t.RouteMode=t.BlendMode=t.LockAction=t.SetVariable=t.LogCategory=t.LogLevel=t.Direction=t.TransitionTween=t.TransitionType=void 0,(u=t.TransitionType||(t.TransitionType={})).Cut="CUT",u.Mix="MIX",u.Push="PUSH",u.Wipe="WIPE",u.Slide="SLIDE",u.Sting="STING",(d=t.TransitionTween||(t.TransitionTween={})).LINEAR="LINEAR",d.NONE="EASENONE",d.IN_QUAD="EASEINQUAD",d.OUT_QUAD="EASEOUTQUAD",d.IN_OUT_QUAD="EASEINOUTQUAD",d.OUT_IN_QUAD="EASEOUTINQUAD",d.IN_CUBIC="EASEINCUBIC",d.OUT_CUBIC="EASEOUTCUBIC",d.IN_OUT_CUBIC="EASEINOUTCUBIC",d.OUT_IN_CUBIC="EASEOUTINCUBIC",d.IN_QUART="EASEINQUART",d.OUT_QUART="EASEOUTQUART",d.IN_OUT_QUART="EASEINOUTQUART",d.OUT_IN_QUART="EASEOUTINQUART",d.IN_QUINT="EASEINQUINT",d.OUT_QUINT="EASEOUTQUINT",d.IN_OUT_QUINT="EASEINOUTQUINT",d.OUT_IN_QUINT="EASEOUTINQUINT",d.IN_SINE="EASEINSINE",d.OUT_SINE="EASEOUTSINE",d.IN_OUT_SINE="EASEINOUTSINE",d.OUT_IN_SINE="EASEOUTINSINE",d.IN_EXPO="EASEINEXPO",d.OUT_EXPO="EASEOUTEXPO",d.IN_OUT_EXPO="EASEINOUTEXPO",d.OUT_IN_EXPO="EASEOUTINEXPO",d.IN_CIRC="EASEINCIRC",d.OUT_CIRC="EASEOUTCIRC",d.IN_OUT_CIRC="EASEINOUTCIRC",d.OUT_IN_CIRC="EASEOUTINCIRC",d.IN_ELASTIC="EASEINELASTIC",d.OUT_ELASTIC="EASEOUTELASTIC",d.IN_OUT_ELASTIC="EASEINOUTELASTIC",d.OUT_IN_ELASTIC="EASEOUTINELASTIC",d.IN_BACK="EASEINBACK",d.OUT_BACK="EASEOUTBACK",d.IN_OUT_BACK="EASEINOUTBACK",d.OUT_IN_BACK="EASEOUTINTBACK",d.OUT_BOUNCE="EASEOUTBOUNCE",d.IN_BOUNCE="EASEINBOUNCE",d.IN_OUT_BOUNCE="EASEINOUTBOUNCE",d.OUT_IN_BOUNCE="EASEOUTINBOUNCE",(c=t.Direction||(t.Direction={})).Left="LEFT",c.Right="RIGHT",(l=t.LogLevel||(t.LogLevel={})).Trace="trace",l.Debug="debug",l.Info="info",l.Warning="warning",l.Error="error",l.Fatal="fatal",(s=t.LogCategory||(t.LogCategory={})).Calltrace="calltrace",s.Communication="communication",(o=t.SetVariable||(t.SetVariable={})).Mode="MODE",o.Channel_layout="CHANNEL_LAYOUT",(i=t.LockAction||(t.LockAction={})).Acquire="ACQUIRE",i.Release="RELEASE",i.Clear="CLEAR",(a=t.BlendMode||(t.BlendMode={})).Normal="NORMAL",a.Lighten="LIGHTEN",a.Darken="DARKEN",a.Multiply="MULTIPLY",a.Average="AVERAGE",a.Add="ADD",a.Subtract="SUBTRACT",a.Difference="DIFFERENCE",a.Negation="NEGATION",a.Exclusion="EXCLUSION",a.Screen="SCREEN",a.Overlay="OVERLAY",a.SoftLight="SOFT LIGHT",a.HardLight="HARD LIGHT",a.ColorDodge="COLOR DODGE",a.ColorBurn="COLOR BURN",a.LinearDodge="LINEAR DODGE",a.LinearBurn="LINEAR BURN",a.LinearLight="LINEAR LIGHT",a.VividLight="VIVID LIGHT",a.PinLight="PIN LIGHT",a.HardMix="HARD MIX",a.Reflect="REFLECT",a.Glow="GLOW",a.Phoenix="PHOENIX",a.Contrast="CONTRAST",a.Saturation="SATURATION",a.Color="COLOR",a.Luminosity="LUMINOSITY",(r=t.RouteMode||(t.RouteMode={})).Background="BACKGROUND",r.Next="NEXT",(n=t.Version||(t.Version={}))[n.Unsupported=0]="Unsupported",n[n.v21x=20100]="v21x",n[n.v22x=20200]="v22x",n[n.v23x=20300]="v23x"},1859(e){(function(){var t,n,r,a,i,o,s,l=[].slice,c={}.hasOwnProperty;t=function(){var e,t,n,r,a,o;if(o=arguments[0],a=2<=arguments.length?l.call(arguments,1):[],i(Object.assign))Object.assign.apply(null,arguments);else for(e=0,n=a.length;e<n;e++)if(null!=(r=a[e]))for(t in r)c.call(r,t)&&(o[t]=r[t]);return o},i=function(e){return!!e&&"[object Function]"===Object.prototype.toString.call(e)},o=function(e){var t;return!!e&&("function"==(t=typeof e)||"object"===t)},r=function(e){return i(Array.isArray)?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)},a=function(e){var t;if(r(e))return!e.length;for(t in e)if(c.call(e,t))return!1;return!0},s=function(e){var t,n;return o(e)&&(n=Object.getPrototypeOf(e))&&(t=n.constructor)&&"function"==typeof t&&t instanceof t&&Function.prototype.toString.call(t)===Function.prototype.toString.call(Object)},n=function(e){return i(e.valueOf)?e.valueOf():e},e.exports.assign=t,e.exports.isFunction=i,e.exports.isObject=o,e.exports.isArray=r,e.exports.isEmpty=a,e.exports.isPlainObject=s,e.exports.getValue=n}).call(this)},1912(e,t,n){(function(){"use strict";var e,r,a,i,o,s,l,c,d,u=function(e,t){return function(){return e.apply(t,arguments)}},p={}.hasOwnProperty;c=n(4043),i=n(4434),e=n(3177),l=n(2114),d=n(3557).setImmediate,r=n(6465).defaults,o=function(e){return"object"==typeof e&&null!=e&&0===Object.keys(e).length},s=function(e,t,n){var r,a;for(r=0,a=e.length;r<a;r++)t=(0,e[r])(t,n);return t},a=function(e,t,n){var r;return(r=Object.create(null)).value=n,r.writable=!0,r.enumerable=!0,r.configurable=!0,Object.defineProperty(e,t,r)},t.Parser=function(n){function i(e){var n,a,i;if(this.parseStringPromise=u(this.parseStringPromise,this),this.parseString=u(this.parseString,this),this.reset=u(this.reset,this),this.assignOrPush=u(this.assignOrPush,this),this.processAsync=u(this.processAsync,this),!(this instanceof t.Parser))return new t.Parser(e);for(n in this.options={},a=r[.2])p.call(a,n)&&(i=a[n],this.options[n]=i);for(n in e)p.call(e,n)&&(i=e[n],this.options[n]=i);this.options.xmlns&&(this.options.xmlnskey=this.options.attrkey+"ns"),this.options.normalizeTags&&(this.options.tagNameProcessors||(this.options.tagNameProcessors=[]),this.options.tagNameProcessors.unshift(l.normalize)),this.reset()}return function(e,t){for(var n in t)p.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(i,n),i.prototype.processAsync=function(){var e,t;try{return this.remaining.length<=this.options.chunkSize?(e=this.remaining,this.remaining="",this.saxParser=this.saxParser.write(e),this.saxParser.close()):(e=this.remaining.substr(0,this.options.chunkSize),this.remaining=this.remaining.substr(this.options.chunkSize,this.remaining.length),this.saxParser=this.saxParser.write(e),d(this.processAsync))}catch(e){if(t=e,!this.saxParser.errThrown)return this.saxParser.errThrown=!0,this.emit(t)}},i.prototype.assignOrPush=function(e,t,n){return t in e?(e[t]instanceof Array||a(e,t,[e[t]]),e[t].push(n)):this.options.explicitArray?a(e,t,[n]):a(e,t,n)},i.prototype.reset=function(){var e,t,n,r,i;return this.removeAllListeners(),this.saxParser=c.parser(this.options.strict,{trim:!1,normalize:!1,xmlns:this.options.xmlns}),this.saxParser.errThrown=!1,this.saxParser.onerror=(i=this,function(e){if(i.saxParser.resume(),!i.saxParser.errThrown)return i.saxParser.errThrown=!0,i.emit("error",e)}),this.saxParser.onend=function(e){return function(){if(!e.saxParser.ended)return e.saxParser.ended=!0,e.emit("end",e.resultObject)}}(this),this.saxParser.ended=!1,this.EXPLICIT_CHARKEY=this.options.explicitCharkey,this.resultObject=null,r=[],e=this.options.attrkey,t=this.options.charkey,this.saxParser.onopentag=function(n){return function(i){var o,l,c,d,u;if((c={})[t]="",!n.options.ignoreAttrs)for(o in u=i.attributes)p.call(u,o)&&(e in c||n.options.mergeAttrs||(c[e]={}),l=n.options.attrValueProcessors?s(n.options.attrValueProcessors,i.attributes[o],o):i.attributes[o],d=n.options.attrNameProcessors?s(n.options.attrNameProcessors,o):o,n.options.mergeAttrs?n.assignOrPush(c,d,l):a(c[e],d,l));return c["#name"]=n.options.tagNameProcessors?s(n.options.tagNameProcessors,i.name):i.name,n.options.xmlns&&(c[n.options.xmlnskey]={uri:i.uri,local:i.local}),r.push(c)}}(this),this.saxParser.onclosetag=function(e){return function(){var n,i,l,c,d,u,h,m,f,A;if(u=r.pop(),d=u["#name"],e.options.explicitChildren&&e.options.preserveChildrenOrder||delete u["#name"],!0===u.cdata&&(n=u.cdata,delete u.cdata),f=r[r.length-1],u[t].match(/^\s*$/)&&!n?(i=u[t],delete u[t]):(e.options.trim&&(u[t]=u[t].trim()),e.options.normalize&&(u[t]=u[t].replace(/\s{2,}/g," ").trim()),u[t]=e.options.valueProcessors?s(e.options.valueProcessors,u[t],d):u[t],1===Object.keys(u).length&&t in u&&!e.EXPLICIT_CHARKEY&&(u=u[t])),o(u)&&(u="function"==typeof e.options.emptyTag?e.options.emptyTag():""!==e.options.emptyTag?e.options.emptyTag:i),null!=e.options.validator&&(A="/"+function(){var e,t,n;for(n=[],e=0,t=r.length;e<t;e++)c=r[e],n.push(c["#name"]);return n}().concat(d).join("/"),function(){var t;try{return u=e.options.validator(A,f&&f[d],u)}catch(n){return t=n,e.emit("error",t)}}()),e.options.explicitChildren&&!e.options.mergeAttrs&&"object"==typeof u)if(e.options.preserveChildrenOrder){if(f){for(l in f[e.options.childkey]=f[e.options.childkey]||[],h={},u)p.call(u,l)&&a(h,l,u[l]);f[e.options.childkey].push(h),delete u["#name"],1===Object.keys(u).length&&t in u&&!e.EXPLICIT_CHARKEY&&(u=u[t])}}else c={},e.options.attrkey in u&&(c[e.options.attrkey]=u[e.options.attrkey],delete u[e.options.attrkey]),!e.options.charsAsChildren&&e.options.charkey in u&&(c[e.options.charkey]=u[e.options.charkey],delete u[e.options.charkey]),Object.getOwnPropertyNames(u).length>0&&(c[e.options.childkey]=u),u=c;return r.length>0?e.assignOrPush(f,d,u):(e.options.explicitRoot&&(m=u,a(u={},d,m)),e.resultObject=u,e.saxParser.ended=!0,e.emit("end",e.resultObject))}}(this),n=function(e){return function(n){var a,i;if(i=r[r.length-1])return i[t]+=n,e.options.explicitChildren&&e.options.preserveChildrenOrder&&e.options.charsAsChildren&&(e.options.includeWhiteChars||""!==n.replace(/\\n/g,"").trim())&&(i[e.options.childkey]=i[e.options.childkey]||[],(a={"#name":"__text__"})[t]=n,e.options.normalize&&(a[t]=a[t].replace(/\s{2,}/g," ").trim()),i[e.options.childkey].push(a)),i}}(this),this.saxParser.ontext=n,this.saxParser.oncdata=function(e){var t;if(t=n(e))return t.cdata=!0}},i.prototype.parseString=function(t,n){var r;null!=n&&"function"==typeof n&&(this.on("end",function(e){return this.reset(),n(null,e)}),this.on("error",function(e){return this.reset(),n(e)}));try{return""===(t=t.toString()).trim()?(this.emit("end",null),!0):(t=e.stripBOM(t),this.options.async?(this.remaining=t,d(this.processAsync),this.saxParser):this.saxParser.write(t).close())}catch(e){if(r=e,!this.saxParser.errThrown&&!this.saxParser.ended)return this.emit("error",r),this.saxParser.errThrown=!0;if(this.saxParser.ended)throw r}},i.prototype.parseStringPromise=function(e){return new Promise((t=this,function(n,r){return t.parseString(e,function(e,t){return e?r(e):n(t)})}));var t},i}(i),t.parseString=function(e,n,r){var a,i;return null!=r?("function"==typeof r&&(a=r),"object"==typeof n&&(i=n)):("function"==typeof n&&(a=n),i={}),new t.Parser(i).parseString(e,a)},t.parseStringPromise=function(e,n){var r;return"object"==typeof n&&(r=n),new t.Parser(r).parseStringPromise(e)}}).call(this)},1959(e,t,n){(function(){var t,r={}.hasOwnProperty;t=n(3910),e.exports=function(e){function t(e){t.__super__.constructor.call(this,e),this.value=""}return function(e,t){for(var n in t)r.call(t,n)&&(e[n]=t[n]);function a(){this.constructor=e}a.prototype=t.prototype,e.prototype=new a,e.__super__=t.prototype}(t,e),Object.defineProperty(t.prototype,"data",{get:function(){return this.value},set:function(e){return this.value=e||""}}),Object.defineProperty(t.prototype,"length",{get:function(){return this.value.length}}),Object.defineProperty(t.prototype,"textContent",{get:function(){return this.value},set:function(e){return this.value=e||""}}),t.prototype.clone=function(){return Object.create(this)},t.prototype.substringData=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.appendData=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.insertData=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.deleteData=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.replaceData=function(e,t,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.isEqualNode=function(e){return!!t.__super__.isEqualNode.apply(this,arguments).isEqualNode(e)&&e.data===this.data},t}(t)}).call(this)},1998(e,t,n){(function(){var t,r,a,i,o,s,l,c,d={}.hasOwnProperty;c=n(1859).isObject,l=n(3910),t=n(231),r=n(5109),i=n(4059),a=n(9790),o=n(690),s=n(8339),e.exports=function(e){function n(e,r,a){var i,o,s,l,d,u;if(n.__super__.constructor.call(this,e),this.type=t.DocType,e.children)for(o=0,s=(l=e.children).length;o<s;o++)if((i=l[o]).type===t.Element){this.name=i.name;break}this.documentObject=e,c(r)&&(r=(d=r).pubID,a=d.sysID),null==a&&(a=(u=[r,a])[0],r=u[1]),null!=r&&(this.pubID=this.stringify.dtdPubID(r)),null!=a&&(this.sysID=this.stringify.dtdSysID(a))}return function(e,t){for(var n in t)d.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(n,e),Object.defineProperty(n.prototype,"entities",{get:function(){var e,n,r,a,i;for(a={},n=0,r=(i=this.children).length;n<r;n++)(e=i[n]).type!==t.EntityDeclaration||e.pe||(a[e.name]=e);return new s(a)}}),Object.defineProperty(n.prototype,"notations",{get:function(){var e,n,r,a,i;for(a={},n=0,r=(i=this.children).length;n<r;n++)(e=i[n]).type===t.NotationDeclaration&&(a[e.name]=e);return new s(a)}}),Object.defineProperty(n.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(n.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(n.prototype,"internalSubset",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),n.prototype.element=function(e,t){var n;return n=new a(this,e,t),this.children.push(n),this},n.prototype.attList=function(e,t,n,a,i){var o;return o=new r(this,e,t,n,a,i),this.children.push(o),this},n.prototype.entity=function(e,t){var n;return n=new i(this,!1,e,t),this.children.push(n),this},n.prototype.pEntity=function(e,t){var n;return n=new i(this,!0,e,t),this.children.push(n),this},n.prototype.notation=function(e,t){var n;return n=new o(this,e,t),this.children.push(n),this},n.prototype.toString=function(e){return this.options.writer.docType(this,this.options.writer.filterOptions(e))},n.prototype.ele=function(e,t){return this.element(e,t)},n.prototype.att=function(e,t,n,r,a){return this.attList(e,t,n,r,a)},n.prototype.ent=function(e,t){return this.entity(e,t)},n.prototype.pent=function(e,t){return this.pEntity(e,t)},n.prototype.not=function(e,t){return this.notation(e,t)},n.prototype.up=function(){return this.root()||this.documentObject},n.prototype.isEqualNode=function(e){return!!n.__super__.isEqualNode.apply(this,arguments).isEqualNode(e)&&e.name===this.name&&e.publicId===this.publicId&&e.systemId===this.systemId},n}(l)}).call(this)},2037(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deserializeInfoConfig=void 0;const r=n(3130),a=n(3130);function i(e){const t=e.paths?.[0];return t?{media:(0,a.parseString)(t,"media-path"),logs:(0,a.parseString)(t,"log-path"),data:(0,a.parseString)(t,"data-path"),templates:(0,a.parseString)(t,"template-path")}:void 0}function o(e){const t=e.channels?.[0]?.channel;if(Array.isArray(t))return t.map(e=>{return{videoMode:(0,a.parseString)(e,"video-mode"),consumers:(n=e.consumers?.[0],n?["decklink","bluefish","ffmpeg","ndi","newtek-ivga","screen","system-audio"].flatMap(e=>{const t=n[e];return Array.isArray(t)?t.flatMap(t=>function(e,t){switch(e){case"decklink":{const n=t.subregion?.[0];return{type:e,device:(0,a.parseNumber)(t,"device"),latency:(0,a.parseString)(t,"latency"),bufferDepth:(0,a.parseNumber)(t,"buffer-depth"),embeddedAudio:(0,a.parseBoolean)(t,"embedded-audio"),keyDevice:(0,a.parseNumber)(t,"key-device"),keyer:(0,a.parseString)(t,"keyer"),keyOnly:(0,a.parseBoolean)(t,"key-only"),subregion:n?{srcX:(0,a.parseNumber)(t,"src-x"),srcY:(0,a.parseNumber)(t,"src-y"),destX:(0,a.parseNumber)(t,"dest-x"),destY:(0,a.parseNumber)(t,"dest-y"),width:(0,a.parseNumber)(t,"width"),height:(0,a.parseNumber)(t,"height")}:void 0,videoMode:(0,a.parseString)(t,"video-mode")}}case"bluefish":return{type:e,device:(0,a.parseNumber)(t,"device"),embeddedAudio:(0,a.parseBoolean)(t,"embedded-audio"),internalKeyerAudioSource:(0,a.parseString)(t,"internal-keyer-audio-source"),keyer:(0,a.parseString)(t,"keyer"),sdiStream:(0,a.parseNumber)(t,"sdi-stream"),uhdMode:(0,a.parseNumber)(t,"uhd-mode"),watchdog:(0,a.parseNumber)(t,"watchdog")};case"ffmpeg":return{type:e,args:(0,a.parseString)(t,"args"),path:(0,a.parseString)(t,"path")};case"ndi":return{type:e,allowFields:(0,a.parseBoolean)(t,"allow-fields"),name:(0,a.parseString)(t,"name")};case"newtek-ivga":return{type:e};case"system-audio":return{type:e,channelLayout:(0,a.parseString)(t,"channel-layout"),latency:(0,a.parseNumber)(t,"latency")};case"screen":return{type:e,alwaysOnTop:(0,a.parseBoolean)(t,"always-on-top"),aspectRatio:(0,a.parseString)(t,"aspect-ratio"),borderless:(0,a.parseBoolean)(t,"borderless"),colourSpace:(0,a.parseString)(t,"colour-space"),device:(0,a.parseNumber)(t,"device"),interactive:(0,a.parseBoolean)(t,"interactive"),keyOnly:(0,a.parseBoolean)(t,"key-only"),sbsKey:(0,a.parseBoolean)(t,"sbs-key"),stretch:(0,a.parseString)(t,"stretch"),vsync:(0,a.parseBoolean)(t,"vsync"),width:(0,a.parseNumber)(t,"width"),height:(0,a.parseNumber)(t,"height"),windowed:(0,a.parseBoolean)(t,"windowed"),x:(0,a.parseNumber)(t,"x"),y:(0,a.parseNumber)(t,"y")}}}(e,t)):[]}):[]),producers:(t=e.producers?.[0],Array.isArray(t?.producer)?t.producer.map(e=>({id:parseFloat(e?.$?.id),producer:e?._})):[])};var t,n})}function s(e){const t=e?.amcp?.[0]?.["media-server"]?.[0];return t?{mediaServer:{host:(0,a.parseString)(t,"host"),port:(0,a.parseNumber)(t,"port")}}:void 0}function l(e){const t=e?.controllers?.[0]?.tcp?.[0];return t?{tcp:{port:(0,a.parseNumber)(t,"port"),protocol:(0,a.parseString)(t,"protocol")}}:void 0}function c(e){const t=e?.ffmpeg?.[0]?.producer?.[0];return t?{producer:{threads:(0,a.parseNumber)(t,"threads"),autoDeinterlace:(0,a.parseString)(t,"auto-deinterlace")}}:void 0}function d(e){const t=e?.html?.[0];return t?{enableGpu:(0,a.parseBoolean)(t,"enable-gpu"),remoteDebuggingPort:(0,a.parseNumber)(t,"remote-debugging-port")}:void 0}function u(e){const t=e?.ndi?.[0];return t?{autoLoad:(0,a.parseBoolean)(t,"auto-load")}:void 0}function p(e){const t=e?.osc?.[0],n=t?.["predefined-clients"]?.[0]?.["predefined-client"];return t?{defaulPort:(0,a.parseNumber)(t,"default-port"),disableSendToAmcpClients:(0,a.parseBoolean)(t,"disable-send-to-amcp-clients"),predefinedClients:Array.isArray(n)?n.map(e=>({address:(0,a.parseString)(e,"address"),port:(0,a.parseNumber)(e,"port")})):void 0}:void 0}function h(e){const t=e?.["template-hosts"]?.[0]?.["template-host"];return Array.isArray(t)?t.map(e=>({videoMode:(0,a.parseString)(e,"video-mode"),fileName:(0,a.parseString)(e,"filename"),width:(0,a.parseNumber)(e,"width"),height:(0,a.parseNumber)(e,"height")})):void 0}function m(e){const t=e?.["video-modes"]?.[0]?.["video-mode"];return Array.isArray(t)?t.map(e=>({id:(0,a.parseString)(e,"id"),width:(0,a.parseNumber)(e,"width"),height:(0,a.parseNumber)(e,"height"),timeScale:(0,a.parseNumber)(e,"time-scale"),duration:(0,a.parseNumber)(e,"duration"),cadence:(0,a.parseNumber)(e,"cadence")})):void 0}t.deserializeInfoConfig=async e=>{if(!e.startsWith("<?xml"))return{rawXml:e};const t=await(0,r.deserializeXML)(e,{explicitCharkey:!0});if(!t?.configuration)return{raw:t,rawXml:e};const n=t.configuration;return{logLevel:(0,a.parseString)(n,"log-level"),paths:i(n),channels:o(n),lockClearPhrase:(0,a.parseString)(n,"lock-clear-phrase"),amcp:s(n),controllers:l(n),ffmpeg:c(n),html:d(n),ndi:u(n),osc:p(n),templateHosts:h(n),videoModes:m(n),raw:t,rawXml:e}}},2114(e,t){(function(){"use strict";var e;e=new RegExp(/(?!xmlns)^.*:/),t.normalize=function(e){return e.toLowerCase()},t.firstCharLowerCase=function(e){return e.charAt(0).toLowerCase()+e.slice(1)},t.stripPrefix=function(t){return t.replace(e,"")},t.parseNumbers=function(e){return isNaN(e)||(e=e%1==0?parseInt(e,10):parseFloat(e)),e},t.parseBooleans=function(e){return/^(?:true|false)$/i.test(e)&&(e="true"===e.toLowerCase()),e}}).call(this)},2152(e,t,n){(function(){var t,r,a,i={}.hasOwnProperty;a=n(1859).isObject,r=n(3910),t=n(231),e.exports=function(e){function n(e,r,i,o){var s;n.__super__.constructor.call(this,e),a(r)&&(r=(s=r).version,i=s.encoding,o=s.standalone),r||(r="1.0"),this.type=t.Declaration,this.version=this.stringify.xmlVersion(r),null!=i&&(this.encoding=this.stringify.xmlEncoding(i)),null!=o&&(this.standalone=this.stringify.xmlStandalone(o))}return function(e,t){for(var n in t)i.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(n,e),n.prototype.toString=function(e){return this.options.writer.declaration(this,this.options.writer.filterOptions(e))},n}(r)}).call(this)},2203(e){"use strict";e.exports=require("stream")},2309(e,t,n){"use strict";n.d(t,{A:()=>s});var r=n(1354),a=n.n(r),i=n(6314),o=n.n(i)()(a());o.push([e.id,".rundown-list {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n\n.rundown-list-header {\n  display: flex;\n  gap: 6px;\n  padding: 12px;\n  border-bottom: 1px solid var(--border-color);\n}\n\n.rundown-list-header .btn-primary,\n.rundown-list-header .btn-secondary {\n  flex: 1;\n  justify-content: center;\n}\n\n.rundown-list-header .btn-secondary {\n  background: rgba(255, 255, 255, 0.1);\n  color: var(--text-secondary);\n}\n\n.rundown-list-header .btn-secondary:hover {\n  background: rgba(255, 255, 255, 0.15);\n  color: var(--text-primary);\n}\n\n.rundown-list-header .btn-icon {\n  flex-shrink: 0;\n}\n\n.rundown-error {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 8px 12px;\n  margin: 8px 12px 0;\n  background: rgba(255, 68, 68, 0.1);\n  border: 1px solid rgba(255, 68, 68, 0.3);\n  border-radius: var(--radius-sm);\n  color: var(--error-light);\n  font-size: 12px;\n}\n\n.save-dialog {\n  padding: 12px;\n  border-bottom: 1px solid var(--border-color);\n  background: rgba(255, 255, 255, 0.02);\n}\n\n.save-dialog input {\n  width: 100%;\n  margin-bottom: 8px;\n}\n\n.save-dialog-actions {\n  display: flex;\n  gap: 8px;\n  justify-content: flex-end;\n}\n\n.rundown-items {\n  flex: 1;\n  overflow-y: auto;\n  padding: 8px;\n}\n\n.rundown-empty {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 40px 20px;\n  text-align: center;\n  color: var(--text-tertiary);\n}\n\n.rundown-empty svg {\n  margin-bottom: 12px;\n}\n\n.rundown-empty p {\n  margin: 0 0 4px;\n  font-size: 13px;\n}\n\n.rundown-empty .text-sm {\n  font-size: 11px;\n}\n\n.rundown-item {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  padding: 10px 12px;\n  background: rgba(255, 255, 255, 0.03);\n  border-radius: var(--radius-sm);\n  margin-bottom: 6px;\n  transition: all var(--transition);\n}\n\n.rundown-item:hover {\n  background: rgba(255, 255, 255, 0.06);\n}\n\n.rundown-icon {\n  width: 36px;\n  height: 36px;\n  background: var(--accent-gradient);\n  border-radius: 6px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: var(--bg-primary);\n  flex-shrink: 0;\n}\n\n.rundown-info {\n  flex: 1;\n  min-width: 0;\n  display: flex;\n  flex-direction: column;\n  gap: 2px;\n}\n\n.rundown-name {\n  font-size: 13px;\n  font-weight: 500;\n  color: var(--text-primary);\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.rundown-meta {\n  font-size: 11px;\n  color: var(--text-tertiary);\n}\n\n.rundown-actions {\n  display: flex;\n  gap: 6px;\n  flex-shrink: 0;\n}\n\n.rundown-actions .btn-sm {\n  padding: 5px 10px;\n  font-size: 11px;\n}\n\n/* Larger delete button for better visibility */\n.rundown-actions .btn-danger-icon {\n  width: 32px;\n  height: 32px;\n  padding: 6px;\n  border-radius: 6px;\n  background: rgba(255, 68, 68, 0.1);\n  border: none;\n  color: var(--error-light);\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all var(--transition);\n}\n\n.rundown-actions .btn-danger-icon:hover {\n  background: rgba(255, 68, 68, 0.2);\n}\n\n.rundown-actions .btn-danger-icon svg {\n  width: 16px;\n  height: 16px;\n}\n","",{version:3,sources:["webpack://./src/renderer/components/RundownList.css"],names:[],mappings:"AAAA;EACE,YAAY;EACZ,aAAa;EACb,sBAAsB;AACxB;;AAEA;EACE,aAAa;EACb,QAAQ;EACR,aAAa;EACb,4CAA4C;AAC9C;;AAEA;;EAEE,OAAO;EACP,uBAAuB;AACzB;;AAEA;EACE,oCAAoC;EACpC,4BAA4B;AAC9B;;AAEA;EACE,qCAAqC;EACrC,0BAA0B;AAC5B;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,QAAQ;EACR,iBAAiB;EACjB,kBAAkB;EAClB,kCAAkC;EAClC,wCAAwC;EACxC,+BAA+B;EAC/B,yBAAyB;EACzB,eAAe;AACjB;;AAEA;EACE,aAAa;EACb,4CAA4C;EAC5C,qCAAqC;AACvC;;AAEA;EACE,WAAW;EACX,kBAAkB;AACpB;;AAEA;EACE,aAAa;EACb,QAAQ;EACR,yBAAyB;AAC3B;;AAEA;EACE,OAAO;EACP,gBAAgB;EAChB,YAAY;AACd;;AAEA;EACE,aAAa;EACb,sBAAsB;EACtB,mBAAmB;EACnB,uBAAuB;EACvB,kBAAkB;EAClB,kBAAkB;EAClB,2BAA2B;AAC7B;;AAEA;EACE,mBAAmB;AACrB;;AAEA;EACE,eAAe;EACf,eAAe;AACjB;;AAEA;EACE,eAAe;AACjB;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,SAAS;EACT,kBAAkB;EAClB,qCAAqC;EACrC,+BAA+B;EAC/B,kBAAkB;EAClB,iCAAiC;AACnC;;AAEA;EACE,qCAAqC;AACvC;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,kCAAkC;EAClC,kBAAkB;EAClB,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,wBAAwB;EACxB,cAAc;AAChB;;AAEA;EACE,OAAO;EACP,YAAY;EACZ,aAAa;EACb,sBAAsB;EACtB,QAAQ;AACV;;AAEA;EACE,eAAe;EACf,gBAAgB;EAChB,0BAA0B;EAC1B,mBAAmB;EACnB,gBAAgB;EAChB,uBAAuB;AACzB;;AAEA;EACE,eAAe;EACf,2BAA2B;AAC7B;;AAEA;EACE,aAAa;EACb,QAAQ;EACR,cAAc;AAChB;;AAEA;EACE,iBAAiB;EACjB,eAAe;AACjB;;AAEA,+CAA+C;AAC/C;EACE,WAAW;EACX,YAAY;EACZ,YAAY;EACZ,kBAAkB;EAClB,kCAAkC;EAClC,YAAY;EACZ,yBAAyB;EACzB,eAAe;EACf,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,iCAAiC;AACnC;;AAEA;EACE,kCAAkC;AACpC;;AAEA;EACE,WAAW;EACX,YAAY;AACd",sourcesContent:[".rundown-list {\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.rundown-list-header {\r\n  display: flex;\r\n  gap: 6px;\r\n  padding: 12px;\r\n  border-bottom: 1px solid var(--border-color);\r\n}\r\n\r\n.rundown-list-header .btn-primary,\r\n.rundown-list-header .btn-secondary {\r\n  flex: 1;\r\n  justify-content: center;\r\n}\r\n\r\n.rundown-list-header .btn-secondary {\r\n  background: rgba(255, 255, 255, 0.1);\r\n  color: var(--text-secondary);\r\n}\r\n\r\n.rundown-list-header .btn-secondary:hover {\r\n  background: rgba(255, 255, 255, 0.15);\r\n  color: var(--text-primary);\r\n}\r\n\r\n.rundown-list-header .btn-icon {\r\n  flex-shrink: 0;\r\n}\r\n\r\n.rundown-error {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  padding: 8px 12px;\r\n  margin: 8px 12px 0;\r\n  background: rgba(255, 68, 68, 0.1);\r\n  border: 1px solid rgba(255, 68, 68, 0.3);\r\n  border-radius: var(--radius-sm);\r\n  color: var(--error-light);\r\n  font-size: 12px;\r\n}\r\n\r\n.save-dialog {\r\n  padding: 12px;\r\n  border-bottom: 1px solid var(--border-color);\r\n  background: rgba(255, 255, 255, 0.02);\r\n}\r\n\r\n.save-dialog input {\r\n  width: 100%;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.save-dialog-actions {\r\n  display: flex;\r\n  gap: 8px;\r\n  justify-content: flex-end;\r\n}\r\n\r\n.rundown-items {\r\n  flex: 1;\r\n  overflow-y: auto;\r\n  padding: 8px;\r\n}\r\n\r\n.rundown-empty {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 40px 20px;\r\n  text-align: center;\r\n  color: var(--text-tertiary);\r\n}\r\n\r\n.rundown-empty svg {\r\n  margin-bottom: 12px;\r\n}\r\n\r\n.rundown-empty p {\r\n  margin: 0 0 4px;\r\n  font-size: 13px;\r\n}\r\n\r\n.rundown-empty .text-sm {\r\n  font-size: 11px;\r\n}\r\n\r\n.rundown-item {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n  padding: 10px 12px;\r\n  background: rgba(255, 255, 255, 0.03);\r\n  border-radius: var(--radius-sm);\r\n  margin-bottom: 6px;\r\n  transition: all var(--transition);\r\n}\r\n\r\n.rundown-item:hover {\r\n  background: rgba(255, 255, 255, 0.06);\r\n}\r\n\r\n.rundown-icon {\r\n  width: 36px;\r\n  height: 36px;\r\n  background: var(--accent-gradient);\r\n  border-radius: 6px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  color: var(--bg-primary);\r\n  flex-shrink: 0;\r\n}\r\n\r\n.rundown-info {\r\n  flex: 1;\r\n  min-width: 0;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 2px;\r\n}\r\n\r\n.rundown-name {\r\n  font-size: 13px;\r\n  font-weight: 500;\r\n  color: var(--text-primary);\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n.rundown-meta {\r\n  font-size: 11px;\r\n  color: var(--text-tertiary);\r\n}\r\n\r\n.rundown-actions {\r\n  display: flex;\r\n  gap: 6px;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.rundown-actions .btn-sm {\r\n  padding: 5px 10px;\r\n  font-size: 11px;\r\n}\r\n\r\n/* Larger delete button for better visibility */\r\n.rundown-actions .btn-danger-icon {\r\n  width: 32px;\r\n  height: 32px;\r\n  padding: 6px;\r\n  border-radius: 6px;\r\n  background: rgba(255, 68, 68, 0.1);\r\n  border: none;\r\n  color: var(--error-light);\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  transition: all var(--transition);\r\n}\r\n\r\n.rundown-actions .btn-danger-icon:hover {\r\n  background: rgba(255, 68, 68, 0.2);\r\n}\r\n\r\n.rundown-actions .btn-danger-icon svg {\r\n  width: 16px;\r\n  height: 16px;\r\n}\r\n"],sourceRoot:""}]);const s=o},2537(e,t,n){(function(){var t,r,a={}.hasOwnProperty;t=n(231),r=n(1959),e.exports=function(e){function n(e,r){if(n.__super__.constructor.call(this,e),null==r)throw new Error("Missing element text. "+this.debugInfo());this.name="#text",this.type=t.Text,this.value=this.stringify.text(r)}return function(e,t){for(var n in t)a.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(n,e),Object.defineProperty(n.prototype,"isElementContentWhitespace",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(n.prototype,"wholeText",{get:function(){var e,t,n;for(n="",t=this.previousSibling;t;)n=t.data+n,t=t.previousSibling;for(n+=this.data,e=this.nextSibling;e;)n+=e.data,e=e.nextSibling;return n}}),n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(e){return this.options.writer.text(this,this.options.writer.filterOptions(e))},n.prototype.splitText=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.replaceWholeText=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n}(r)}).call(this)},2551(e,t,n){"use strict";var r=n(6540),a=n(9982);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var d=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),u=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},m={};function f(e,t,n,r,a,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){A[e]=new f(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];A[t]=new f(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){A[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){A[e]=new f(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){A[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){A[e]=new f(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){A[e]=new f(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){A[e]=new f(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){A[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)});var g=/[\-:]([a-z])/g;function _(e){return e[1].toUpperCase()}function y(e,t,n,r){var a=A.hasOwnProperty(t)?A[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!u.call(m,e)||!u.call(h,e)&&(p.test(e)?m[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(g,_);A[t]=new f(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(g,_);A[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(g,_);A[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){A[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)}),A.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){A[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)});var v=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),C=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),S=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),L=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function N(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=O&&e[O]||e["@@iterator"])?e:null}var P,M=Object.assign;function U(e){if(void 0===P)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);P=t&&t[1]||""}return"\n"+P+e}var F=!1;function z(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var a=t.stack.split("\n"),i=r.stack.split("\n"),o=a.length-1,s=i.length-1;1<=o&&0<=s&&a[o]!==i[s];)s--;for(;1<=o&&0<=s;o--,s--)if(a[o]!==i[s]){if(1!==o||1!==s)do{if(o--,0>--s||a[o]!==i[s]){var l="\n"+a[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function j(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return z(e.type,!1);case 11:return z(e.type.render,!1);case 1:return z(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case b:return"Fragment";case C:return"Portal";case w:return"Profiler";case x:return"StrictMode";case T:return"Suspense";case I:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case S:return(e.displayName||"Context")+".Consumer";case B:return(e._context.displayName||"Context")+".Provider";case k:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case L:t=e._payload,e=e._init;try{return V(e(t))}catch(e){}}return null}function G(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function Z(e,t){X(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function ie(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return de(e,t)})}:de);function pe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];function fe(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function Ae(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=fe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(he).forEach(function(e){me.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]})});var ge=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _e(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(i(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ve=null;function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ce=null,be=null,xe=null;function we(e){if(e=ya(e)){if("function"!=typeof Ce)throw Error(i(280));var t=e.stateNode;t&&(t=Ea(t),Ce(e.stateNode,e.type,t))}}function Be(e){be?xe?xe.push(e):xe=[e]:be=e}function Se(){if(be){var e=be,t=xe;if(xe=be=null,we(e),t)for(e=0;e<t.length;e++)we(t[e])}}function ke(e,t){return e(t)}function Te(){}var Ie=!1;function Re(e,t,n){if(Ie)return e(t,n);Ie=!0;try{return ke(e,t,n)}finally{Ie=!1,(null!==be||null!==xe)&&(Te(),Se())}}function Le(e,t){var n=e.stateNode;if(null===n)return null;var r=Ea(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(i(231,t,typeof n));return n}var De=!1;if(d)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){De=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(de){De=!1}function Ne(e,t,n,r,a,i,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var Pe=!1,Me=null,Ue=!1,Fe=null,ze={onError:function(e){Pe=!0,Me=e}};function je(e,t,n,r,a,i,o,s,l){Pe=!1,Me=null,Ne.apply(ze,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ge(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function qe(e){if(Ve(e)!==e)throw Error(i(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var o=a.alternate;if(null===o){if(null!==(r=a.return)){n=r;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return qe(a),e;if(o===r)return qe(a),t;o=o.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=o;else{for(var s=!1,l=a.child;l;){if(l===n){s=!0,n=a,r=o;break}if(l===r){s=!0,r=a,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=a;break}if(l===r){s=!0,r=o,n=a;break}l=l.sibling}if(!s)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Ye=a.unstable_scheduleCallback,Qe=a.unstable_cancelCallback,Ke=a.unstable_shouldYield,$e=a.unstable_requestPaint,Xe=a.unstable_now,Ze=a.unstable_getCurrentPriorityLevel,Je=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,it=null,ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2,ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~a;0!==s?r=ut(s):0!==(i&=o)&&(r=ut(i))}else 0!==(o=n&~a)?r=ut(o):0!==i&&(r=ut(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(i=t&-t)||16===a&&4194240&i))return t;if(4&r&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-ot(t)),r|=e[n],t&=~a;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function mt(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ft(){var e=ct;return!(4194240&(ct<<=1))&&(ct=64),e}function At(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function _t(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var yt=0;function vt(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var Et,Ct,bt,xt,wt,Bt=!1,St=[],kt=null,Tt=null,It=null,Rt=new Map,Lt=new Map,Dt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nt(e,t){switch(e){case"focusin":case"focusout":kt=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lt.delete(t.pointerId)}}function Pt(e,t,n,r,a,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},null!==t&&null!==(t=ya(t))&&Ct(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Mt(e){var t=_a(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ge(n)))return e.blockedOn=t,void wt(e.priority,function(){bt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ya(n))&&Ct(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ve=r,n.target.dispatchEvent(r),ve=null,t.shift()}return!0}function Ft(e,t,n){Ut(e)&&n.delete(t)}function zt(){Bt=!1,null!==kt&&Ut(kt)&&(kt=null),null!==Tt&&Ut(Tt)&&(Tt=null),null!==It&&Ut(It)&&(It=null),Rt.forEach(Ft),Lt.forEach(Ft)}function jt(e,t){e.blockedOn===t&&(e.blockedOn=null,Bt||(Bt=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,zt)))}function Vt(e){function t(t){return jt(t,e)}if(0<St.length){jt(St[0],e);for(var n=1;n<St.length;n++){var r=St[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==kt&&jt(kt,e),null!==Tt&&jt(Tt,e),null!==It&&jt(It,e),Rt.forEach(t),Lt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Dt.shift()}var Gt=v.ReactCurrentBatchConfig,qt=!0;function Wt(e,t,n,r){var a=yt,i=Gt.transition;Gt.transition=null;try{yt=1,Yt(e,t,n,r)}finally{yt=a,Gt.transition=i}}function Ht(e,t,n,r){var a=yt,i=Gt.transition;Gt.transition=null;try{yt=4,Yt(e,t,n,r)}finally{yt=a,Gt.transition=i}}function Yt(e,t,n,r){if(qt){var a=Kt(e,t,n,r);if(null===a)qr(e,t,r,Qt,n),Nt(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return kt=Pt(kt,e,t,n,r,a),!0;case"dragenter":return Tt=Pt(Tt,e,t,n,r,a),!0;case"mouseover":return It=Pt(It,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return Rt.set(i,Pt(Rt.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,Lt.set(i,Pt(Lt.get(i)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Nt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==a;){var i=ya(a);if(null!==i&&Et(i),null===(i=Kt(e,t,n,r))&&qr(e,t,r,Qt,n),i===a)break;a=i}null!==a&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Qt=null;function Kt(e,t,n,r){if(Qt=null,null!==(e=_a(e=Ee(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ge(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Zt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Zt,r=n.length,a="value"in Xt?Xt.value:Xt.textContent,i=a.length;for(e=0;e<r&&n[e]===a[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===a[i-t];t++);return Jt=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,i){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(a):a[o]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=an(cn),un=M({},cn,{view:0,detail:0}),pn=an(un),hn=M({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),mn=an(hn),fn=an(M({},hn,{dataTransfer:0})),An=an(M({},un,{relatedTarget:0})),gn=an(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),_n=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yn=an(_n),vn=an(M({},cn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=bn[e])&&!!t[e]}function wn(){return xn}var Bn=M({},un,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Cn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Sn=an(Bn),kn=an(M({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=an(M({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wn})),In=an(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=M({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=an(Rn),Dn=[9,13,27,32],On=d&&"CompositionEvent"in window,Nn=null;d&&"documentMode"in document&&(Nn=document.documentMode);var Pn=d&&"TextEvent"in window&&!Nn,Mn=d&&(!On||Nn&&8<Nn&&11>=Nn),Un=String.fromCharCode(32),Fn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1,Gn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Gn[e.type]:"textarea"===t}function Wn(e,t,n,r){Be(r),0<(t=Hr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Yn=null;function Qn(e){Ur(e,0)}function Kn(e){if(Y(va(e)))return e}function $n(e,t){if("change"===e)return t}var Xn=!1;if(d){var Zn;if(d){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"==typeof er.oninput}Zn=Jn}else Zn=!1;Xn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Yn=Hn=null)}function nr(e){if("value"===e.propertyName&&Kn(Yn)){var t=[];Wn(t,Yn,e,Ee(e)),Re(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Yn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(Yn)}function ir(e,t){if("click"===e)return Kn(t)}function or(e,t){if("input"===e||"change"===e)return Kn(t)}var sr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function lr(e,t){if(sr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!u.call(t,a)||!sr(e[a],t[a]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function ur(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ur(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function pr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function mr(e){var t=pr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ur(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=void 0===r.end?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=dr(n,i);var o=dr(n,r);a&&o&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fr=d&&"documentMode"in document&&11>=document.documentMode,Ar=null,gr=null,_r=null,yr=!1;function vr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==Ar||Ar!==Q(r)||(r="selectionStart"in(r=Ar)&&hr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},_r&&lr(_r,r)||(_r=r,0<(r=Hr(gr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ar)))}function Er(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Cr={animationend:Er("Animation","AnimationEnd"),animationiteration:Er("Animation","AnimationIteration"),animationstart:Er("Animation","AnimationStart"),transitionend:Er("Transition","TransitionEnd")},br={},xr={};function wr(e){if(br[e])return br[e];if(!Cr[e])return e;var t,n=Cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in xr)return br[e]=n[t];return e}d&&(xr=document.createElement("div").style,"AnimationEvent"in window||(delete Cr.animationend.animation,delete Cr.animationiteration.animation,delete Cr.animationstart.animation),"TransitionEvent"in window||delete Cr.transitionend.transition);var Br=wr("animationend"),Sr=wr("animationiteration"),kr=wr("animationstart"),Tr=wr("transitionend"),Ir=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lr(e,t){Ir.set(e,t),l(t,[e])}for(var Dr=0;Dr<Rr.length;Dr++){var Or=Rr[Dr];Lr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Lr(Br,"onAnimationEnd"),Lr(Sr,"onAnimationIteration"),Lr(kr,"onAnimationStart"),Lr("dblclick","onDoubleClick"),Lr("focusin","onFocus"),Lr("focusout","onBlur"),Lr(Tr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,o,s,l,c){if(je.apply(this,arguments),Pe){if(!Pe)throw Error(i(198));var d=Me;Pe=!1,Me=null,Ue||(Ue=!0,Fe=d)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==i&&a.isPropagationStopped())break e;Mr(a,s,c),i=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,c=s.currentTarget,s=s.listener,l!==i&&a.isPropagationStopped())break e;Mr(a,s,c),i=l}}}if(Ue)throw e=Fe,Ue=!1,Fe=null,e}function Fr(e,t){var n=t[fa];void 0===n&&(n=t[fa]=new Set);var r=e+"__bubble";n.has(r)||(Gr(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),Gr(n,e,r,t)}var jr="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[jr]){e[jr]=!0,o.forEach(function(t){"selectionchange"!==t&&(Pr.has(t)||zr(t,!1,e),zr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[jr]||(t[jr]=!0,zr("selectionchange",!1,t))}}function Gr(e,t,n,r){switch($t(t)){case 1:var a=Wt;break;case 4:a=Ht;break;default:a=Yt}n=a.bind(null,t,n,e),a=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,a){var i=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===a||8===s.nodeType&&s.parentNode===a)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;o=o.return}for(;null!==s;){if(null===(o=_a(s)))return;if(5===(l=o.tag)||6===l){r=i=o;continue e}s=s.parentNode}}r=r.return}Re(function(){var r=i,a=Ee(n),o=[];e:{var s=Ir.get(e);if(void 0!==s){var l=dn,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Sn;break;case"focusin":c="focus",l=An;break;case"focusout":c="blur",l=An;break;case"beforeblur":case"afterblur":l=An;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=fn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Tn;break;case Br:case Sr:case kr:l=gn;break;case Tr:l=In;break;case"scroll":l=pn;break;case"wheel":l=Ln;break;case"copy":case"cut":case"paste":l=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=kn}var d=!!(4&t),u=!d&&"scroll"===e,p=d?null!==s?s+"Capture":null:s;d=[];for(var h,m=r;null!==m;){var f=(h=m).stateNode;if(5===h.tag&&null!==f&&(h=f,null!==p&&null!=(f=Le(m,p))&&d.push(Wr(m,f,h))),u)break;m=m.return}0<d.length&&(s=new l(s,c,null,n,a),o.push({event:s,listeners:d}))}}if(!(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===ve||!(c=n.relatedTarget||n.fromElement)||!_a(c)&&!c[ma])&&(l||s)&&(s=a.window===a?a:(s=a.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?_a(c):null)&&(c!==(u=Ve(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(d=mn,f="onMouseLeave",p="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=kn,f="onPointerLeave",p="onPointerEnter",m="pointer"),u=null==l?s:va(l),h=null==c?s:va(c),(s=new d(f,m+"leave",l,n,a)).target=u,s.relatedTarget=h,f=null,_a(a)===r&&((d=new d(p,m+"enter",c,n,a)).target=h,d.relatedTarget=u,f=d),u=f,l&&c)e:{for(p=c,m=0,h=d=l;h;h=Yr(h))m++;for(h=0,f=p;f;f=Yr(f))h++;for(;0<m-h;)d=Yr(d),m--;for(;0<h-m;)p=Yr(p),h--;for(;m--;){if(d===p||null!==p&&d===p.alternate)break e;d=Yr(d),p=Yr(p)}d=null}else d=null;null!==l&&Qr(o,s,l,d,!1),null!==c&&null!==u&&Qr(o,u,c,d,!0)}if("select"===(l=(s=r?va(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var A=$n;else if(qn(s))if(Xn)A=or;else{A=ar;var g=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(A=ir);switch(A&&(A=A(e,r))?Wn(o,A,n,a):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=r?va(r):window,e){case"focusin":(qn(g)||"true"===g.contentEditable)&&(Ar=g,gr=r,_r=null);break;case"focusout":_r=gr=Ar=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,vr(o,n,a);break;case"selectionchange":if(fr)break;case"keydown":case"keyup":vr(o,n,a)}var _;if(On)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Vn?zn(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(Mn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==y?"onCompositionEnd"===y&&Vn&&(_=en()):(Zt="value"in(Xt=a)?Xt.value:Xt.textContent,Vn=!0)),0<(g=Hr(r,y)).length&&(y=new vn(y,e,null,n,a),o.push({event:y,listeners:g}),(_||null!==(_=jn(n)))&&(y.data=_))),(_=Pn?function(e,t){switch(e){case"compositionend":return jn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Un);case"textInput":return(e=t.data)===Un&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!On&&zn(e,t)?(e=en(),Jt=Zt=Xt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(r=Hr(r,"onBeforeInput")).length&&(a=new vn("onBeforeInput","beforeinput",null,n,a),o.push({event:a,listeners:r}),a.data=_)}Ur(o,t)})}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,i=a.stateNode;5===a.tag&&null!==i&&(a=i,null!=(i=Le(e,n))&&r.unshift(Wr(e,i,a)),null!=(i=Le(e,t))&&r.push(Wr(e,i,a))),e=e.return}return r}function Yr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,a){for(var i=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,a?null!=(l=Le(n,i))&&o.unshift(Wr(n,l,s)):a||null!=(l=Le(n,i))&&o.push(Wr(n,l,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Kr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Xr(e){return("string"==typeof e?e:""+e).replace(Kr,"\n").replace($r,"")}function Zr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(i(425))}function Jr(){}var ea=null,ta=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ra="function"==typeof setTimeout?setTimeout:void 0,aa="function"==typeof clearTimeout?clearTimeout:void 0,ia="function"==typeof Promise?Promise:void 0,oa="function"==typeof queueMicrotask?queueMicrotask:void 0!==ia?function(e){return ia.resolve(null).then(e).catch(sa)}:ra;function sa(e){setTimeout(function(){throw e})}function la(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);Vt(t)}function ca(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function da(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ua=Math.random().toString(36).slice(2),pa="__reactFiber$"+ua,ha="__reactProps$"+ua,ma="__reactContainer$"+ua,fa="__reactEvents$"+ua,Aa="__reactListeners$"+ua,ga="__reactHandles$"+ua;function _a(e){var t=e[pa];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ma]||n[pa]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=da(e);null!==e;){if(n=e[pa])return n;e=da(e)}return t}n=(e=n).parentNode}return null}function ya(e){return!(e=e[pa]||e[ma])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function va(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function Ea(e){return e[ha]||null}var Ca=[],ba=-1;function xa(e){return{current:e}}function wa(e){0>ba||(e.current=Ca[ba],Ca[ba]=null,ba--)}function Ba(e,t){ba++,Ca[ba]=e.current,e.current=t}var Sa={},ka=xa(Sa),Ta=xa(!1),Ia=Sa;function Ra(e,t){var n=e.type.contextTypes;if(!n)return Sa;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in n)i[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function La(e){return null!=e.childContextTypes}function Da(){wa(Ta),wa(ka)}function Oa(e,t,n){if(ka.current!==Sa)throw Error(i(168));Ba(ka,t),Ba(Ta,n)}function Na(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(i(108,G(e)||"Unknown",a));return M({},n,r)}function Pa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Sa,Ia=ka.current,Ba(ka,e),Ba(Ta,Ta.current),!0}function Ma(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Na(e,t,Ia),r.__reactInternalMemoizedMergedChildContext=e,wa(Ta),wa(ka),Ba(ka,e)):wa(Ta),Ba(Ta,n)}var Ua=null,Fa=!1,za=!1;function ja(e){null===Ua?Ua=[e]:Ua.push(e)}function Va(){if(!za&&null!==Ua){za=!0;var e=0,t=yt;try{var n=Ua;for(yt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ua=null,Fa=!1}catch(t){throw null!==Ua&&(Ua=Ua.slice(e+1)),Ye(Je,Va),t}finally{yt=t,za=!1}}return null}var Ga=[],qa=0,Wa=null,Ha=0,Ya=[],Qa=0,Ka=null,$a=1,Xa="";function Za(e,t){Ga[qa++]=Ha,Ga[qa++]=Wa,Wa=e,Ha=t}function Ja(e,t,n){Ya[Qa++]=$a,Ya[Qa++]=Xa,Ya[Qa++]=Ka,Ka=e;var r=$a;e=Xa;var a=32-ot(r)-1;r&=~(1<<a),n+=1;var i=32-ot(t)+a;if(30<i){var o=a-a%5;i=(r&(1<<o)-1).toString(32),r>>=o,a-=o,$a=1<<32-ot(t)+a|n<<a|r,Xa=i+e}else $a=1<<i|n<<a|r,Xa=e}function ei(e){null!==e.return&&(Za(e,1),Ja(e,1,0))}function ti(e){for(;e===Wa;)Wa=Ga[--qa],Ga[qa]=null,Ha=Ga[--qa],Ga[qa]=null;for(;e===Ka;)Ka=Ya[--Qa],Ya[Qa]=null,Xa=Ya[--Qa],Ya[Qa]=null,$a=Ya[--Qa],Ya[Qa]=null}var ni=null,ri=null,ai=!1,ii=null;function oi(e,t){var n=Ic(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function si(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ni=e,ri=ca(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ni=e,ri=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ka?{id:$a,overflow:Xa}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ic(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ni=e,ri=null,!0);default:return!1}}function li(e){return!(!(1&e.mode)||128&e.flags)}function ci(e){if(ai){var t=ri;if(t){var n=t;if(!si(e,t)){if(li(e))throw Error(i(418));t=ca(n.nextSibling);var r=ni;t&&si(e,t)?oi(r,n):(e.flags=-4097&e.flags|2,ai=!1,ni=e)}}else{if(li(e))throw Error(i(418));e.flags=-4097&e.flags|2,ai=!1,ni=e}}}function di(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ni=e}function ui(e){if(e!==ni)return!1;if(!ai)return di(e),ai=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=ri)){if(li(e))throw pi(),Error(i(418));for(;t;)oi(e,t),t=ca(t.nextSibling)}if(di(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ri=ca(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ri=null}}else ri=ni?ca(e.stateNode.nextSibling):null;return!0}function pi(){for(var e=ri;e;)e=ca(e.nextSibling)}function hi(){ri=ni=null,ai=!1}function mi(e){null===ii?ii=[e]:ii.push(e)}var fi=v.ReactCurrentBatchConfig;function Ai(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var a=r,o=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=a.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!=typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function gi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function _i(e){return(0,e._init)(e._payload)}function yi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Lc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Pc(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===b?u(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"==typeof i&&null!==i&&i.$$typeof===L&&_i(i)===t.type)?((r=a(t,n.props)).ref=Ai(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=Ai(e,t,n),r.return=e,r)}function d(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Mc(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function u(e,t,n,r,i){return null===t||7!==t.tag?((t=Oc(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function p(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Pc(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case E:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=Ai(e,null,t),n.return=e,n;case C:return(t=Mc(t,e.mode,n)).return=e,t;case L:return p(e,(0,t._init)(t._payload),n)}if(te(t)||N(t))return(t=Oc(t,e.mode,n,null)).return=e,t;gi(e,t)}return null}function h(e,t,n,r){var a=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==a?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===a?c(e,t,n,r):null;case C:return n.key===a?d(e,t,n,r):null;case L:return h(e,t,(a=n._init)(n._payload),r)}if(te(n)||N(n))return null!==a?null:u(e,t,n,r,null);gi(e,n)}return null}function m(e,t,n,r,a){if("string"==typeof r&&""!==r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"==typeof r&&null!==r){switch(r.$$typeof){case E:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case C:return d(t,e=e.get(null===r.key?n:r.key)||null,r,a);case L:return m(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||N(r))return u(t,e=e.get(n)||null,r,a,null);gi(t,r)}return null}function f(a,i,s,l){for(var c=null,d=null,u=i,f=i=0,A=null;null!==u&&f<s.length;f++){u.index>f?(A=u,u=null):A=u.sibling;var g=h(a,u,s[f],l);if(null===g){null===u&&(u=A);break}e&&u&&null===g.alternate&&t(a,u),i=o(g,i,f),null===d?c=g:d.sibling=g,d=g,u=A}if(f===s.length)return n(a,u),ai&&Za(a,f),c;if(null===u){for(;f<s.length;f++)null!==(u=p(a,s[f],l))&&(i=o(u,i,f),null===d?c=u:d.sibling=u,d=u);return ai&&Za(a,f),c}for(u=r(a,u);f<s.length;f++)null!==(A=m(u,a,f,s[f],l))&&(e&&null!==A.alternate&&u.delete(null===A.key?f:A.key),i=o(A,i,f),null===d?c=A:d.sibling=A,d=A);return e&&u.forEach(function(e){return t(a,e)}),ai&&Za(a,f),c}function A(a,s,l,c){var d=N(l);if("function"!=typeof d)throw Error(i(150));if(null==(l=d.call(l)))throw Error(i(151));for(var u=d=null,f=s,A=s=0,g=null,_=l.next();null!==f&&!_.done;A++,_=l.next()){f.index>A?(g=f,f=null):g=f.sibling;var y=h(a,f,_.value,c);if(null===y){null===f&&(f=g);break}e&&f&&null===y.alternate&&t(a,f),s=o(y,s,A),null===u?d=y:u.sibling=y,u=y,f=g}if(_.done)return n(a,f),ai&&Za(a,A),d;if(null===f){for(;!_.done;A++,_=l.next())null!==(_=p(a,_.value,c))&&(s=o(_,s,A),null===u?d=_:u.sibling=_,u=_);return ai&&Za(a,A),d}for(f=r(a,f);!_.done;A++,_=l.next())null!==(_=m(f,a,A,_.value,c))&&(e&&null!==_.alternate&&f.delete(null===_.key?A:_.key),s=o(_,s,A),null===u?d=_:u.sibling=_,u=_);return e&&f.forEach(function(e){return t(a,e)}),ai&&Za(a,A),d}return function e(r,i,o,l){if("object"==typeof o&&null!==o&&o.type===b&&null===o.key&&(o=o.props.children),"object"==typeof o&&null!==o){switch(o.$$typeof){case E:e:{for(var c=o.key,d=i;null!==d;){if(d.key===c){if((c=o.type)===b){if(7===d.tag){n(r,d.sibling),(i=a(d,o.props.children)).return=r,r=i;break e}}else if(d.elementType===c||"object"==typeof c&&null!==c&&c.$$typeof===L&&_i(c)===d.type){n(r,d.sibling),(i=a(d,o.props)).ref=Ai(r,d,o),i.return=r,r=i;break e}n(r,d);break}t(r,d),d=d.sibling}o.type===b?((i=Oc(o.props.children,r.mode,l,o.key)).return=r,r=i):((l=Dc(o.type,o.key,o.props,null,r.mode,l)).ref=Ai(r,i,o),l.return=r,r=l)}return s(r);case C:e:{for(d=o.key;null!==i;){if(i.key===d){if(4===i.tag&&i.stateNode.containerInfo===o.containerInfo&&i.stateNode.implementation===o.implementation){n(r,i.sibling),(i=a(i,o.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=Mc(o,r.mode,l)).return=r,r=i}return s(r);case L:return e(r,i,(d=o._init)(o._payload),l)}if(te(o))return f(r,i,o,l);if(N(o))return A(r,i,o,l);gi(r,o)}return"string"==typeof o&&""!==o||"number"==typeof o?(o=""+o,null!==i&&6===i.tag?(n(r,i.sibling),(i=a(i,o)).return=r,r=i):(n(r,i),(i=Pc(o,r.mode,l)).return=r,r=i),s(r)):n(r,i)}}var vi=yi(!0),Ei=yi(!1),Ci=xa(null),bi=null,xi=null,wi=null;function Bi(){wi=xi=bi=null}function Si(e){var t=Ci.current;wa(Ci),e._currentValue=t}function ki(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ti(e,t){bi=e,wi=xi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ys=!0),e.firstContext=null)}function Ii(e){var t=e._currentValue;if(wi!==e)if(e={context:e,memoizedValue:t,next:null},null===xi){if(null===bi)throw Error(i(308));xi=e,bi.dependencies={lanes:0,firstContext:e}}else xi=xi.next=e;return t}var Ri=null;function Li(e){null===Ri?Ri=[e]:Ri.push(e)}function Di(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,Li(t)):(n.next=a.next,a.next=n),t.interleaved=n,Oi(e,r)}function Oi(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ni=!1;function Pi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ui(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fi(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&Sl){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Oi(e,n)}return null===(a=r.interleaved)?(t.next=t,Li(r)):(t.next=a.next,a.next=t),r.interleaved=t,Oi(e,n)}function zi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,_t(e,n)}}function ji(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?a=i=o:i=i.next=o,n=n.next}while(null!==n);null===i?a=i=t:i=i.next=t}else a=i=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Vi(e,t,n,r){var a=e.updateQueue;Ni=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var l=s,c=l.next;l.next=null,null===o?i=c:o.next=c,o=l;var d=e.alternate;null!==d&&(s=(d=d.updateQueue).lastBaseUpdate)!==o&&(null===s?d.firstBaseUpdate=c:s.next=c,d.lastBaseUpdate=l)}if(null!==i){var u=a.baseState;for(o=0,d=c=l=null,s=i;;){var p=s.lane,h=s.eventTime;if((r&p)===p){null!==d&&(d=d.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=e,f=s;switch(p=t,h=n,f.tag){case 1:if("function"==typeof(m=f.payload)){u=m.call(h,u,p);break e}u=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null==(p="function"==typeof(m=f.payload)?m.call(h,u,p):m))break e;u=M({},u,p);break e;case 2:Ni=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(p=a.effects)?a.effects=[s]:p.push(s))}else h={eventTime:h,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===d?(c=d=h,l=u):d=d.next=h,o|=p;if(null===(s=s.next)){if(null===(s=a.shared.pending))break;s=(p=s).next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}if(null===d&&(l=u),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=d,null!==(t=a.shared.interleaved)){a=t;do{o|=a.lane,a=a.next}while(a!==t)}else null===i&&(a.shared.lanes=0);Nl|=o,e.lanes=o,e.memoizedState=u}}function Gi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!=typeof a)throw Error(i(191,a));a.call(r)}}}var qi={},Wi=xa(qi),Hi=xa(qi),Yi=xa(qi);function Qi(e){if(e===qi)throw Error(i(174));return e}function Ki(e,t){switch(Ba(Yi,t),Ba(Hi,e),Ba(Wi,qi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}wa(Wi),Ba(Wi,t)}function $i(){wa(Wi),wa(Hi),wa(Yi)}function Xi(e){Qi(Yi.current);var t=Qi(Wi.current),n=le(t,e.type);t!==n&&(Ba(Hi,e),Ba(Wi,n))}function Zi(e){Hi.current===e&&(wa(Wi),wa(Hi))}var Ji=xa(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function no(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var ro=v.ReactCurrentDispatcher,ao=v.ReactCurrentBatchConfig,io=0,oo=null,so=null,lo=null,co=!1,uo=!1,po=0,ho=0;function mo(){throw Error(i(321))}function fo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Ao(e,t,n,r,a,o){if(io=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ro.current=null===e||null===e.memoizedState?Jo:es,e=n(r,a),uo){o=0;do{if(uo=!1,po=0,25<=o)throw Error(i(301));o+=1,lo=so=null,t.updateQueue=null,ro.current=ts,e=n(r,a)}while(uo)}if(ro.current=Zo,t=null!==so&&null!==so.next,io=0,lo=so=oo=null,co=!1,t)throw Error(i(300));return e}function go(){var e=0!==po;return po=0,e}function _o(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function yo(){if(null===so){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=so.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,so=e;else{if(null===e)throw Error(i(310));e={memoizedState:(so=e).memoizedState,baseState:so.baseState,baseQueue:so.baseQueue,queue:so.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function vo(e,t){return"function"==typeof t?t(e):t}function Eo(e){var t=yo(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=so,a=r.baseQueue,o=n.pending;if(null!==o){if(null!==a){var s=a.next;a.next=o.next,o.next=s}r.baseQueue=a=o,n.pending=null}if(null!==a){o=a.next,r=r.baseState;var l=s=null,c=null,d=o;do{var u=d.lane;if((io&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var p={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(l=c=p,s=r):c=c.next=p,oo.lanes|=u,Nl|=u}d=d.next}while(null!==d&&d!==o);null===c?s=r:c.next=l,sr(r,t.memoizedState)||(ys=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{o=a.lane,oo.lanes|=o,Nl|=o,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Co(e){var t=yo(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(null!==a){n.pending=null;var s=a=a.next;do{o=e(o,s.action),s=s.next}while(s!==a);sr(o,t.memoizedState)||(ys=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function bo(){}function xo(e,t){var n=oo,r=yo(),a=t(),o=!sr(r.memoizedState,a);if(o&&(r.memoizedState=a,ys=!0),r=r.queue,Po(So.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(n.flags|=2048,Ro(9,Bo.bind(null,n,r,a,t),void 0,null),null===kl)throw Error(i(349));30&io||wo(n,t,a)}return a}function wo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Bo(e,t,n,r){t.value=n,t.getSnapshot=r,ko(t)&&To(e)}function So(e,t,n){return n(function(){ko(t)&&To(e)})}function ko(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(e){return!0}}function To(e){var t=Oi(e,1);null!==t&&tc(t,e,1,-1)}function Io(e){var t=_o();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vo,lastRenderedState:e},t.queue=e,e=e.dispatch=Qo.bind(null,oo,e),[t.memoizedState,e]}function Ro(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Lo(){return yo().memoizedState}function Do(e,t,n,r){var a=_o();oo.flags|=e,a.memoizedState=Ro(1|t,n,void 0,void 0===r?null:r)}function Oo(e,t,n,r){var a=yo();r=void 0===r?null:r;var i=void 0;if(null!==so){var o=so.memoizedState;if(i=o.destroy,null!==r&&fo(r,o.deps))return void(a.memoizedState=Ro(t,n,i,r))}oo.flags|=e,a.memoizedState=Ro(1|t,n,i,r)}function No(e,t){return Do(8390656,8,e,t)}function Po(e,t){return Oo(2048,8,e,t)}function Mo(e,t){return Oo(4,2,e,t)}function Uo(e,t){return Oo(4,4,e,t)}function Fo(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function zo(e,t,n){return n=null!=n?n.concat([e]):null,Oo(4,4,Fo.bind(null,t,e),n)}function jo(){}function Vo(e,t){var n=yo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&fo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Go(e,t){var n=yo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&fo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qo(e,t,n){return 21&io?(sr(n,t)||(n=ft(),oo.lanes|=n,Nl|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ys=!0),e.memoizedState=n)}function Wo(e,t){var n=yt;yt=0!==n&&4>n?n:4,e(!0);var r=ao.transition;ao.transition={};try{e(!1),t()}finally{yt=n,ao.transition=r}}function Ho(){return yo().memoizedState}function Yo(e,t,n){var r=ec(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ko(e)?$o(t,n):null!==(n=Di(e,t,n,r))&&(tc(n,e,r,Jl()),Xo(n,t,r))}function Qo(e,t,n){var r=ec(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ko(e))$o(t,a);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=i(o,n);if(a.hasEagerState=!0,a.eagerState=s,sr(s,o)){var l=t.interleaved;return null===l?(a.next=a,Li(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(e){}null!==(n=Di(e,t,a,r))&&(tc(n,e,r,a=Jl()),Xo(n,t,r))}}function Ko(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function $o(e,t){uo=co=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xo(e,t,n){if(4194240&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,_t(e,n)}}var Zo={readContext:Ii,useCallback:mo,useContext:mo,useEffect:mo,useImperativeHandle:mo,useInsertionEffect:mo,useLayoutEffect:mo,useMemo:mo,useReducer:mo,useRef:mo,useState:mo,useDebugValue:mo,useDeferredValue:mo,useTransition:mo,useMutableSource:mo,useSyncExternalStore:mo,useId:mo,unstable_isNewReconciler:!1},Jo={readContext:Ii,useCallback:function(e,t){return _o().memoizedState=[e,void 0===t?null:t],e},useContext:Ii,useEffect:No,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Do(4194308,4,Fo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Do(4194308,4,e,t)},useInsertionEffect:function(e,t){return Do(4,2,e,t)},useMemo:function(e,t){var n=_o();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=_o();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Yo.bind(null,oo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},_o().memoizedState=e},useState:Io,useDebugValue:jo,useDeferredValue:function(e){return _o().memoizedState=e},useTransition:function(){var e=Io(!1),t=e[0];return e=Wo.bind(null,e[1]),_o().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oo,a=_o();if(ai){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===kl)throw Error(i(349));30&io||wo(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,No(So.bind(null,r,o,e),[e]),r.flags|=2048,Ro(9,Bo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=_o(),t=kl.identifierPrefix;if(ai){var n=Xa;t=":"+t+"R"+(n=($a&~(1<<32-ot($a)-1)).toString(32)+n),0<(n=po++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ho++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Ii,useCallback:Vo,useContext:Ii,useEffect:Po,useImperativeHandle:zo,useInsertionEffect:Mo,useLayoutEffect:Uo,useMemo:Go,useReducer:Eo,useRef:Lo,useState:function(){return Eo(vo)},useDebugValue:jo,useDeferredValue:function(e){return qo(yo(),so.memoizedState,e)},useTransition:function(){return[Eo(vo)[0],yo().memoizedState]},useMutableSource:bo,useSyncExternalStore:xo,useId:Ho,unstable_isNewReconciler:!1},ts={readContext:Ii,useCallback:Vo,useContext:Ii,useEffect:Po,useImperativeHandle:zo,useInsertionEffect:Mo,useLayoutEffect:Uo,useMemo:Go,useReducer:Co,useRef:Lo,useState:function(){return Co(vo)},useDebugValue:jo,useDeferredValue:function(e){var t=yo();return null===so?t.memoizedState=e:qo(t,so.memoizedState,e)},useTransition:function(){return[Co(vo)[0],yo().memoizedState]},useMutableSource:bo,useSyncExternalStore:xo,useId:Ho,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rs(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var as={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Jl(),a=ec(e),i=Ui(r,a);i.payload=t,null!=n&&(i.callback=n),null!==(t=Fi(e,i,a))&&(tc(t,e,a,r),zi(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Jl(),a=ec(e),i=Ui(r,a);i.tag=1,i.payload=t,null!=n&&(i.callback=n),null!==(t=Fi(e,i,a))&&(tc(t,e,a,r),zi(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Jl(),r=ec(e),a=Ui(n,r);a.tag=2,null!=t&&(a.callback=t),null!==(t=Fi(e,a,r))&&(tc(t,e,r,n),zi(t,e,r))}};function is(e,t,n,r,a,i,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,o):!(t.prototype&&t.prototype.isPureReactComponent&&lr(n,r)&&lr(a,i))}function os(e,t,n){var r=!1,a=Sa,i=t.contextType;return"object"==typeof i&&null!==i?i=Ii(i):(a=La(t)?Ia:ka.current,i=(r=null!=(r=t.contextTypes))?Ra(e,a):Sa),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=as,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function ss(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&as.enqueueReplaceState(t,t.state,null)}function ls(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Pi(e);var i=t.contextType;"object"==typeof i&&null!==i?a.context=Ii(i):(i=La(t)?Ia:ka.current,a.context=Ra(e,i)),a.state=e.memoizedState,"function"==typeof(i=t.getDerivedStateFromProps)&&(rs(e,t,i,n),a.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof a.getSnapshotBeforeUpdate||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||(t=a.state,"function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&as.enqueueReplaceState(a,a.state,null),Vi(e,n,a,r),a.state=e.memoizedState),"function"==typeof a.componentDidMount&&(e.flags|=4194308)}function cs(e,t){try{var n="",r=t;do{n+=j(r),r=r.return}while(r);var a=n}catch(e){a="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:a,digest:null}}function ds(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function us(e,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}var ps="function"==typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=Ui(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gl||(Gl=!0,ql=r),us(0,t)},n}function ms(e,t,n){(n=Ui(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){us(0,t)}}var i=e.stateNode;return null!==i&&"function"==typeof i.componentDidCatch&&(n.callback=function(){us(0,t),"function"!=typeof r&&(null===Wl?Wl=new Set([this]):Wl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function fs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ps;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=xc.bind(null,e,t,n),t.then(e,e))}function As(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gs(e,t,n,r,a){return 1&e.mode?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ui(-1,1)).tag=2,Fi(n,t,1))),n.lanes|=1),e)}var _s=v.ReactCurrentOwner,ys=!1;function vs(e,t,n,r){t.child=null===e?Ei(t,null,n,r):vi(t,e.child,n,r)}function Es(e,t,n,r,a){n=n.render;var i=t.ref;return Ti(t,a),r=Ao(e,t,n,r,i,a),n=go(),null===e||ys?(ai&&n&&ei(t),t.flags|=1,vs(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Gs(e,t,a))}function Cs(e,t,n,r,a){if(null===e){var i=n.type;return"function"!=typeof i||Rc(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,bs(e,t,i,r,a))}if(i=e.child,0===(e.lanes&a)){var o=i.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Gs(e,t,a)}return t.flags|=1,(e=Lc(i,r)).ref=t.ref,e.return=t,t.child=e}function bs(e,t,n,r,a){if(null!==e){var i=e.memoizedProps;if(lr(i,r)&&e.ref===t.ref){if(ys=!1,t.pendingProps=r=i,0===(e.lanes&a))return t.lanes=e.lanes,Gs(e,t,a);131072&e.flags&&(ys=!0)}}return Bs(e,t,n,r,a)}function xs(e,t,n){var r=t.pendingProps,a=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(1&t.mode){if(!(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ba(Ll,Rl),Rl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,Ba(Ll,Rl),Rl|=r}else t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ba(Ll,Rl),Rl|=n;else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,Ba(Ll,Rl),Rl|=r;return vs(e,t,a,n),t.child}function ws(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Bs(e,t,n,r,a){var i=La(n)?Ia:ka.current;return i=Ra(t,i),Ti(t,a),n=Ao(e,t,n,r,i,a),r=go(),null===e||ys?(ai&&r&&ei(t),t.flags|=1,vs(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Gs(e,t,a))}function Ss(e,t,n,r,a){if(La(n)){var i=!0;Pa(t)}else i=!1;if(Ti(t,a),null===t.stateNode)Vs(e,t),os(t,n,r),ls(t,n,r,a),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,c=n.contextType;c="object"==typeof c&&null!==c?Ii(c):Ra(t,c=La(n)?Ia:ka.current);var d=n.getDerivedStateFromProps,u="function"==typeof d||"function"==typeof o.getSnapshotBeforeUpdate;u||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==r||l!==c)&&ss(t,o,r,c),Ni=!1;var p=t.memoizedState;o.state=p,Vi(t,r,o,a),l=t.memoizedState,s!==r||p!==l||Ta.current||Ni?("function"==typeof d&&(rs(t,n,d,r),l=t.memoizedState),(s=Ni||is(t,n,s,r,p,l,c))?(u||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.flags|=4194308)):("function"==typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=s):("function"==typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Mi(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ns(t.type,s),o.props=c,u=t.pendingProps,p=o.context,l="object"==typeof(l=n.contextType)&&null!==l?Ii(l):Ra(t,l=La(n)?Ia:ka.current);var h=n.getDerivedStateFromProps;(d="function"==typeof h||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==u||p!==l)&&ss(t,o,r,l),Ni=!1,p=t.memoizedState,o.state=p,Vi(t,r,o,a);var m=t.memoizedState;s!==u||p!==m||Ta.current||Ni?("function"==typeof h&&(rs(t,n,h,r),m=t.memoizedState),(c=Ni||is(t,n,c,r,p,m,l)||!1)?(d||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,m,l),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,m,l)),"function"==typeof o.componentDidUpdate&&(t.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),o.props=r,o.state=m,o.context=l,r=c):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return ks(e,t,n,r,i,a)}function ks(e,t,n,r,a,i){ws(e,t);var o=!!(128&t.flags);if(!r&&!o)return a&&Ma(t,n,!1),Gs(e,t,i);r=t.stateNode,_s.current=t;var s=o&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=vi(t,e.child,null,i),t.child=vi(t,null,s,i)):vs(e,t,s,i),t.memoizedState=r.state,a&&Ma(t,n,!0),t.child}function Ts(e){var t=e.stateNode;t.pendingContext?Oa(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oa(0,t.context,!1),Ki(e,t.containerInfo)}function Is(e,t,n,r,a){return hi(),mi(a),t.flags|=256,vs(e,t,n,r),t.child}var Rs,Ls,Ds,Os={dehydrated:null,treeContext:null,retryLane:0};function Ns(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ps(e,t,n){var r,a=t.pendingProps,o=Ji.current,s=!1,l=!!(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&!!(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ba(Ji,1&o),null===e)return ci(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?"$!"===e.data?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=a.children,e=a.fallback,s?(a=t.mode,s=t.child,l={mode:"hidden",children:l},1&a||null===s?s=Nc(l,a,0,null):(s.childLanes=0,s.pendingProps=l),e=Oc(e,a,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ns(n),t.memoizedState=Os,e):Ms(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,a,o,s){if(n)return 256&t.flags?(t.flags&=-257,Us(e,t,s,r=ds(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,a=t.mode,r=Nc({mode:"visible",children:r.children},a,0,null),(o=Oc(o,a,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,1&t.mode&&vi(t,e.child,null,s),t.child.memoizedState=Ns(s),t.memoizedState=Os,o);if(!(1&t.mode))return Us(e,t,s,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var l=r.dgst;return r=l,Us(e,t,s,r=ds(o=Error(i(419)),r,void 0))}if(l=0!==(s&e.childLanes),ys||l){if(null!==(r=kl)){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|s))?0:a)&&a!==o.retryLane&&(o.retryLane=a,Oi(e,a),tc(r,e,a,-1))}return mc(),Us(e,t,s,r=ds(Error(i(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Bc.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,ri=ca(a.nextSibling),ni=t,ai=!0,ii=null,null!==e&&(Ya[Qa++]=$a,Ya[Qa++]=Xa,Ya[Qa++]=Ka,$a=e.id,Xa=e.overflow,Ka=t),(t=Ms(t,r.children)).flags|=4096,t)}(e,t,l,a,r,o,n);if(s){s=a.fallback,l=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:a.children};return 1&l||t.child===o?(a=Lc(o,c)).subtreeFlags=14680064&o.subtreeFlags:((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null),null!==r?s=Lc(r,s):(s=Oc(s,l,n,null)).flags|=2,s.return=t,a.return=t,a.sibling=s,t.child=a,a=s,s=t.child,l=null===(l=e.child.memoizedState)?Ns(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Os,a}return e=(s=e.child).sibling,a=Lc(s,{mode:"visible",children:a.children}),!(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Ms(e,t){return(t=Nc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Us(e,t,n,r){return null!==r&&mi(r),vi(t,e.child,null,n),(e=Ms(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Fs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ki(e.return,t,n)}function zs(e,t,n,r,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function js(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(vs(e,t,r.children,n),2&(r=Ji.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Fs(e,n,t);else if(19===e.tag)Fs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ba(Ji,r),1&t.mode)switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===eo(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),zs(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===eo(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}zs(t,!0,n,null,i);break;case"together":zs(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function Vs(e,t){!(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Nl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Lc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Lc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qs(e,t){if(!ai)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ws(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Hs(e,t,n){var r=t.pendingProps;switch(ti(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ws(t),null;case 1:case 17:return La(t.type)&&Da(),Ws(t),null;case 3:return r=t.stateNode,$i(),wa(Ta),wa(ka),no(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ui(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==ii&&(ic(ii),ii=null))),Ws(t),null;case 5:Zi(t);var a=Qi(Yi.current);if(n=t.type,null!==e&&null!=t.stateNode)Ls(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return Ws(t),null}if(e=Qi(Wi.current),ui(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[pa]=t,r[ha]=o,e=!!(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(a=0;a<Nr.length;a++)Fr(Nr[a],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":$(r,o),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Fr("invalid",r);break;case"textarea":ae(r,o),Fr("invalid",r)}for(var l in _e(n,o),a=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"==typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),a=["children",c]):"number"==typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),a=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Fr("scroll",r)}switch(n){case"input":H(r),J(r,o,!0);break;case"textarea":H(r),oe(r);break;case"select":case"option":break;default:"function"==typeof o.onClick&&(r.onclick=Jr)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[pa]=t,e[ha]=r,Rs(e,t),t.stateNode=e;e:{switch(l=ye(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),a=r;break;case"iframe":case"object":case"embed":Fr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Nr.length;a++)Fr(Nr[a],e);a=r;break;case"source":Fr("error",e),a=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),a=r;break;case"details":Fr("toggle",e),a=r;break;case"input":$(e,r),a=K(e,r),Fr("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=M({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),Fr("invalid",e)}for(o in _e(n,a),c=a)if(c.hasOwnProperty(o)){var d=c[o];"style"===o?Ae(e,d):"dangerouslySetInnerHTML"===o?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===o?"string"==typeof d?("textarea"!==n||""!==d)&&pe(e,d):"number"==typeof d&&pe(e,""+d):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=d&&"onScroll"===o&&Fr("scroll",e):null!=d&&y(e,o,d,l))}switch(n){case"input":H(e),J(e,r,!1);break;case"textarea":H(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof a.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ws(t),null;case 6:if(e&&null!=t.stateNode)Ds(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(i(166));if(n=Qi(Yi.current),Qi(Wi.current),ui(t)){if(r=t.stateNode,n=t.memoizedProps,r[pa]=t,(o=r.nodeValue!==n)&&null!==(e=ni))switch(e.tag){case 3:Zr(r.nodeValue,n,!!(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,!!(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[pa]=t,t.stateNode=r}return Ws(t),null;case 13:if(wa(Ji),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ai&&null!==ri&&1&t.mode&&!(128&t.flags))pi(),hi(),t.flags|=98560,o=!1;else if(o=ui(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(i(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(i(317));o[pa]=t}else hi(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ws(t),o=!1}else null!==ii&&(ic(ii),ii=null),o=!0;if(!o)return 65536&t.flags?t:null}return 128&t.flags?(t.lanes=n,t):((r=null!==r)!=(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,1&t.mode&&(null===e||1&Ji.current?0===Dl&&(Dl=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ws(t),null);case 4:return $i(),null===e&&Vr(t.stateNode.containerInfo),Ws(t),null;case 10:return Si(t.type._context),Ws(t),null;case 19:if(wa(Ji),null===(o=t.memoizedState))return Ws(t),null;if(r=!!(128&t.flags),null===(l=o.rendering))if(r)qs(o,!1);else{if(0!==Dl||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,qs(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ba(Ji,1&Ji.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>jl&&(t.flags|=128,r=!0,qs(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=eo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!ai)return Ws(t),null}else 2*Xe()-o.renderingStartTime>jl&&1073741824!==n&&(t.flags|=128,r=!0,qs(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=Ji.current,Ba(Ji,r?1&n|2:1&n),t):(Ws(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&1&t.mode?!!(1073741824&Rl)&&(Ws(t),6&t.subtreeFlags&&(t.flags|=8192)):Ws(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Ys(e,t){switch(ti(t),t.tag){case 1:return La(t.type)&&Da(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return $i(),wa(Ta),wa(ka),no(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zi(t),null;case 13:if(wa(Ji),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));hi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return wa(Ji),null;case 4:return $i(),null;case 10:return Si(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Rs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ls=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Qi(Wi.current);var i,o=null;switch(n){case"input":a=K(e,a),r=K(e,r),o=[];break;case"select":a=M({},a,{value:void 0}),r=M({},r,{value:void 0}),o=[];break;case"textarea":a=re(e,a),r=re(e,r),o=[];break;default:"function"!=typeof a.onClick&&"function"==typeof r.onClick&&(e.onclick=Jr)}for(d in _e(n,r),n=null,a)if(!r.hasOwnProperty(d)&&a.hasOwnProperty(d)&&null!=a[d])if("style"===d){var l=a[d];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(s.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in r){var c=r[d];if(l=null!=a?a[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(o||(o=[]),o.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(d,c)):"children"===d?"string"!=typeof c&&"number"!=typeof c||(o=o||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(s.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Fr("scroll",e),o||l===c||(o=[])):(o=o||[]).push(d,c))}n&&(o=o||[]).push("style",n);var d=o;(t.updateQueue=d)&&(t.flags|=4)}},Ds=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qs=!1,Ks=!1,$s="function"==typeof WeakSet?WeakSet:Set,Xs=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){bc(e,t,n)}else n.current=null}function Js(e,t,n){try{n()}catch(n){bc(e,t,n)}}var el=!1;function tl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,void 0!==i&&Js(t,n,i)}a=a.next}while(a!==r)}}function nl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function rl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&(delete t[pa],delete t[ha],delete t[fa],delete t[Aa],delete t[ga]),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function il(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||il(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function sl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(sl(e,t,n),e=e.sibling;null!==e;)sl(e,t,n),e=e.sibling}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}var cl=null,dl=!1;function ul(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(it&&"function"==typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(at,n)}catch(e){}switch(n.tag){case 5:Ks||Zs(n,t);case 6:var r=cl,a=dl;cl=null,ul(e,t,n),dl=a,null!==(cl=r)&&(dl?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(dl?(e=cl,n=n.stateNode,8===e.nodeType?la(e.parentNode,n):1===e.nodeType&&la(e,n),Vt(e)):la(cl,n.stateNode));break;case 4:r=cl,a=dl,cl=n.stateNode.containerInfo,dl=!0,ul(e,t,n),cl=r,dl=a;break;case 0:case 11:case 14:case 15:if(!Ks&&null!==(r=n.updateQueue)&&null!==(r=r.lastEffect)){a=r=r.next;do{var i=a,o=i.destroy;i=i.tag,void 0!==o&&(2&i||4&i)&&Js(n,t,o),a=a.next}while(a!==r)}ul(e,t,n);break;case 1:if(!Ks&&(Zs(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(e){bc(n,t,e)}ul(e,t,n);break;case 21:ul(e,t,n);break;case 22:1&n.mode?(Ks=(r=Ks)||null!==n.memoizedState,ul(e,t,n),Ks=r):ul(e,t,n);break;default:ul(e,t,n)}}function hl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $s),t.forEach(function(t){var r=Sc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var o=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,dl=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===cl)throw Error(i(160));pl(o,s,a),cl=null,dl=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(e){bc(a,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)fl(t,e),t=t.sibling}function fl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),Al(e),4&r){try{tl(3,e,e.return),nl(3,e)}catch(t){bc(e,e.return,t)}try{tl(5,e,e.return)}catch(t){bc(e,e.return,t)}}break;case 1:ml(t,e),Al(e),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(ml(t,e),Al(e),512&r&&null!==n&&Zs(n,n.return),32&e.flags){var a=e.stateNode;try{pe(a,"")}catch(t){bc(e,e.return,t)}}if(4&r&&null!=(a=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&X(a,o),ye(l,s);var d=ye(l,o);for(s=0;s<c.length;s+=2){var u=c[s],p=c[s+1];"style"===u?Ae(a,p):"dangerouslySetInnerHTML"===u?ue(a,p):"children"===u?pe(a,p):y(a,u,p,d)}switch(l){case"input":Z(a,o);break;case"textarea":ie(a,o);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var m=o.value;null!=m?ne(a,!!o.multiple,m,!1):h!==!!o.multiple&&(null!=o.defaultValue?ne(a,!!o.multiple,o.defaultValue,!0):ne(a,!!o.multiple,o.multiple?[]:"",!1))}a[ha]=o}catch(t){bc(e,e.return,t)}}break;case 6:if(ml(t,e),Al(e),4&r){if(null===e.stateNode)throw Error(i(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(t){bc(e,e.return,t)}}break;case 3:if(ml(t,e),Al(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(t){bc(e,e.return,t)}break;case 4:default:ml(t,e),Al(e);break;case 13:ml(t,e),Al(e),8192&(a=e.child).flags&&(o=null!==a.memoizedState,a.stateNode.isHidden=o,!o||null!==a.alternate&&null!==a.alternate.memoizedState||(zl=Xe())),4&r&&hl(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(Ks=(d=Ks)||u,ml(t,e),Ks=d):ml(t,e),Al(e),8192&r){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&1&e.mode)for(Xs=e,u=e.child;null!==u;){for(p=Xs=u;null!==Xs;){switch(m=(h=Xs).child,h.tag){case 0:case 11:case 14:case 15:tl(4,h,h.return);break;case 1:Zs(h,h.return);var f=h.stateNode;if("function"==typeof f.componentWillUnmount){r=h,n=h.return;try{t=r,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(e){bc(r,n,e)}}break;case 5:Zs(h,h.return);break;case 22:if(null!==h.memoizedState){vl(p);continue}}null!==m?(m.return=h,Xs=m):vl(p)}u=u.sibling}e:for(u=null,p=e;;){if(5===p.tag){if(null===u){u=p;try{a=p.stateNode,d?"function"==typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=p.stateNode,s=null!=(c=p.memoizedProps.style)&&c.hasOwnProperty("display")?c.display:null,l.style.display=fe("display",s))}catch(t){bc(e,e.return,t)}}}else if(6===p.tag){if(null===u)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(t){bc(e,e.return,t)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===e)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;null===p.sibling;){if(null===p.return||p.return===e)break e;u===p&&(u=null),p=p.return}u===p&&(u=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:ml(t,e),Al(e),4&r&&hl(e);case 21:}}function Al(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(il(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(pe(a,""),r.flags&=-33),ll(e,ol(e),a);break;case 3:case 4:var o=r.stateNode.containerInfo;sl(e,ol(e),o);break;default:throw Error(i(161))}}catch(t){bc(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gl(e,t,n){Xs=e,_l(e,t,n)}function _l(e,t,n){for(var r=!!(1&e.mode);null!==Xs;){var a=Xs,i=a.child;if(22===a.tag&&r){var o=null!==a.memoizedState||Qs;if(!o){var s=a.alternate,l=null!==s&&null!==s.memoizedState||Ks;s=Qs;var c=Ks;if(Qs=o,(Ks=l)&&!c)for(Xs=a;null!==Xs;)l=(o=Xs).child,22===o.tag&&null!==o.memoizedState?El(a):null!==l?(l.return=o,Xs=l):El(a);for(;null!==i;)Xs=i,_l(i,t,n),i=i.sibling;Xs=a,Qs=s,Ks=c}yl(e)}else 8772&a.subtreeFlags&&null!==i?(i.return=a,Xs=i):yl(e)}}function yl(e){for(;null!==Xs;){var t=Xs;if(8772&t.flags){var n=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:Ks||nl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ks)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Gi(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Gi(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var p=u.dehydrated;null!==p&&Vt(p)}}}break;default:throw Error(i(163))}Ks||512&t.flags&&rl(t)}catch(e){bc(t,t.return,e)}}if(t===e){Xs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xs=n;break}Xs=t.return}}function vl(e){for(;null!==Xs;){var t=Xs;if(t===e){Xs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xs=n;break}Xs=t.return}}function El(e){for(;null!==Xs;){var t=Xs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{nl(4,t)}catch(e){bc(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(e){bc(t,a,e)}}var i=t.return;try{rl(t)}catch(e){bc(t,i,e)}break;case 5:var o=t.return;try{rl(t)}catch(e){bc(t,o,e)}}}catch(e){bc(t,t.return,e)}if(t===e){Xs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Xs=s;break}Xs=t.return}}var Cl,bl=Math.ceil,xl=v.ReactCurrentDispatcher,wl=v.ReactCurrentOwner,Bl=v.ReactCurrentBatchConfig,Sl=0,kl=null,Tl=null,Il=0,Rl=0,Ll=xa(0),Dl=0,Ol=null,Nl=0,Pl=0,Ml=0,Ul=null,Fl=null,zl=0,jl=1/0,Vl=null,Gl=!1,ql=null,Wl=null,Hl=!1,Yl=null,Ql=0,Kl=0,$l=null,Xl=-1,Zl=0;function Jl(){return 6&Sl?Xe():-1!==Xl?Xl:Xl=Xe()}function ec(e){return 1&e.mode?2&Sl&&0!==Il?Il&-Il:null!==fi.transition?(0===Zl&&(Zl=ft()),Zl):0!==(e=yt)?e:e=void 0===(e=window.event)?16:$t(e.type):1}function tc(e,t,n,r){if(50<Kl)throw Kl=0,$l=null,Error(i(185));gt(e,n,r),2&Sl&&e===kl||(e===kl&&(!(2&Sl)&&(Pl|=n),4===Dl&&oc(e,Il)),nc(e,r),1===n&&0===Sl&&!(1&t.mode)&&(jl=Xe()+500,Fa&&Va()))}function nc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-ot(i),s=1<<o,l=a[o];-1===l?0!==(s&n)&&0===(s&r)||(a[o]=ht(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}}(e,t);var r=pt(e,e===kl?Il:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Fa=!0,ja(e)}(sc.bind(null,e)):ja(sc.bind(null,e)),oa(function(){!(6&Sl)&&Va()}),n=null;else{switch(vt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=kc(n,rc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rc(e,t){if(Xl=-1,Zl=0,6&Sl)throw Error(i(327));var n=e.callbackNode;if(Ec()&&e.callbackNode!==n)return null;var r=pt(e,e===kl?Il:0);if(0===r)return null;if(30&r||0!==(r&e.expiredLanes)||t)t=fc(e,r);else{t=r;var a=Sl;Sl|=2;var o=hc();for(kl===e&&Il===t||(Vl=null,jl=Xe()+500,uc(e,t));;)try{gc();break}catch(t){pc(e,t)}Bi(),xl.current=o,Sl=a,null!==Tl?t=0:(kl=null,Il=0,t=Dl)}if(0!==t){if(2===t&&0!==(a=mt(e))&&(r=a,t=ac(e,a)),1===t)throw n=Ol,uc(e,0),oc(e,r),nc(e,Xe()),n;if(6===t)oc(e,r);else{if(a=e.current.alternate,!(30&r||function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!sr(i(),a))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)||(t=fc(e,r),2===t&&(o=mt(e),0!==o&&(r=o,t=ac(e,o))),1!==t)))throw n=Ol,uc(e,0),oc(e,r),nc(e,Xe()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:vc(e,Fl,Vl);break;case 3:if(oc(e,r),(130023424&r)===r&&10<(t=zl+500-Xe())){if(0!==pt(e,0))break;if(((a=e.suspendedLanes)&r)!==r){Jl(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(vc.bind(null,e,Fl,Vl),t);break}vc(e,Fl,Vl);break;case 4:if(oc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>a&&(a=s),r&=~o}if(r=a,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*bl(r/1960))-r)){e.timeoutHandle=ra(vc.bind(null,e,Fl,Vl),r);break}vc(e,Fl,Vl);break;default:throw Error(i(329))}}}return nc(e,Xe()),e.callbackNode===n?rc.bind(null,e):null}function ac(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(uc(e,t).flags|=256),2!==(e=fc(e,t))&&(t=Fl,Fl=n,null!==t&&ic(t)),e}function ic(e){null===Fl?Fl=e:Fl.push.apply(Fl,e)}function oc(e,t){for(t&=~Ml,t&=~Pl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function sc(e){if(6&Sl)throw Error(i(327));Ec();var t=pt(e,0);if(!(1&t))return nc(e,Xe()),null;var n=fc(e,t);if(0!==e.tag&&2===n){var r=mt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ol,uc(e,0),oc(e,t),nc(e,Xe()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,vc(e,Fl,Vl),nc(e,Xe()),null}function lc(e,t){var n=Sl;Sl|=1;try{return e(t)}finally{0===(Sl=n)&&(jl=Xe()+500,Fa&&Va())}}function cc(e){null!==Yl&&0===Yl.tag&&!(6&Sl)&&Ec();var t=Sl;Sl|=1;var n=Bl.transition,r=yt;try{if(Bl.transition=null,yt=1,e)return e()}finally{yt=r,Bl.transition=n,!(6&(Sl=t))&&Va()}}function dc(){Rl=Ll.current,wa(Ll)}function uc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,aa(n)),null!==Tl)for(n=Tl.return;null!==n;){var r=n;switch(ti(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&Da();break;case 3:$i(),wa(Ta),wa(ka),no();break;case 5:Zi(r);break;case 4:$i();break;case 13:case 19:wa(Ji);break;case 10:Si(r.type._context);break;case 22:case 23:dc()}n=n.return}if(kl=e,Tl=e=Lc(e.current,null),Il=Rl=t,Dl=0,Ol=null,Ml=Pl=Nl=0,Fl=Ul=null,null!==Ri){for(t=0;t<Ri.length;t++)if(null!==(r=(n=Ri[t]).interleaved)){n.interleaved=null;var a=r.next,i=n.pending;if(null!==i){var o=i.next;i.next=a,r.next=o}n.pending=r}Ri=null}return e}function pc(e,t){for(;;){var n=Tl;try{if(Bi(),ro.current=Zo,co){for(var r=oo.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}co=!1}if(io=0,lo=so=oo=null,uo=!1,po=0,wl.current=null,null===n||null===n.return){Dl=1,Ol=t,Tl=null;break}e:{var o=e,s=n.return,l=n,c=t;if(t=Il,l.flags|=32768,null!==c&&"object"==typeof c&&"function"==typeof c.then){var d=c,u=l,p=u.tag;if(!(1&u.mode||0!==p&&11!==p&&15!==p)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=As(s);if(null!==m){m.flags&=-257,gs(m,s,l,0,t),1&m.mode&&fs(o,d,t),c=d;var f=(t=m).updateQueue;if(null===f){var A=new Set;A.add(c),t.updateQueue=A}else f.add(c);break e}if(!(1&t)){fs(o,d,t),mc();break e}c=Error(i(426))}else if(ai&&1&l.mode){var g=As(s);if(null!==g){!(65536&g.flags)&&(g.flags|=256),gs(g,s,l,0,t),mi(cs(c,l));break e}}o=c=cs(c,l),4!==Dl&&(Dl=2),null===Ul?Ul=[o]:Ul.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,ji(o,hs(0,c,t));break e;case 1:l=c;var _=o.type,y=o.stateNode;if(!(128&o.flags||"function"!=typeof _.getDerivedStateFromError&&(null===y||"function"!=typeof y.componentDidCatch||null!==Wl&&Wl.has(y)))){o.flags|=65536,t&=-t,o.lanes|=t,ji(o,ms(o,l,t));break e}}o=o.return}while(null!==o)}yc(n)}catch(e){t=e,Tl===n&&null!==n&&(Tl=n=n.return);continue}break}}function hc(){var e=xl.current;return xl.current=Zo,null===e?Zo:e}function mc(){0!==Dl&&3!==Dl&&2!==Dl||(Dl=4),null===kl||!(268435455&Nl)&&!(268435455&Pl)||oc(kl,Il)}function fc(e,t){var n=Sl;Sl|=2;var r=hc();for(kl===e&&Il===t||(Vl=null,uc(e,t));;)try{Ac();break}catch(t){pc(e,t)}if(Bi(),Sl=n,xl.current=r,null!==Tl)throw Error(i(261));return kl=null,Il=0,Dl}function Ac(){for(;null!==Tl;)_c(Tl)}function gc(){for(;null!==Tl&&!Ke();)_c(Tl)}function _c(e){var t=Cl(e.alternate,e,Rl);e.memoizedProps=e.pendingProps,null===t?yc(e):Tl=t,wl.current=null}function yc(e){var t=e;do{var n=t.alternate;if(e=t.return,32768&t.flags){if(null!==(n=Ys(n,t)))return n.flags&=32767,void(Tl=n);if(null===e)return Dl=6,void(Tl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(n=Hs(n,t,Rl)))return void(Tl=n);if(null!==(t=t.sibling))return void(Tl=t);Tl=t=e}while(null!==t);0===Dl&&(Dl=5)}function vc(e,t,n){var r=yt,a=Bl.transition;try{Bl.transition=null,yt=1,function(e,t,n,r){do{Ec()}while(null!==Yl);if(6&Sl)throw Error(i(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-ot(n),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~i}}(e,o),e===kl&&(Tl=kl=null,Il=0),!(2064&n.subtreeFlags)&&!(2064&n.flags)||Hl||(Hl=!0,kc(tt,function(){return Ec(),null})),o=!!(15990&n.flags),15990&n.subtreeFlags||o){o=Bl.transition,Bl.transition=null;var s=yt;yt=1;var l=Sl;Sl|=4,wl.current=null,function(e,t){if(ea=qt,hr(e=pr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(e){n=null;break e}var s=0,l=-1,c=-1,d=0,u=0,p=e,h=null;t:for(;;){for(var m;p!==n||0!==a&&3!==p.nodeType||(l=s+a),p!==o||0!==r&&3!==p.nodeType||(c=s+r),3===p.nodeType&&(s+=p.nodeValue.length),null!==(m=p.firstChild);)h=p,p=m;for(;;){if(p===e)break t;if(h===n&&++d===a&&(l=s),h===o&&++u===r&&(c=s),null!==(m=p.nextSibling))break;h=(p=h).parentNode}p=m}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},qt=!1,Xs=t;null!==Xs;)if(e=(t=Xs).child,1028&t.subtreeFlags&&null!==e)e.return=t,Xs=e;else for(;null!==Xs;){t=Xs;try{var f=t.alternate;if(1024&t.flags)switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var A=f.memoizedProps,g=f.memoizedState,_=t.stateNode,y=_.getSnapshotBeforeUpdate(t.elementType===t.type?A:ns(t.type,A),g);_.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var v=t.stateNode.containerInfo;1===v.nodeType?v.textContent="":9===v.nodeType&&v.documentElement&&v.removeChild(v.documentElement);break;default:throw Error(i(163))}}catch(e){bc(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,Xs=e;break}Xs=t.return}f=el,el=!1}(e,n),fl(n,e),mr(ta),qt=!!ea,ta=ea=null,e.current=n,gl(n,e,a),$e(),Sl=l,yt=s,Bl.transition=o}else e.current=n;if(Hl&&(Hl=!1,Yl=e,Ql=a),0===(o=e.pendingLanes)&&(Wl=null),function(e){if(it&&"function"==typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(at,e,void 0,!(128&~e.current.flags))}catch(e){}}(n.stateNode),nc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((a=t[n]).value,{componentStack:a.stack,digest:a.digest});if(Gl)throw Gl=!1,e=ql,ql=null,e;!!(1&Ql)&&0!==e.tag&&Ec(),1&(o=e.pendingLanes)?e===$l?Kl++:(Kl=0,$l=e):Kl=0,Va()}(e,t,n,r)}finally{Bl.transition=a,yt=r}return null}function Ec(){if(null!==Yl){var e=vt(Ql),t=Bl.transition,n=yt;try{if(Bl.transition=null,yt=16>e?16:e,null===Yl)var r=!1;else{if(e=Yl,Yl=null,Ql=0,6&Sl)throw Error(i(331));var a=Sl;for(Sl|=4,Xs=e.current;null!==Xs;){var o=Xs,s=o.child;if(16&Xs.flags){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var d=l[c];for(Xs=d;null!==Xs;){var u=Xs;switch(u.tag){case 0:case 11:case 15:tl(8,u,o)}var p=u.child;if(null!==p)p.return=u,Xs=p;else for(;null!==Xs;){var h=(u=Xs).sibling,m=u.return;if(al(u),u===d){Xs=null;break}if(null!==h){h.return=m,Xs=h;break}Xs=m}}}var f=o.alternate;if(null!==f){var A=f.child;if(null!==A){f.child=null;do{var g=A.sibling;A.sibling=null,A=g}while(null!==A)}}Xs=o}}if(2064&o.subtreeFlags&&null!==s)s.return=o,Xs=s;else e:for(;null!==Xs;){if(2048&(o=Xs).flags)switch(o.tag){case 0:case 11:case 15:tl(9,o,o.return)}var _=o.sibling;if(null!==_){_.return=o.return,Xs=_;break e}Xs=o.return}}var y=e.current;for(Xs=y;null!==Xs;){var v=(s=Xs).child;if(2064&s.subtreeFlags&&null!==v)v.return=s,Xs=v;else e:for(s=y;null!==Xs;){if(2048&(l=Xs).flags)try{switch(l.tag){case 0:case 11:case 15:nl(9,l)}}catch(e){bc(l,l.return,e)}if(l===s){Xs=null;break e}var E=l.sibling;if(null!==E){E.return=l.return,Xs=E;break e}Xs=l.return}}if(Sl=a,Va(),it&&"function"==typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(at,e)}catch(e){}r=!0}return r}finally{yt=n,Bl.transition=t}}return!1}function Cc(e,t,n){e=Fi(e,t=hs(0,t=cs(n,t),1),1),t=Jl(),null!==e&&(gt(e,1,t),nc(e,t))}function bc(e,t,n){if(3===e.tag)Cc(e,e,n);else for(;null!==t;){if(3===t.tag){Cc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Wl||!Wl.has(r))){t=Fi(t,e=ms(t,e=cs(n,e),1),1),e=Jl(),null!==t&&(gt(t,1,e),nc(t,e));break}}t=t.return}}function xc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Jl(),e.pingedLanes|=e.suspendedLanes&n,kl===e&&(Il&n)===n&&(4===Dl||3===Dl&&(130023424&Il)===Il&&500>Xe()-zl?uc(e,0):Ml|=n),nc(e,t)}function wc(e,t){0===t&&(1&e.mode?(t=dt,!(130023424&(dt<<=1))&&(dt=4194304)):t=1);var n=Jl();null!==(e=Oi(e,t))&&(gt(e,t,n),nc(e,n))}function Bc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),wc(e,n)}function Sc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),wc(e,n)}function kc(e,t){return Ye(e,t)}function Tc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ic(e,t,n,r){return new Tc(e,t,n,r)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Lc(e,t){var n=e.alternate;return null===n?((n=Ic(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,a,o){var s=2;if(r=e,"function"==typeof e)Rc(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case b:return Oc(n.children,a,o,t);case x:s=8,a|=8;break;case w:return(e=Ic(12,n,t,2|a)).elementType=w,e.lanes=o,e;case T:return(e=Ic(13,n,t,a)).elementType=T,e.lanes=o,e;case I:return(e=Ic(19,n,t,a)).elementType=I,e.lanes=o,e;case D:return Nc(n,a,o,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case B:s=10;break e;case S:s=9;break e;case k:s=11;break e;case R:s=14;break e;case L:s=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Ic(s,n,t,a)).elementType=e,t.type=r,t.lanes=o,t}function Oc(e,t,n,r){return(e=Ic(7,e,r,t)).lanes=n,e}function Nc(e,t,n,r){return(e=Ic(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Pc(e,t,n){return(e=Ic(6,e,null,t)).lanes=n,e}function Mc(e,t,n){return(t=Ic(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=At(0),this.expirationTimes=At(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=At(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Fc(e,t,n,r,a,i,o,s,l){return e=new Uc(e,t,n,s,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Ic(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pi(i),e}function zc(e){if(!e)return Sa;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(La(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(La(n))return Na(e,n,t)}return t}function jc(e,t,n,r,a,i,o,s,l){return(e=Fc(n,r,!0,e,0,i,0,s,l)).context=zc(null),n=e.current,(i=Ui(r=Jl(),a=ec(n))).callback=null!=t?t:null,Fi(n,i,a),e.current.lanes=a,gt(e,a,r),nc(e,r),e}function Vc(e,t,n,r){var a=t.current,i=Jl(),o=ec(a);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ui(i,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Fi(a,t,o))&&(tc(e,a,o,i),zi(e,a,o)),o}function Gc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wc(e,t){qc(e,t),(e=e.alternate)&&qc(e,t)}Cl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ta.current)ys=!0;else{if(0===(e.lanes&n)&&!(128&t.flags))return ys=!1,function(e,t,n){switch(t.tag){case 3:Ts(t),hi();break;case 5:Xi(t);break;case 1:La(t.type)&&Pa(t);break;case 4:Ki(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Ba(Ci,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ba(Ji,1&Ji.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ps(e,t,n):(Ba(Ji,1&Ji.current),null!==(e=Gs(e,t,n))?e.sibling:null);Ba(Ji,1&Ji.current);break;case 19:if(r=0!==(n&t.childLanes),128&e.flags){if(r)return js(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ba(Ji,Ji.current),r)break;return null;case 22:case 23:return t.lanes=0,xs(e,t,n)}return Gs(e,t,n)}(e,t,n);ys=!!(131072&e.flags)}else ys=!1,ai&&1048576&t.flags&&Ja(t,Ha,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Vs(e,t),e=t.pendingProps;var a=Ra(t,ka.current);Ti(t,n),a=Ao(null,t,r,e,a,n);var o=go();return t.flags|=1,"object"==typeof a&&null!==a&&"function"==typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,La(r)?(o=!0,Pa(t)):o=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Pi(t),a.updater=as,t.stateNode=a,a._reactInternals=t,ls(t,r,e,n),t=ks(null,t,r,!0,o,n)):(t.tag=0,ai&&o&&ei(t),vs(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Vs(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"==typeof e)return Rc(e)?1:0;if(null!=e){if((e=e.$$typeof)===k)return 11;if(e===R)return 14}return 2}(r),e=ns(r,e),a){case 0:t=Bs(null,t,r,e,n);break e;case 1:t=Ss(null,t,r,e,n);break e;case 11:t=Es(null,t,r,e,n);break e;case 14:t=Cs(null,t,r,ns(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,Bs(e,t,r,a=t.elementType===r?a:ns(r,a),n);case 1:return r=t.type,a=t.pendingProps,Ss(e,t,r,a=t.elementType===r?a:ns(r,a),n);case 3:e:{if(Ts(t),null===e)throw Error(i(387));r=t.pendingProps,a=(o=t.memoizedState).element,Mi(e,t),Vi(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Is(e,t,r,n,a=cs(Error(i(423)),t));break e}if(r!==a){t=Is(e,t,r,n,a=cs(Error(i(424)),t));break e}for(ri=ca(t.stateNode.containerInfo.firstChild),ni=t,ai=!0,ii=null,n=Ei(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(hi(),r===a){t=Gs(e,t,n);break e}vs(e,t,r,n)}t=t.child}return t;case 5:return Xi(t),null===e&&ci(t),r=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,s=a.children,na(r,a)?s=null:null!==o&&na(r,o)&&(t.flags|=32),ws(e,t),vs(e,t,s,n),t.child;case 6:return null===e&&ci(t),null;case 13:return Ps(e,t,n);case 4:return Ki(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=vi(t,null,r,n):vs(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,Es(e,t,r,a=t.elementType===r?a:ns(r,a),n);case 7:return vs(e,t,t.pendingProps,n),t.child;case 8:case 12:return vs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,o=t.memoizedProps,s=a.value,Ba(Ci,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===a.children&&!Ta.current){t=Gs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){s=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Ui(-1,n&-n)).tag=2;var d=o.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),ki(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(i(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),ki(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}vs(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Ti(t,n),r=r(a=Ii(a)),t.flags|=1,vs(e,t,r,n),t.child;case 14:return a=ns(r=t.type,t.pendingProps),Cs(e,t,r,a=ns(r.type,a),n);case 15:return bs(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:ns(r,a),Vs(e,t),t.tag=1,La(r)?(e=!0,Pa(t)):e=!1,Ti(t,n),os(t,r,a),ls(t,r,a,n),ks(null,t,r,!0,e,n);case 19:return js(e,t,n);case 22:return xs(e,t,n)}throw Error(i(156,t.tag))};var Hc="function"==typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Qc(e){this._internalRoot=e}function Kc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function Zc(e,t,n,r,a){var i=n._reactRootContainer;if(i){var o=i;if("function"==typeof a){var s=a;a=function(){var e=Gc(o);s.call(e)}}Vc(t,o,e,a)}else o=function(e,t,n,r,a){if(a){if("function"==typeof r){var i=r;r=function(){var e=Gc(o);i.call(e)}}var o=jc(t,r,e,0,null,!1,0,"",Xc);return e._reactRootContainer=o,e[ma]=o.current,Vr(8===e.nodeType?e.parentNode:e),cc(),o}for(;a=e.lastChild;)e.removeChild(a);if("function"==typeof r){var s=r;r=function(){var e=Gc(l);s.call(e)}}var l=Fc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=l,e[ma]=l.current,Vr(8===e.nodeType?e.parentNode:e),cc(function(){Vc(t,l,n,r)}),l}(n,t,e,a,r);return Gc(o)}Qc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Vc(e,t,null,null)},Qc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cc(function(){Vc(null,e,null,null)}),t[ma]=null}},Qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=xt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Mt(e)}},Et=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(_t(t,1|n),nc(t,Xe()),!(6&Sl)&&(jl=Xe()+500,Va()))}break;case 13:cc(function(){var t=Oi(e,1);if(null!==t){var n=Jl();tc(t,e,1,n)}}),Wc(e,1)}},Ct=function(e){if(13===e.tag){var t=Oi(e,134217728);null!==t&&tc(t,e,134217728,Jl()),Wc(e,134217728)}},bt=function(e){if(13===e.tag){var t=ec(e),n=Oi(e,t);null!==n&&tc(n,e,t,Jl()),Wc(e,t)}},xt=function(){return yt},wt=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}},Ce=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=Ea(r);if(!a)throw Error(i(90));Y(r),Z(r,a)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},ke=lc,Te=cc;var Jc={usingClientEntryPoint:!1,Events:[ya,va,Ea,Be,Se,lc]},ed={findFiberByHostInstance:_a,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},td={bundleType:ed.bundleType,version:ed.version,rendererPackageName:ed.rendererPackageName,rendererConfig:ed.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:v.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:ed.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var nd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nd.isDisabled&&nd.supportsFiber)try{at=nd.inject(td),it=nd}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Kc(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:C,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Kc(e))throw Error(i(299));var n=!1,r="",a=Hc;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Fc(e,1,!1,null,0,n,0,r,a),e[ma]=t.current,Vr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return cc(e)},t.hydrate=function(e,t,n){if(!$c(t))throw Error(i(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Kc(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,a=!1,o="",s=Hc;if(null!=n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=jc(t,null,e,1,null!=n?n:null,a,0,o,s),e[ma]=t.current,Vr(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Qc(t)},t.render=function(e,t,n){if(!$c(t))throw Error(i(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$c(e))throw Error(i(40));return!!e._reactRootContainer&&(cc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[ma]=null})}),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$c(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},2635(e,t,n){"use strict";n.d(t,{A:()=>s});var r=n(1354),a=n.n(r),i=n(6314),o=n.n(i)()(a());o.push([e.id,'.file-tree-item-container {\n  display: flex;\n  flex-direction: column;\n}\n\n.file-tree-item {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  padding: 6px 8px;\n  border-radius: var(--radius-sm);\n  cursor: pointer;\n  transition: all var(--transition);\n  min-height: 32px;\n}\n\n.file-tree-item:hover {\n  background: rgba(255, 255, 255, 0.05);\n}\n\n.file-tree-item.selected {\n  background: rgba(0, 170, 136, 0.2);\n  box-shadow: inset 0 0 0 1px rgba(0, 255, 136, 0.3);\n}\n\n.file-tree-item.folder {\n  font-weight: 500;\n}\n\n.chevron-icon {\n  width: 16px;\n  height: 16px;\n  flex-shrink: 0;\n  color: var(--text-tertiary);\n  transition: transform var(--transition);\n}\n\n.chevron-icon.expanded {\n  transform: rotate(90deg);\n}\n\n.file-icon {\n  width: 18px;\n  height: 18px;\n  flex-shrink: 0;\n  color: var(--text-tertiary);\n}\n\n.file-icon.folder {\n  color: #f9ca24;\n}\n\n.file-icon.video {\n  color: #00b894;\n}\n\n.file-icon.image {\n  color: #e17055;\n}\n\n.file-icon.audio {\n  color: #6c5ce7;\n}\n\n.file-icon.template {\n  color: #00cec9;\n}\n\n.file-name {\n  flex: 1;\n  font-size: 13px;\n  color: var(--text-primary);\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.file-duration {\n  font-size: 11px;\n  color: var(--text-tertiary);\n  flex-shrink: 0;\n  margin-left: auto;\n}\n\n.file-tree-children {\n  display: flex;\n  flex-direction: column;\n  gap: 2px;\n}\n\n/* Drag state */\n.file-tree-item[draggable="true"] {\n  cursor: grab;\n}\n\n.file-tree-item[draggable="true"]:active {\n  cursor: grabbing;\n  opacity: 0.6;\n}\n',"",{version:3,sources:["webpack://./src/renderer/components/FileTreeItem.css"],names:[],mappings:"AAAA;EACE,aAAa;EACb,sBAAsB;AACxB;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,QAAQ;EACR,gBAAgB;EAChB,+BAA+B;EAC/B,eAAe;EACf,iCAAiC;EACjC,gBAAgB;AAClB;;AAEA;EACE,qCAAqC;AACvC;;AAEA;EACE,kCAAkC;EAClC,kDAAkD;AACpD;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,cAAc;EACd,2BAA2B;EAC3B,uCAAuC;AACzC;;AAEA;EACE,wBAAwB;AAC1B;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,cAAc;EACd,2BAA2B;AAC7B;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,OAAO;EACP,eAAe;EACf,0BAA0B;EAC1B,mBAAmB;EACnB,gBAAgB;EAChB,uBAAuB;AACzB;;AAEA;EACE,eAAe;EACf,2BAA2B;EAC3B,cAAc;EACd,iBAAiB;AACnB;;AAEA;EACE,aAAa;EACb,sBAAsB;EACtB,QAAQ;AACV;;AAEA,eAAe;AACf;EACE,YAAY;AACd;;AAEA;EACE,gBAAgB;EAChB,YAAY;AACd",sourcesContent:['.file-tree-item-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.file-tree-item {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n  padding: 6px 8px;\r\n  border-radius: var(--radius-sm);\r\n  cursor: pointer;\r\n  transition: all var(--transition);\r\n  min-height: 32px;\r\n}\r\n\r\n.file-tree-item:hover {\r\n  background: rgba(255, 255, 255, 0.05);\r\n}\r\n\r\n.file-tree-item.selected {\r\n  background: rgba(0, 170, 136, 0.2);\r\n  box-shadow: inset 0 0 0 1px rgba(0, 255, 136, 0.3);\r\n}\r\n\r\n.file-tree-item.folder {\r\n  font-weight: 500;\r\n}\r\n\r\n.chevron-icon {\r\n  width: 16px;\r\n  height: 16px;\r\n  flex-shrink: 0;\r\n  color: var(--text-tertiary);\r\n  transition: transform var(--transition);\r\n}\r\n\r\n.chevron-icon.expanded {\r\n  transform: rotate(90deg);\r\n}\r\n\r\n.file-icon {\r\n  width: 18px;\r\n  height: 18px;\r\n  flex-shrink: 0;\r\n  color: var(--text-tertiary);\r\n}\r\n\r\n.file-icon.folder {\r\n  color: #f9ca24;\r\n}\r\n\r\n.file-icon.video {\r\n  color: #00b894;\r\n}\r\n\r\n.file-icon.image {\r\n  color: #e17055;\r\n}\r\n\r\n.file-icon.audio {\r\n  color: #6c5ce7;\r\n}\r\n\r\n.file-icon.template {\r\n  color: #00cec9;\r\n}\r\n\r\n.file-name {\r\n  flex: 1;\r\n  font-size: 13px;\r\n  color: var(--text-primary);\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n.file-duration {\r\n  font-size: 11px;\r\n  color: var(--text-tertiary);\r\n  flex-shrink: 0;\r\n  margin-left: auto;\r\n}\r\n\r\n.file-tree-children {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 2px;\r\n}\r\n\r\n/* Drag state */\r\n.file-tree-item[draggable="true"] {\r\n  cursor: grab;\r\n}\r\n\r\n.file-tree-item[draggable="true"]:active {\r\n  cursor: grabbing;\r\n  opacity: 0.6;\r\n}\r\n'],sourceRoot:""}]);const s=o},2652(e,t,n){(function(){var t,r,a,i={}.hasOwnProperty;a=n(1859).assign,t=n(231),n(2152),n(1998),n(2869),n(3673),n(8252),n(9602),n(2537),n(669),n(6400),n(5109),n(9790),n(4059),n(690),r=n(3267),e.exports=function(){function e(e){var t,n,r;for(t in e||(e={}),this.options=e,n=e.writer||{})i.call(n,t)&&(r=n[t],this["_"+t]=this[t],this[t]=r)}return e.prototype.filterOptions=function(e){var t,n,i,o,s,l,c,d;return e||(e={}),e=a({},this.options,e),(t={writer:this}).pretty=e.pretty||!1,t.allowEmpty=e.allowEmpty||!1,t.indent=null!=(n=e.indent)?n:"  ",t.newline=null!=(i=e.newline)?i:"\n",t.offset=null!=(o=e.offset)?o:0,t.dontPrettyTextNodes=null!=(s=null!=(l=e.dontPrettyTextNodes)?l:e.dontprettytextnodes)?s:0,t.spaceBeforeSlash=null!=(c=null!=(d=e.spaceBeforeSlash)?d:e.spacebeforeslash)?c:"",!0===t.spaceBeforeSlash&&(t.spaceBeforeSlash=" "),t.suppressPrettyCount=0,t.user={},t.state=r.None,t},e.prototype.indent=function(e,t,n){var r;return!t.pretty||t.suppressPrettyCount?"":t.pretty&&(r=(n||0)+t.offset+1)>0?new Array(r).join(t.indent):""},e.prototype.endline=function(e,t,n){return!t.pretty||t.suppressPrettyCount?"":t.newline},e.prototype.attribute=function(e,t,n){var r;return this.openAttribute(e,t,n),r=" "+e.name+'="'+e.value+'"',this.closeAttribute(e,t,n),r},e.prototype.cdata=function(e,t,n){var a;return this.openNode(e,t,n),t.state=r.OpenTag,a=this.indent(e,t,n)+"<![CDATA[",t.state=r.InsideTag,a+=e.value,t.state=r.CloseTag,a+="]]>"+this.endline(e,t,n),t.state=r.None,this.closeNode(e,t,n),a},e.prototype.comment=function(e,t,n){var a;return this.openNode(e,t,n),t.state=r.OpenTag,a=this.indent(e,t,n)+"\x3c!-- ",t.state=r.InsideTag,a+=e.value,t.state=r.CloseTag,a+=" --\x3e"+this.endline(e,t,n),t.state=r.None,this.closeNode(e,t,n),a},e.prototype.declaration=function(e,t,n){var a;return this.openNode(e,t,n),t.state=r.OpenTag,a=this.indent(e,t,n)+"<?xml",t.state=r.InsideTag,a+=' version="'+e.version+'"',null!=e.encoding&&(a+=' encoding="'+e.encoding+'"'),null!=e.standalone&&(a+=' standalone="'+e.standalone+'"'),t.state=r.CloseTag,a+=t.spaceBeforeSlash+"?>",a+=this.endline(e,t,n),t.state=r.None,this.closeNode(e,t,n),a},e.prototype.docType=function(e,t,n){var a,i,o,s,l;if(n||(n=0),this.openNode(e,t,n),t.state=r.OpenTag,s=this.indent(e,t,n),s+="<!DOCTYPE "+e.root().name,e.pubID&&e.sysID?s+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"':e.sysID&&(s+=' SYSTEM "'+e.sysID+'"'),e.children.length>0){for(s+=" [",s+=this.endline(e,t,n),t.state=r.InsideTag,i=0,o=(l=e.children).length;i<o;i++)a=l[i],s+=this.writeChildNode(a,t,n+1);t.state=r.CloseTag,s+="]"}return t.state=r.CloseTag,s+=t.spaceBeforeSlash+">",s+=this.endline(e,t,n),t.state=r.None,this.closeNode(e,t,n),s},e.prototype.element=function(e,n,a){var o,s,l,c,d,u,p,h,m,f,A,g,_,y;for(m in a||(a=0),f=!1,A="",this.openNode(e,n,a),n.state=r.OpenTag,A+=this.indent(e,n,a)+"<"+e.name,g=e.attribs)i.call(g,m)&&(o=g[m],A+=this.attribute(o,n,a));if(c=0===(l=e.children.length)?null:e.children[0],0===l||e.children.every(function(e){return(e.type===t.Text||e.type===t.Raw)&&""===e.value}))n.allowEmpty?(A+=">",n.state=r.CloseTag,A+="</"+e.name+">"+this.endline(e,n,a)):(n.state=r.CloseTag,A+=n.spaceBeforeSlash+"/>"+this.endline(e,n,a));else if(!n.pretty||1!==l||c.type!==t.Text&&c.type!==t.Raw||null==c.value){if(n.dontPrettyTextNodes)for(d=0,p=(_=e.children).length;d<p;d++)if(((s=_[d]).type===t.Text||s.type===t.Raw)&&null!=s.value){n.suppressPrettyCount++,f=!0;break}for(A+=">"+this.endline(e,n,a),n.state=r.InsideTag,u=0,h=(y=e.children).length;u<h;u++)s=y[u],A+=this.writeChildNode(s,n,a+1);n.state=r.CloseTag,A+=this.indent(e,n,a)+"</"+e.name+">",f&&n.suppressPrettyCount--,A+=this.endline(e,n,a),n.state=r.None}else A+=">",n.state=r.InsideTag,n.suppressPrettyCount++,f=!0,A+=this.writeChildNode(c,n,a+1),n.suppressPrettyCount--,f=!1,n.state=r.CloseTag,A+="</"+e.name+">"+this.endline(e,n,a);return this.closeNode(e,n,a),A},e.prototype.writeChildNode=function(e,n,r){switch(e.type){case t.CData:return this.cdata(e,n,r);case t.Comment:return this.comment(e,n,r);case t.Element:return this.element(e,n,r);case t.Raw:return this.raw(e,n,r);case t.Text:return this.text(e,n,r);case t.ProcessingInstruction:return this.processingInstruction(e,n,r);case t.Dummy:return"";case t.Declaration:return this.declaration(e,n,r);case t.DocType:return this.docType(e,n,r);case t.AttributeDeclaration:return this.dtdAttList(e,n,r);case t.ElementDeclaration:return this.dtdElement(e,n,r);case t.EntityDeclaration:return this.dtdEntity(e,n,r);case t.NotationDeclaration:return this.dtdNotation(e,n,r);default:throw new Error("Unknown XML node type: "+e.constructor.name)}},e.prototype.processingInstruction=function(e,t,n){var a;return this.openNode(e,t,n),t.state=r.OpenTag,a=this.indent(e,t,n)+"<?",t.state=r.InsideTag,a+=e.target,e.value&&(a+=" "+e.value),t.state=r.CloseTag,a+=t.spaceBeforeSlash+"?>",a+=this.endline(e,t,n),t.state=r.None,this.closeNode(e,t,n),a},e.prototype.raw=function(e,t,n){var a;return this.openNode(e,t,n),t.state=r.OpenTag,a=this.indent(e,t,n),t.state=r.InsideTag,a+=e.value,t.state=r.CloseTag,a+=this.endline(e,t,n),t.state=r.None,this.closeNode(e,t,n),a},e.prototype.text=function(e,t,n){var a;return this.openNode(e,t,n),t.state=r.OpenTag,a=this.indent(e,t,n),t.state=r.InsideTag,a+=e.value,t.state=r.CloseTag,a+=this.endline(e,t,n),t.state=r.None,this.closeNode(e,t,n),a},e.prototype.dtdAttList=function(e,t,n){var a;return this.openNode(e,t,n),t.state=r.OpenTag,a=this.indent(e,t,n)+"<!ATTLIST",t.state=r.InsideTag,a+=" "+e.elementName+" "+e.attributeName+" "+e.attributeType,"#DEFAULT"!==e.defaultValueType&&(a+=" "+e.defaultValueType),e.defaultValue&&(a+=' "'+e.defaultValue+'"'),t.state=r.CloseTag,a+=t.spaceBeforeSlash+">"+this.endline(e,t,n),t.state=r.None,this.closeNode(e,t,n),a},e.prototype.dtdElement=function(e,t,n){var a;return this.openNode(e,t,n),t.state=r.OpenTag,a=this.indent(e,t,n)+"<!ELEMENT",t.state=r.InsideTag,a+=" "+e.name+" "+e.value,t.state=r.CloseTag,a+=t.spaceBeforeSlash+">"+this.endline(e,t,n),t.state=r.None,this.closeNode(e,t,n),a},e.prototype.dtdEntity=function(e,t,n){var a;return this.openNode(e,t,n),t.state=r.OpenTag,a=this.indent(e,t,n)+"<!ENTITY",t.state=r.InsideTag,e.pe&&(a+=" %"),a+=" "+e.name,e.value?a+=' "'+e.value+'"':(e.pubID&&e.sysID?a+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"':e.sysID&&(a+=' SYSTEM "'+e.sysID+'"'),e.nData&&(a+=" NDATA "+e.nData)),t.state=r.CloseTag,a+=t.spaceBeforeSlash+">"+this.endline(e,t,n),t.state=r.None,this.closeNode(e,t,n),a},e.prototype.dtdNotation=function(e,t,n){var a;return this.openNode(e,t,n),t.state=r.OpenTag,a=this.indent(e,t,n)+"<!NOTATION",t.state=r.InsideTag,a+=" "+e.name,e.pubID&&e.sysID?a+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"':e.pubID?a+=' PUBLIC "'+e.pubID+'"':e.sysID&&(a+=' SYSTEM "'+e.sysID+'"'),t.state=r.CloseTag,a+=t.spaceBeforeSlash+">"+this.endline(e,t,n),t.state=r.None,this.closeNode(e,t,n),a},e.prototype.openNode=function(e,t,n){},e.prototype.closeNode=function(e,t,n){},e.prototype.openAttribute=function(e,t,n){},e.prototype.closeAttribute=function(e,t,n){},e}()}).call(this)},2869(e,t,n){(function(){var t,r,a={}.hasOwnProperty;t=n(231),r=n(1959),e.exports=function(e){function n(e,r){if(n.__super__.constructor.call(this,e),null==r)throw new Error("Missing CDATA text. "+this.debugInfo());this.name="#cdata-section",this.type=t.CData,this.value=this.stringify.cdata(r)}return function(e,t){for(var n in t)a.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(n,e),n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(e){return this.options.writer.cdata(this,this.options.writer.filterOptions(e))},n}(r)}).call(this)},2948(e,t,n){"use strict";n.d(t,{A:()=>s});var r=n(1354),a=n.n(r),i=n(6314),o=n.n(i)()(a());o.push([e.id,".connection-dialog {\n  width: 400px;\n}\n\n.connection-info {\n  background: rgba(255, 255, 255, 0.03);\n  border: 1px solid var(--border-color);\n  border-radius: var(--radius-sm);\n  padding: 16px;\n  margin-bottom: 16px;\n}\n\n.connection-detail {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 6px 0;\n}\n\n.connection-detail:not(:last-child) {\n  border-bottom: 1px solid var(--border-color);\n}\n\n.detail-label {\n  color: var(--text-tertiary);\n  font-size: 13px;\n}\n\n.detail-value {\n  color: var(--text-primary);\n  font-size: 13px;\n  font-weight: 500;\n  font-family: 'Courier New', monospace;\n}\n\n.settings-link {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  color: var(--accent-primary);\n  font-size: 13px;\n  padding: 0;\n  background: none;\n  border: none;\n  cursor: pointer;\n  margin-bottom: 16px;\n}\n\n.settings-link:hover {\n  text-decoration: underline;\n}\n\n.btn-link {\n  background: transparent;\n  border: none;\n  padding: 0;\n  color: var(--accent-primary);\n}\n\n.btn-link:hover {\n  background: transparent;\n  text-decoration: underline;\n}\n\n.error-message {\n  margin-top: 16px;\n  padding: 12px;\n  background: rgba(255, 68, 68, 0.1);\n  border: 1px solid rgba(255, 68, 68, 0.3);\n  border-radius: var(--radius-sm);\n  color: var(--error-light);\n  font-size: 13px;\n}","",{version:3,sources:["webpack://./src/renderer/components/ConnectionDialog.css"],names:[],mappings:"AAAA;EACE,YAAY;AACd;;AAEA;EACE,qCAAqC;EACrC,qCAAqC;EACrC,+BAA+B;EAC/B,aAAa;EACb,mBAAmB;AACrB;;AAEA;EACE,aAAa;EACb,8BAA8B;EAC9B,mBAAmB;EACnB,cAAc;AAChB;;AAEA;EACE,4CAA4C;AAC9C;;AAEA;EACE,2BAA2B;EAC3B,eAAe;AACjB;;AAEA;EACE,0BAA0B;EAC1B,eAAe;EACf,gBAAgB;EAChB,qCAAqC;AACvC;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,QAAQ;EACR,4BAA4B;EAC5B,eAAe;EACf,UAAU;EACV,gBAAgB;EAChB,YAAY;EACZ,eAAe;EACf,mBAAmB;AACrB;;AAEA;EACE,0BAA0B;AAC5B;;AAEA;EACE,uBAAuB;EACvB,YAAY;EACZ,UAAU;EACV,4BAA4B;AAC9B;;AAEA;EACE,uBAAuB;EACvB,0BAA0B;AAC5B;;AAEA;EACE,gBAAgB;EAChB,aAAa;EACb,kCAAkC;EAClC,wCAAwC;EACxC,+BAA+B;EAC/B,yBAAyB;EACzB,eAAe;AACjB",sourcesContent:[".connection-dialog {\r\n  width: 400px;\r\n}\r\n\r\n.connection-info {\r\n  background: rgba(255, 255, 255, 0.03);\r\n  border: 1px solid var(--border-color);\r\n  border-radius: var(--radius-sm);\r\n  padding: 16px;\r\n  margin-bottom: 16px;\r\n}\r\n\r\n.connection-detail {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 6px 0;\r\n}\r\n\r\n.connection-detail:not(:last-child) {\r\n  border-bottom: 1px solid var(--border-color);\r\n}\r\n\r\n.detail-label {\r\n  color: var(--text-tertiary);\r\n  font-size: 13px;\r\n}\r\n\r\n.detail-value {\r\n  color: var(--text-primary);\r\n  font-size: 13px;\r\n  font-weight: 500;\r\n  font-family: 'Courier New', monospace;\r\n}\r\n\r\n.settings-link {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n  color: var(--accent-primary);\r\n  font-size: 13px;\r\n  padding: 0;\r\n  background: none;\r\n  border: none;\r\n  cursor: pointer;\r\n  margin-bottom: 16px;\r\n}\r\n\r\n.settings-link:hover {\r\n  text-decoration: underline;\r\n}\r\n\r\n.btn-link {\r\n  background: transparent;\r\n  border: none;\r\n  padding: 0;\r\n  color: var(--accent-primary);\r\n}\r\n\r\n.btn-link:hover {\r\n  background: transparent;\r\n  text-decoration: underline;\r\n}\r\n\r\n.error-message {\r\n  margin-top: 16px;\r\n  padding: 12px;\r\n  background: rgba(255, 68, 68, 0.1);\r\n  border: 1px solid rgba(255, 68, 68, 0.3);\r\n  border-radius: var(--radius-sm);\r\n  color: var(--error-light);\r\n  font-size: 13px;\r\n}"],sourceRoot:""}]);const s=o},3130(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseBoolean=t.parseNumber=t.parseString=t.deserializeXML=void 0;const r=n(8805);t.deserializeXML=async(e,t)=>await(0,r.parseStringPromise)(e,t),t.parseString=function(e,t,n){const r=e?.[t]?.[0]?._;return r?.toString()??n},t.parseNumber=function(e,t,n){const r=e?.[t]?.[0]?._;if(void 0===r)return n;if("number"==typeof r)return r;const a=parseFloat(r);return isNaN(a)?n:a},t.parseBoolean=function(e,t,n){const r=e?.[t]?.[0]?._;return void 0===r?n:"true"===r?.toString()?.trim()?.toLowerCase()}},3142(e,t,n){"use strict";n.d(t,{A:()=>s});var r=n(1354),a=n.n(r),i=n(6314),o=n.n(i)()(a());o.push([e.id,".macro-list {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n\n.macro-list-header {\n  padding: 16px;\n  border-bottom: 1px solid var(--border-color);\n}\n\n.macro-list-header .btn {\n  width: 100%;\n  justify-content: center;\n}\n\n.macro-list-content {\n  flex: 1;\n  overflow: auto;\n  padding: 16px;\n}\n\n.empty-state {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 40px 20px;\n  text-align: center;\n}\n\n.empty-state p {\n  margin: 8px 0 0;\n  color: var(--text-tertiary);\n}\n\n.macros {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n\n.macro-item {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  padding: 10px 12px;\n  background: rgba(255, 255, 255, 0.03);\n  border: 1px solid var(--border-color);\n  border-radius: var(--radius-sm);\n  cursor: grab;\n  transition: all var(--transition);\n}\n\n.macro-item:hover {\n  background: rgba(255, 255, 255, 0.05);\n}\n\n.macro-item:active {\n  cursor: grabbing;\n}\n\n.macro-color {\n  width: 4px;\n  height: 32px;\n  border-radius: 2px;\n  flex-shrink: 0;\n}\n\n.macro-info {\n  flex: 1;\n  min-width: 0;\n  display: flex;\n  flex-direction: column;\n  gap: 2px;\n}\n\n.macro-name {\n  font-size: 13px;\n  font-weight: 500;\n  color: var(--text-primary);\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.macro-description {\n  font-size: 11px;\n  color: var(--text-secondary);\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.macro-commands {\n  font-size: 10px;\n  color: var(--text-tertiary);\n}\n\n.macro-actions {\n  display: flex;\n  gap: 4px;\n  opacity: 0;\n  transition: opacity var(--transition);\n}\n\n.macro-item:hover .macro-actions {\n  opacity: 1;\n}\n\n.btn-icon {\n  width: 28px;\n  height: 28px;\n  padding: 0;\n  border: none;\n  border-radius: var(--radius-sm);\n  background: rgba(255, 255, 255, 0.05);\n  color: var(--text-secondary);\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all var(--transition);\n}\n\n.btn-icon:hover {\n  background: rgba(255, 255, 255, 0.1);\n  color: var(--text-primary);\n}\n\n.btn-danger-icon:hover {\n  background: rgba(255, 68, 68, 0.2);\n  color: var(--error-light);\n}\n","",{version:3,sources:["webpack://./src/renderer/components/MacroList.css"],names:[],mappings:"AAAA;EACE,YAAY;EACZ,aAAa;EACb,sBAAsB;AACxB;;AAEA;EACE,aAAa;EACb,4CAA4C;AAC9C;;AAEA;EACE,WAAW;EACX,uBAAuB;AACzB;;AAEA;EACE,OAAO;EACP,cAAc;EACd,aAAa;AACf;;AAEA;EACE,aAAa;EACb,sBAAsB;EACtB,mBAAmB;EACnB,uBAAuB;EACvB,kBAAkB;EAClB,kBAAkB;AACpB;;AAEA;EACE,eAAe;EACf,2BAA2B;AAC7B;;AAEA;EACE,aAAa;EACb,sBAAsB;EACtB,QAAQ;AACV;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,SAAS;EACT,kBAAkB;EAClB,qCAAqC;EACrC,qCAAqC;EACrC,+BAA+B;EAC/B,YAAY;EACZ,iCAAiC;AACnC;;AAEA;EACE,qCAAqC;AACvC;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,UAAU;EACV,YAAY;EACZ,kBAAkB;EAClB,cAAc;AAChB;;AAEA;EACE,OAAO;EACP,YAAY;EACZ,aAAa;EACb,sBAAsB;EACtB,QAAQ;AACV;;AAEA;EACE,eAAe;EACf,gBAAgB;EAChB,0BAA0B;EAC1B,mBAAmB;EACnB,gBAAgB;EAChB,uBAAuB;AACzB;;AAEA;EACE,eAAe;EACf,4BAA4B;EAC5B,mBAAmB;EACnB,gBAAgB;EAChB,uBAAuB;AACzB;;AAEA;EACE,eAAe;EACf,2BAA2B;AAC7B;;AAEA;EACE,aAAa;EACb,QAAQ;EACR,UAAU;EACV,qCAAqC;AACvC;;AAEA;EACE,UAAU;AACZ;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,UAAU;EACV,YAAY;EACZ,+BAA+B;EAC/B,qCAAqC;EACrC,4BAA4B;EAC5B,eAAe;EACf,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,iCAAiC;AACnC;;AAEA;EACE,oCAAoC;EACpC,0BAA0B;AAC5B;;AAEA;EACE,kCAAkC;EAClC,yBAAyB;AAC3B",sourcesContent:[".macro-list {\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.macro-list-header {\r\n  padding: 16px;\r\n  border-bottom: 1px solid var(--border-color);\r\n}\r\n\r\n.macro-list-header .btn {\r\n  width: 100%;\r\n  justify-content: center;\r\n}\r\n\r\n.macro-list-content {\r\n  flex: 1;\r\n  overflow: auto;\r\n  padding: 16px;\r\n}\r\n\r\n.empty-state {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 40px 20px;\r\n  text-align: center;\r\n}\r\n\r\n.empty-state p {\r\n  margin: 8px 0 0;\r\n  color: var(--text-tertiary);\r\n}\r\n\r\n.macros {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n}\r\n\r\n.macro-item {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n  padding: 10px 12px;\r\n  background: rgba(255, 255, 255, 0.03);\r\n  border: 1px solid var(--border-color);\r\n  border-radius: var(--radius-sm);\r\n  cursor: grab;\r\n  transition: all var(--transition);\r\n}\r\n\r\n.macro-item:hover {\r\n  background: rgba(255, 255, 255, 0.05);\r\n}\r\n\r\n.macro-item:active {\r\n  cursor: grabbing;\r\n}\r\n\r\n.macro-color {\r\n  width: 4px;\r\n  height: 32px;\r\n  border-radius: 2px;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.macro-info {\r\n  flex: 1;\r\n  min-width: 0;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 2px;\r\n}\r\n\r\n.macro-name {\r\n  font-size: 13px;\r\n  font-weight: 500;\r\n  color: var(--text-primary);\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n.macro-description {\r\n  font-size: 11px;\r\n  color: var(--text-secondary);\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n.macro-commands {\r\n  font-size: 10px;\r\n  color: var(--text-tertiary);\r\n}\r\n\r\n.macro-actions {\r\n  display: flex;\r\n  gap: 4px;\r\n  opacity: 0;\r\n  transition: opacity var(--transition);\r\n}\r\n\r\n.macro-item:hover .macro-actions {\r\n  opacity: 1;\r\n}\r\n\r\n.btn-icon {\r\n  width: 28px;\r\n  height: 28px;\r\n  padding: 0;\r\n  border: none;\r\n  border-radius: var(--radius-sm);\r\n  background: rgba(255, 255, 255, 0.05);\r\n  color: var(--text-secondary);\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  transition: all var(--transition);\r\n}\r\n\r\n.btn-icon:hover {\r\n  background: rgba(255, 255, 255, 0.1);\r\n  color: var(--text-primary);\r\n}\r\n\r\n.btn-danger-icon:hover {\r\n  background: rgba(255, 68, 68, 0.2);\r\n  color: var(--error-light);\r\n}\r\n"],sourceRoot:""}]);const s=o},3158(e,t,n){(function(){var t,r,a,i,o,s,l,c,d,u,p,h,m,f,A,g,_,y,v,E,C,b,x,w={}.hasOwnProperty;x=n(1859),C=x.isObject,E=x.isFunction,b=x.isPlainObject,v=x.getValue,t=n(231),h=n(3835),m=n(8252),i=n(2869),o=n(3673),A=n(9602),y=n(2537),f=n(669),u=n(2152),p=n(1998),s=n(5109),c=n(4059),l=n(9790),d=n(690),a=n(6708),_=n(5854),g=n(420),r=n(3267),e.exports=function(){function e(e,n,r){var a;this.name="?xml",this.type=t.Document,e||(e={}),a={},e.writer?b(e.writer)&&(a=e.writer,e.writer=new g):e.writer=new g,this.options=e,this.writer=e.writer,this.writerOptions=this.writer.filterOptions(a),this.stringify=new _(e),this.onDataCallback=n||function(){},this.onEndCallback=r||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return e.prototype.createChildNode=function(e){var n,r,a,i,o,s,l,c;switch(e.type){case t.CData:this.cdata(e.value);break;case t.Comment:this.comment(e.value);break;case t.Element:for(r in a={},l=e.attribs)w.call(l,r)&&(n=l[r],a[r]=n.value);this.node(e.name,a);break;case t.Dummy:this.dummy();break;case t.Raw:this.raw(e.value);break;case t.Text:this.text(e.value);break;case t.ProcessingInstruction:this.instruction(e.target,e.value);break;default:throw new Error("This XML node type is not supported in a JS object: "+e.constructor.name)}for(o=0,s=(c=e.children).length;o<s;o++)i=c[o],this.createChildNode(i),i.type===t.Element&&this.up();return this},e.prototype.dummy=function(){return this},e.prototype.node=function(e,t,n){var r;if(null==e)throw new Error("Missing node name.");if(this.root&&-1===this.currentLevel)throw new Error("Document can only have one root node. "+this.debugInfo(e));return this.openCurrent(),e=v(e),null==t&&(t={}),t=v(t),C(t)||(n=(r=[t,n])[0],t=r[1]),this.currentNode=new m(this,e,t),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,null!=n&&this.text(n),this},e.prototype.element=function(e,n,r){var a,i,o,s,l,c;if(this.currentNode&&this.currentNode.type===t.DocType)this.dtdElement.apply(this,arguments);else if(Array.isArray(e)||C(e)||E(e))for(s=this.options.noValidation,this.options.noValidation=!0,(c=new h(this.options).element("TEMP_ROOT")).element(e),this.options.noValidation=s,i=0,o=(l=c.children).length;i<o;i++)a=l[i],this.createChildNode(a),a.type===t.Element&&this.up();else this.node(e,n,r);return this},e.prototype.attribute=function(e,t){var n,r;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(e));if(null!=e&&(e=v(e)),C(e))for(n in e)w.call(e,n)&&(r=e[n],this.attribute(n,r));else E(t)&&(t=t.apply()),this.options.keepNullAttributes&&null==t?this.currentNode.attribs[e]=new a(this,e,""):null!=t&&(this.currentNode.attribs[e]=new a(this,e,t));return this},e.prototype.text=function(e){var t;return this.openCurrent(),t=new y(this,e),this.onData(this.writer.text(t,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.cdata=function(e){var t;return this.openCurrent(),t=new i(this,e),this.onData(this.writer.cdata(t,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.comment=function(e){var t;return this.openCurrent(),t=new o(this,e),this.onData(this.writer.comment(t,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.raw=function(e){var t;return this.openCurrent(),t=new A(this,e),this.onData(this.writer.raw(t,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.instruction=function(e,t){var n,r,a,i,o;if(this.openCurrent(),null!=e&&(e=v(e)),null!=t&&(t=v(t)),Array.isArray(e))for(n=0,i=e.length;n<i;n++)r=e[n],this.instruction(r);else if(C(e))for(r in e)w.call(e,r)&&(a=e[r],this.instruction(r,a));else E(t)&&(t=t.apply()),o=new f(this,e,t),this.onData(this.writer.processingInstruction(o,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this},e.prototype.declaration=function(e,t,n){var r;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return r=new u(this,e,t,n),this.onData(this.writer.declaration(r,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.doctype=function(e,t,n){if(this.openCurrent(),null==e)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new p(this,t,n),this.currentNode.rootNodeName=e,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},e.prototype.dtdElement=function(e,t){var n;return this.openCurrent(),n=new l(this,e,t),this.onData(this.writer.dtdElement(n,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.attList=function(e,t,n,r,a){var i;return this.openCurrent(),i=new s(this,e,t,n,r,a),this.onData(this.writer.dtdAttList(i,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.entity=function(e,t){var n;return this.openCurrent(),n=new c(this,!1,e,t),this.onData(this.writer.dtdEntity(n,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.pEntity=function(e,t){var n;return this.openCurrent(),n=new c(this,!0,e,t),this.onData(this.writer.dtdEntity(n,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.notation=function(e,t){var n;return this.openCurrent(),n=new d(this,e,t),this.onData(this.writer.dtdNotation(n,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},e.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},e.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},e.prototype.openNode=function(e){var n,a,i,o;if(!e.isOpen){if(this.root||0!==this.currentLevel||e.type!==t.Element||(this.root=e),a="",e.type===t.Element){for(i in this.writerOptions.state=r.OpenTag,a=this.writer.indent(e,this.writerOptions,this.currentLevel)+"<"+e.name,o=e.attribs)w.call(o,i)&&(n=o[i],a+=this.writer.attribute(n,this.writerOptions,this.currentLevel));a+=(e.children?">":"/>")+this.writer.endline(e,this.writerOptions,this.currentLevel),this.writerOptions.state=r.InsideTag}else this.writerOptions.state=r.OpenTag,a=this.writer.indent(e,this.writerOptions,this.currentLevel)+"<!DOCTYPE "+e.rootNodeName,e.pubID&&e.sysID?a+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"':e.sysID&&(a+=' SYSTEM "'+e.sysID+'"'),e.children?(a+=" [",this.writerOptions.state=r.InsideTag):(this.writerOptions.state=r.CloseTag,a+=">"),a+=this.writer.endline(e,this.writerOptions,this.currentLevel);return this.onData(a,this.currentLevel),e.isOpen=!0}},e.prototype.closeNode=function(e){var n;if(!e.isClosed)return"",this.writerOptions.state=r.CloseTag,n=e.type===t.Element?this.writer.indent(e,this.writerOptions,this.currentLevel)+"</"+e.name+">"+this.writer.endline(e,this.writerOptions,this.currentLevel):this.writer.indent(e,this.writerOptions,this.currentLevel)+"]>"+this.writer.endline(e,this.writerOptions,this.currentLevel),this.writerOptions.state=r.None,this.onData(n,this.currentLevel),e.isClosed=!0},e.prototype.onData=function(e,t){return this.documentStarted=!0,this.onDataCallback(e,t+1)},e.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},e.prototype.debugInfo=function(e){return null==e?"":"node: <"+e+">"},e.prototype.ele=function(){return this.element.apply(this,arguments)},e.prototype.nod=function(e,t,n){return this.node(e,t,n)},e.prototype.txt=function(e){return this.text(e)},e.prototype.dat=function(e){return this.cdata(e)},e.prototype.com=function(e){return this.comment(e)},e.prototype.ins=function(e,t){return this.instruction(e,t)},e.prototype.dec=function(e,t,n){return this.declaration(e,t,n)},e.prototype.dtd=function(e,t,n){return this.doctype(e,t,n)},e.prototype.e=function(e,t,n){return this.element(e,t,n)},e.prototype.n=function(e,t,n){return this.node(e,t,n)},e.prototype.t=function(e){return this.text(e)},e.prototype.d=function(e){return this.cdata(e)},e.prototype.c=function(e){return this.comment(e)},e.prototype.r=function(e){return this.raw(e)},e.prototype.i=function(e,t){return this.instruction(e,t)},e.prototype.att=function(){return this.currentNode&&this.currentNode.type===t.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},e.prototype.a=function(){return this.currentNode&&this.currentNode.type===t.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},e.prototype.ent=function(e,t){return this.entity(e,t)},e.prototype.pent=function(e,t){return this.pEntity(e,t)},e.prototype.not=function(e,t){return this.notation(e,t)},e}()}).call(this)},3177(e,t){(function(){"use strict";t.stripBOM=function(e){return"\ufeff"===e[0]?e.substring(1):e}}).call(this)},3201(e,t,n){"use strict";n.d(t,{A:()=>s});var r=n(1354),a=n.n(r),i=n(6314),o=n.n(i)()(a());o.push([e.id,".time-display {\n  padding: 8px 12px;\n  border-bottom: 1px solid var(--border-color);\n}\n\n.time-progress {\n  height: 4px;\n  background: rgba(255, 255, 255, 0.1);\n  border-radius: 2px;\n  overflow: hidden;\n  margin-bottom: 8px;\n}\n\n.time-progress-bar {\n  height: 100%;\n  background: var(--accent-gradient);\n  border-radius: 2px;\n  transition: width 0.1s linear;\n  min-width: 0;\n}\n\n.time-progress-bar.playing {\n  box-shadow: 0 0 8px rgba(0, 255, 136, 0.5);\n}\n\n.time-values {\n  display: flex;\n  justify-content: space-between;\n  font-size: 11px;\n  font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Fira Mono', monospace;\n}\n\n.time-current {\n  color: var(--text-primary);\n  font-weight: 600;\n}\n\n.time-remaining {\n  color: var(--warning);\n  font-weight: 500;\n}\n\n.time-total {\n  color: var(--text-tertiary);\n}\n","",{version:3,sources:["webpack://./src/renderer/components/TimeDisplay.css"],names:[],mappings:"AAAA;EACE,iBAAiB;EACjB,4CAA4C;AAC9C;;AAEA;EACE,WAAW;EACX,oCAAoC;EACpC,kBAAkB;EAClB,gBAAgB;EAChB,kBAAkB;AACpB;;AAEA;EACE,YAAY;EACZ,kCAAkC;EAClC,kBAAkB;EAClB,6BAA6B;EAC7B,YAAY;AACd;;AAEA;EACE,0CAA0C;AAC5C;;AAEA;EACE,aAAa;EACb,8BAA8B;EAC9B,eAAe;EACf,uEAAuE;AACzE;;AAEA;EACE,0BAA0B;EAC1B,gBAAgB;AAClB;;AAEA;EACE,qBAAqB;EACrB,gBAAgB;AAClB;;AAEA;EACE,2BAA2B;AAC7B",sourcesContent:[".time-display {\r\n  padding: 8px 12px;\r\n  border-bottom: 1px solid var(--border-color);\r\n}\r\n\r\n.time-progress {\r\n  height: 4px;\r\n  background: rgba(255, 255, 255, 0.1);\r\n  border-radius: 2px;\r\n  overflow: hidden;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.time-progress-bar {\r\n  height: 100%;\r\n  background: var(--accent-gradient);\r\n  border-radius: 2px;\r\n  transition: width 0.1s linear;\r\n  min-width: 0;\r\n}\r\n\r\n.time-progress-bar.playing {\r\n  box-shadow: 0 0 8px rgba(0, 255, 136, 0.5);\r\n}\r\n\r\n.time-values {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  font-size: 11px;\r\n  font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Fira Mono', monospace;\r\n}\r\n\r\n.time-current {\r\n  color: var(--text-primary);\r\n  font-weight: 600;\r\n}\r\n\r\n.time-remaining {\r\n  color: var(--warning);\r\n  font-weight: 500;\r\n}\r\n\r\n.time-total {\r\n  color: var(--text-tertiary);\r\n}\r\n"],sourceRoot:""}]);const s=o},3267(e){(function(){e.exports={None:0,OpenTag:1,InsideTag:2,CloseTag:3}}).call(this)},3467(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deserializeVersion=void 0;const r=n(1657);t.deserializeVersion=e=>{let t=r.Version.Unsupported;const n=e.split("."),a=Number(n[0]),i=Number(n[1]);return a<=2?1===i?t=r.Version.v21x:2===i?t=r.Version.v22x:i>=3&&(t=r.Version.v23x):t=r.Version.v23x,{version:t,fullVersion:e}}},3557(e){"use strict";e.exports=require("timers")},3621(e,t,n){"use strict";n.d(t,{A:()=>s});var r=n(1354),a=n.n(r),i=n(6314),o=n.n(i)()(a());o.push([e.id,"/* Global Styles */\n:root {\n  --bg-primary: #0a0a0f;\n  --bg-secondary: #1a1a2e;\n  --bg-tertiary: #2a2a3e;\n  \n  --accent-primary: #00aa88;\n  --accent-secondary: #00ff88;\n  --accent-gradient: linear-gradient(135deg, #00aa88 0%, #00ff88 100%);\n  \n  --error: #ff4444;\n  --error-light: #ff8888;\n  --warning: #ffaa44;\n  --warning-light: #ffcc88;\n  \n  --text-primary: #ffffff;\n  --text-secondary: rgba(255, 255, 255, 0.7);\n  --text-tertiary: rgba(255, 255, 255, 0.5);\n  \n  --border-color: rgba(255, 255, 255, 0.1);\n  --border-glow: rgba(0, 255, 136, 0.3);\n  \n  --radius-sm: 8px;\n  --radius-md: 12px;\n  --radius-lg: 16px;\n  \n  --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.3);\n  --shadow-md: 0 4px 16px rgba(0, 0, 0, 0.4);\n  --shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.5);\n  --shadow-glow: 0 0 20px rgba(0, 255, 136, 0.3);\n  \n  --transition: 200ms ease;\n}\n\n* {\n  box-sizing: border-box;\n}\n\nbody {\n  margin: 0;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  background: linear-gradient(135deg, var(--bg-primary) 0%, var(--bg-secondary) 100%);\n  color: var(--text-primary);\n  overflow: hidden;\n}\n\n/* App Layout */\n.app {\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n\n.app-main {\n  flex: 1;\n  display: flex;\n  overflow: hidden;\n}\n\n.content-area {\n  flex: 1;\n  overflow: auto;\n  padding: 20px;\n}\n\n/* Scrollbar Styles */\n::-webkit-scrollbar {\n  width: 8px;\n  height: 8px;\n}\n\n::-webkit-scrollbar-track {\n  background: rgba(255, 255, 255, 0.05);\n}\n\n::-webkit-scrollbar-thumb {\n  background: rgba(255, 255, 255, 0.2);\n  border-radius: 4px;\n}\n\n::-webkit-scrollbar-thumb:hover {\n  background: rgba(255, 255, 255, 0.3);\n}\n\n/* Buttons */\n.btn {\n  padding: 10px 20px;\n  border: none;\n  border-radius: var(--radius-sm);\n  background: rgba(255, 255, 255, 0.1);\n  color: var(--text-primary);\n  font-size: 13px;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all var(--transition);\n  display: inline-flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.btn:hover {\n  background: rgba(255, 255, 255, 0.15);\n  transform: translateY(-1px);\n}\n\n.btn:active {\n  transform: scale(0.98);\n}\n\n.btn-primary {\n  background: var(--accent-gradient);\n  color: var(--bg-primary);\n  font-weight: 600;\n}\n\n.btn-primary:hover {\n  box-shadow: var(--shadow-glow);\n  transform: translateY(-2px);\n}\n\n.btn-danger {\n  background: var(--error);\n  color: white;\n}\n\n.btn-danger:hover {\n  background: var(--error-light);\n  box-shadow: 0 0 20px rgba(255, 68, 68, 0.3);\n}\n\n.btn-icon {\n  width: 36px;\n  height: 36px;\n  padding: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: var(--radius-sm);\n}\n\n/* Input Fields */\n.input-group {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  margin-bottom: 16px;\n}\n\n.input-group label {\n  font-size: 13px;\n  font-weight: 500;\n  color: var(--text-secondary);\n}\n\n.input {\n  width: 100%;\n  height: 40px;\n  padding: 0 12px;\n  background: rgba(255, 255, 255, 0.05);\n  border: 1px solid var(--border-color);\n  border-radius: var(--radius-sm);\n  color: var(--text-primary);\n  font-size: 13px;\n  transition: all var(--transition);\n}\n\n.input:focus {\n  outline: none;\n  border-color: var(--accent-primary);\n  box-shadow: 0 0 0 3px rgba(0, 255, 136, 0.1);\n}\n\n.input::placeholder {\n  color: var(--text-tertiary);\n}\n\n/* Cards */\n.card {\n  background: rgba(255, 255, 255, 0.03);\n  backdrop-filter: blur(10px);\n  border: 1px solid var(--border-color);\n  border-radius: var(--radius-md);\n  box-shadow: var(--shadow-sm);\n}\n\n.card-header {\n  padding: 16px;\n  border-bottom: 1px solid var(--border-color);\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n\n.card-title {\n  font-size: 15px;\n  font-weight: 600;\n  color: var(--text-primary);\n}\n\n.card-body {\n  padding: 16px;\n}\n\n/* Modal/Dialog */\n.modal-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.7);\n  backdrop-filter: blur(4px);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n  animation: fadeIn 0.2s ease;\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n.modal {\n  background: linear-gradient(135deg, rgba(26, 26, 46, 0.95) 0%, rgba(42, 42, 62, 0.95) 100%);\n  border: 1px solid var(--border-color);\n  border-radius: var(--radius-lg);\n  box-shadow: var(--shadow-lg);\n  min-width: 400px;\n  max-width: 600px;\n  animation: slideUp 0.3s ease;\n}\n\n@keyframes slideUp {\n  from {\n    transform: translateY(20px);\n    opacity: 0;\n  }\n  to {\n    transform: translateY(0);\n    opacity: 1;\n  }\n}\n\n.modal-header {\n  padding: 24px;\n  border-bottom: 1px solid var(--border-color);\n}\n\n.modal-title {\n  font-size: 18px;\n  font-weight: 600;\n  color: var(--text-primary);\n}\n\n.modal-body {\n  padding: 24px;\n}\n\n.modal-footer {\n  padding: 20px 24px;\n  border-top: 1px solid var(--border-color);\n  display: flex;\n  gap: 12px;\n  justify-content: flex-end;\n}\n\n/* Status Indicator */\n.status-indicator {\n  display: inline-flex;\n  align-items: center;\n  gap: 8px;\n  padding: 6px 12px;\n  background: rgba(255, 255, 255, 0.05);\n  border-radius: 20px;\n  font-size: 12px;\n}\n\n.status-dot {\n  width: 8px;\n  height: 8px;\n  border-radius: 50%;\n  background: var(--error);\n  animation: pulse 2s ease-in-out infinite;\n}\n\n.status-dot.connected {\n  background: var(--accent-secondary);\n}\n\n@keyframes pulse {\n  0%, 100% {\n    opacity: 1;\n  }\n  50% {\n    opacity: 0.5;\n  }\n}\n\n/* Utility Classes */\n.flex {\n  display: flex;\n}\n\n.flex-col {\n  display: flex;\n  flex-direction: column;\n}\n\n.items-center {\n  align-items: center;\n}\n\n.justify-between {\n  justify-content: space-between;\n}\n\n.gap-4 {\n  gap: 4px;\n}\n\n.gap-8 {\n  gap: 8px;\n}\n\n.gap-12 {\n  gap: 12px;\n}\n\n.gap-16 {\n  gap: 16px;\n}\n\n.text-sm {\n  font-size: 12px;\n}\n\n.text-md {\n  font-size: 13px;\n}\n\n.text-lg {\n  font-size: 15px;\n}\n\n.font-medium {\n  font-weight: 500;\n}\n\n.font-semibold {\n  font-weight: 600;\n}\n\n.text-secondary {\n  color: var(--text-secondary);\n}\n\n.text-tertiary {\n  color: var(--text-tertiary);\n}\n\n.mt-4 {\n  margin-top: 4px;\n}\n\n.mt-8 {\n  margin-top: 8px;\n}\n\n.mt-16 {\n  margin-top: 16px;\n}\n\n.mb-4 {\n  margin-bottom: 4px;\n}\n\n.mb-8 {\n  margin-bottom: 8px;\n}\n\n.mb-16 {\n  margin-bottom: 16px;\n}","",{version:3,sources:["webpack://./src/renderer/styles/App.css"],names:[],mappings:"AAAA,kBAAkB;AAClB;EACE,qBAAqB;EACrB,uBAAuB;EACvB,sBAAsB;;EAEtB,yBAAyB;EACzB,2BAA2B;EAC3B,oEAAoE;;EAEpE,gBAAgB;EAChB,sBAAsB;EACtB,kBAAkB;EAClB,wBAAwB;;EAExB,uBAAuB;EACvB,0CAA0C;EAC1C,yCAAyC;;EAEzC,wCAAwC;EACxC,qCAAqC;;EAErC,gBAAgB;EAChB,iBAAiB;EACjB,iBAAiB;;EAEjB,yCAAyC;EACzC,0CAA0C;EAC1C,0CAA0C;EAC1C,8CAA8C;;EAE9C,wBAAwB;AAC1B;;AAEA;EACE,sBAAsB;AACxB;;AAEA;EACE,SAAS;EACT,yGAAyG;EACzG,mCAAmC;EACnC,kCAAkC;EAClC,mFAAmF;EACnF,0BAA0B;EAC1B,gBAAgB;AAClB;;AAEA,eAAe;AACf;EACE,YAAY;EACZ,aAAa;EACb,aAAa;EACb,sBAAsB;EACtB,gBAAgB;AAClB;;AAEA;EACE,OAAO;EACP,aAAa;EACb,gBAAgB;AAClB;;AAEA;EACE,OAAO;EACP,cAAc;EACd,aAAa;AACf;;AAEA,qBAAqB;AACrB;EACE,UAAU;EACV,WAAW;AACb;;AAEA;EACE,qCAAqC;AACvC;;AAEA;EACE,oCAAoC;EACpC,kBAAkB;AACpB;;AAEA;EACE,oCAAoC;AACtC;;AAEA,YAAY;AACZ;EACE,kBAAkB;EAClB,YAAY;EACZ,+BAA+B;EAC/B,oCAAoC;EACpC,0BAA0B;EAC1B,eAAe;EACf,gBAAgB;EAChB,eAAe;EACf,iCAAiC;EACjC,oBAAoB;EACpB,mBAAmB;EACnB,QAAQ;AACV;;AAEA;EACE,qCAAqC;EACrC,2BAA2B;AAC7B;;AAEA;EACE,sBAAsB;AACxB;;AAEA;EACE,kCAAkC;EAClC,wBAAwB;EACxB,gBAAgB;AAClB;;AAEA;EACE,8BAA8B;EAC9B,2BAA2B;AAC7B;;AAEA;EACE,wBAAwB;EACxB,YAAY;AACd;;AAEA;EACE,8BAA8B;EAC9B,2CAA2C;AAC7C;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,UAAU;EACV,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,+BAA+B;AACjC;;AAEA,iBAAiB;AACjB;EACE,aAAa;EACb,sBAAsB;EACtB,QAAQ;EACR,mBAAmB;AACrB;;AAEA;EACE,eAAe;EACf,gBAAgB;EAChB,4BAA4B;AAC9B;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,eAAe;EACf,qCAAqC;EACrC,qCAAqC;EACrC,+BAA+B;EAC/B,0BAA0B;EAC1B,eAAe;EACf,iCAAiC;AACnC;;AAEA;EACE,aAAa;EACb,mCAAmC;EACnC,4CAA4C;AAC9C;;AAEA;EACE,2BAA2B;AAC7B;;AAEA,UAAU;AACV;EACE,qCAAqC;EACrC,2BAA2B;EAC3B,qCAAqC;EACrC,+BAA+B;EAC/B,4BAA4B;AAC9B;;AAEA;EACE,aAAa;EACb,4CAA4C;EAC5C,aAAa;EACb,mBAAmB;EACnB,8BAA8B;AAChC;;AAEA;EACE,eAAe;EACf,gBAAgB;EAChB,0BAA0B;AAC5B;;AAEA;EACE,aAAa;AACf;;AAEA,iBAAiB;AACjB;EACE,eAAe;EACf,MAAM;EACN,OAAO;EACP,WAAW;EACX,YAAY;EACZ,8BAA8B;EAC9B,0BAA0B;EAC1B,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,aAAa;EACb,2BAA2B;AAC7B;;AAEA;EACE;IACE,UAAU;EACZ;EACA;IACE,UAAU;EACZ;AACF;;AAEA;EACE,2FAA2F;EAC3F,qCAAqC;EACrC,+BAA+B;EAC/B,4BAA4B;EAC5B,gBAAgB;EAChB,gBAAgB;EAChB,4BAA4B;AAC9B;;AAEA;EACE;IACE,2BAA2B;IAC3B,UAAU;EACZ;EACA;IACE,wBAAwB;IACxB,UAAU;EACZ;AACF;;AAEA;EACE,aAAa;EACb,4CAA4C;AAC9C;;AAEA;EACE,eAAe;EACf,gBAAgB;EAChB,0BAA0B;AAC5B;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,kBAAkB;EAClB,yCAAyC;EACzC,aAAa;EACb,SAAS;EACT,yBAAyB;AAC3B;;AAEA,qBAAqB;AACrB;EACE,oBAAoB;EACpB,mBAAmB;EACnB,QAAQ;EACR,iBAAiB;EACjB,qCAAqC;EACrC,mBAAmB;EACnB,eAAe;AACjB;;AAEA;EACE,UAAU;EACV,WAAW;EACX,kBAAkB;EAClB,wBAAwB;EACxB,wCAAwC;AAC1C;;AAEA;EACE,mCAAmC;AACrC;;AAEA;EACE;IACE,UAAU;EACZ;EACA;IACE,YAAY;EACd;AACF;;AAEA,oBAAoB;AACpB;EACE,aAAa;AACf;;AAEA;EACE,aAAa;EACb,sBAAsB;AACxB;;AAEA;EACE,mBAAmB;AACrB;;AAEA;EACE,8BAA8B;AAChC;;AAEA;EACE,QAAQ;AACV;;AAEA;EACE,QAAQ;AACV;;AAEA;EACE,SAAS;AACX;;AAEA;EACE,SAAS;AACX;;AAEA;EACE,eAAe;AACjB;;AAEA;EACE,eAAe;AACjB;;AAEA;EACE,eAAe;AACjB;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,4BAA4B;AAC9B;;AAEA;EACE,2BAA2B;AAC7B;;AAEA;EACE,eAAe;AACjB;;AAEA;EACE,eAAe;AACjB;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,mBAAmB;AACrB",sourcesContent:["/* Global Styles */\r\n:root {\r\n  --bg-primary: #0a0a0f;\r\n  --bg-secondary: #1a1a2e;\r\n  --bg-tertiary: #2a2a3e;\r\n  \r\n  --accent-primary: #00aa88;\r\n  --accent-secondary: #00ff88;\r\n  --accent-gradient: linear-gradient(135deg, #00aa88 0%, #00ff88 100%);\r\n  \r\n  --error: #ff4444;\r\n  --error-light: #ff8888;\r\n  --warning: #ffaa44;\r\n  --warning-light: #ffcc88;\r\n  \r\n  --text-primary: #ffffff;\r\n  --text-secondary: rgba(255, 255, 255, 0.7);\r\n  --text-tertiary: rgba(255, 255, 255, 0.5);\r\n  \r\n  --border-color: rgba(255, 255, 255, 0.1);\r\n  --border-glow: rgba(0, 255, 136, 0.3);\r\n  \r\n  --radius-sm: 8px;\r\n  --radius-md: 12px;\r\n  --radius-lg: 16px;\r\n  \r\n  --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.3);\r\n  --shadow-md: 0 4px 16px rgba(0, 0, 0, 0.4);\r\n  --shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.5);\r\n  --shadow-glow: 0 0 20px rgba(0, 255, 136, 0.3);\r\n  \r\n  --transition: 200ms ease;\r\n}\r\n\r\n* {\r\n  box-sizing: border-box;\r\n}\r\n\r\nbody {\r\n  margin: 0;\r\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  background: linear-gradient(135deg, var(--bg-primary) 0%, var(--bg-secondary) 100%);\r\n  color: var(--text-primary);\r\n  overflow: hidden;\r\n}\r\n\r\n/* App Layout */\r\n.app {\r\n  width: 100vw;\r\n  height: 100vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n  overflow: hidden;\r\n}\r\n\r\n.app-main {\r\n  flex: 1;\r\n  display: flex;\r\n  overflow: hidden;\r\n}\r\n\r\n.content-area {\r\n  flex: 1;\r\n  overflow: auto;\r\n  padding: 20px;\r\n}\r\n\r\n/* Scrollbar Styles */\r\n::-webkit-scrollbar {\r\n  width: 8px;\r\n  height: 8px;\r\n}\r\n\r\n::-webkit-scrollbar-track {\r\n  background: rgba(255, 255, 255, 0.05);\r\n}\r\n\r\n::-webkit-scrollbar-thumb {\r\n  background: rgba(255, 255, 255, 0.2);\r\n  border-radius: 4px;\r\n}\r\n\r\n::-webkit-scrollbar-thumb:hover {\r\n  background: rgba(255, 255, 255, 0.3);\r\n}\r\n\r\n/* Buttons */\r\n.btn {\r\n  padding: 10px 20px;\r\n  border: none;\r\n  border-radius: var(--radius-sm);\r\n  background: rgba(255, 255, 255, 0.1);\r\n  color: var(--text-primary);\r\n  font-size: 13px;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  transition: all var(--transition);\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n}\r\n\r\n.btn:hover {\r\n  background: rgba(255, 255, 255, 0.15);\r\n  transform: translateY(-1px);\r\n}\r\n\r\n.btn:active {\r\n  transform: scale(0.98);\r\n}\r\n\r\n.btn-primary {\r\n  background: var(--accent-gradient);\r\n  color: var(--bg-primary);\r\n  font-weight: 600;\r\n}\r\n\r\n.btn-primary:hover {\r\n  box-shadow: var(--shadow-glow);\r\n  transform: translateY(-2px);\r\n}\r\n\r\n.btn-danger {\r\n  background: var(--error);\r\n  color: white;\r\n}\r\n\r\n.btn-danger:hover {\r\n  background: var(--error-light);\r\n  box-shadow: 0 0 20px rgba(255, 68, 68, 0.3);\r\n}\r\n\r\n.btn-icon {\r\n  width: 36px;\r\n  height: 36px;\r\n  padding: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border-radius: var(--radius-sm);\r\n}\r\n\r\n/* Input Fields */\r\n.input-group {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n  margin-bottom: 16px;\r\n}\r\n\r\n.input-group label {\r\n  font-size: 13px;\r\n  font-weight: 500;\r\n  color: var(--text-secondary);\r\n}\r\n\r\n.input {\r\n  width: 100%;\r\n  height: 40px;\r\n  padding: 0 12px;\r\n  background: rgba(255, 255, 255, 0.05);\r\n  border: 1px solid var(--border-color);\r\n  border-radius: var(--radius-sm);\r\n  color: var(--text-primary);\r\n  font-size: 13px;\r\n  transition: all var(--transition);\r\n}\r\n\r\n.input:focus {\r\n  outline: none;\r\n  border-color: var(--accent-primary);\r\n  box-shadow: 0 0 0 3px rgba(0, 255, 136, 0.1);\r\n}\r\n\r\n.input::placeholder {\r\n  color: var(--text-tertiary);\r\n}\r\n\r\n/* Cards */\r\n.card {\r\n  background: rgba(255, 255, 255, 0.03);\r\n  backdrop-filter: blur(10px);\r\n  border: 1px solid var(--border-color);\r\n  border-radius: var(--radius-md);\r\n  box-shadow: var(--shadow-sm);\r\n}\r\n\r\n.card-header {\r\n  padding: 16px;\r\n  border-bottom: 1px solid var(--border-color);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n}\r\n\r\n.card-title {\r\n  font-size: 15px;\r\n  font-weight: 600;\r\n  color: var(--text-primary);\r\n}\r\n\r\n.card-body {\r\n  padding: 16px;\r\n}\r\n\r\n/* Modal/Dialog */\r\n.modal-overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: rgba(0, 0, 0, 0.7);\r\n  backdrop-filter: blur(4px);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 1000;\r\n  animation: fadeIn 0.2s ease;\r\n}\r\n\r\n@keyframes fadeIn {\r\n  from {\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n.modal {\r\n  background: linear-gradient(135deg, rgba(26, 26, 46, 0.95) 0%, rgba(42, 42, 62, 0.95) 100%);\r\n  border: 1px solid var(--border-color);\r\n  border-radius: var(--radius-lg);\r\n  box-shadow: var(--shadow-lg);\r\n  min-width: 400px;\r\n  max-width: 600px;\r\n  animation: slideUp 0.3s ease;\r\n}\r\n\r\n@keyframes slideUp {\r\n  from {\r\n    transform: translateY(20px);\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    transform: translateY(0);\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n.modal-header {\r\n  padding: 24px;\r\n  border-bottom: 1px solid var(--border-color);\r\n}\r\n\r\n.modal-title {\r\n  font-size: 18px;\r\n  font-weight: 600;\r\n  color: var(--text-primary);\r\n}\r\n\r\n.modal-body {\r\n  padding: 24px;\r\n}\r\n\r\n.modal-footer {\r\n  padding: 20px 24px;\r\n  border-top: 1px solid var(--border-color);\r\n  display: flex;\r\n  gap: 12px;\r\n  justify-content: flex-end;\r\n}\r\n\r\n/* Status Indicator */\r\n.status-indicator {\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  padding: 6px 12px;\r\n  background: rgba(255, 255, 255, 0.05);\r\n  border-radius: 20px;\r\n  font-size: 12px;\r\n}\r\n\r\n.status-dot {\r\n  width: 8px;\r\n  height: 8px;\r\n  border-radius: 50%;\r\n  background: var(--error);\r\n  animation: pulse 2s ease-in-out infinite;\r\n}\r\n\r\n.status-dot.connected {\r\n  background: var(--accent-secondary);\r\n}\r\n\r\n@keyframes pulse {\r\n  0%, 100% {\r\n    opacity: 1;\r\n  }\r\n  50% {\r\n    opacity: 0.5;\r\n  }\r\n}\r\n\r\n/* Utility Classes */\r\n.flex {\r\n  display: flex;\r\n}\r\n\r\n.flex-col {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.items-center {\r\n  align-items: center;\r\n}\r\n\r\n.justify-between {\r\n  justify-content: space-between;\r\n}\r\n\r\n.gap-4 {\r\n  gap: 4px;\r\n}\r\n\r\n.gap-8 {\r\n  gap: 8px;\r\n}\r\n\r\n.gap-12 {\r\n  gap: 12px;\r\n}\r\n\r\n.gap-16 {\r\n  gap: 16px;\r\n}\r\n\r\n.text-sm {\r\n  font-size: 12px;\r\n}\r\n\r\n.text-md {\r\n  font-size: 13px;\r\n}\r\n\r\n.text-lg {\r\n  font-size: 15px;\r\n}\r\n\r\n.font-medium {\r\n  font-weight: 500;\r\n}\r\n\r\n.font-semibold {\r\n  font-weight: 600;\r\n}\r\n\r\n.text-secondary {\r\n  color: var(--text-secondary);\r\n}\r\n\r\n.text-tertiary {\r\n  color: var(--text-tertiary);\r\n}\r\n\r\n.mt-4 {\r\n  margin-top: 4px;\r\n}\r\n\r\n.mt-8 {\r\n  margin-top: 8px;\r\n}\r\n\r\n.mt-16 {\r\n  margin-top: 16px;\r\n}\r\n\r\n.mb-4 {\r\n  margin-bottom: 4px;\r\n}\r\n\r\n.mb-8 {\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.mb-16 {\r\n  margin-bottom: 16px;\r\n}"],sourceRoot:""}]);const s=o},3673(e,t,n){(function(){var t,r,a={}.hasOwnProperty;t=n(231),r=n(1959),e.exports=function(e){function n(e,r){if(n.__super__.constructor.call(this,e),null==r)throw new Error("Missing comment text. "+this.debugInfo());this.name="#comment",this.type=t.Comment,this.value=this.stringify.comment(r)}return function(e,t){for(var n in t)a.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(n,e),n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(e){return this.options.writer.comment(this,this.options.writer.filterOptions(e))},n}(r)}).call(this)},3754(e){(function(){e.exports=function(){function e(){}return e.prototype.hasFeature=function(e,t){return!0},e.prototype.createDocumentType=function(e,t,n){throw new Error("This DOM method is not implemented.")},e.prototype.createDocument=function(e,t,n){throw new Error("This DOM method is not implemented.")},e.prototype.createHTMLDocument=function(e){throw new Error("This DOM method is not implemented.")},e.prototype.getFeature=function(e,t){throw new Error("This DOM method is not implemented.")},e}()}).call(this)},3835(e,t,n){(function(){var t,r,a,i,o,s,l,c={}.hasOwnProperty;l=n(1859).isPlainObject,a=n(3754),r=n(8312),i=n(3910),t=n(231),s=n(5854),o=n(420),e.exports=function(e){function n(e){n.__super__.constructor.call(this,null),this.name="#document",this.type=t.Document,this.documentURI=null,this.domConfig=new r,e||(e={}),e.writer||(e.writer=new o),this.options=e,this.stringify=new s(e)}return function(e,t){for(var n in t)c.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(n,e),Object.defineProperty(n.prototype,"implementation",{value:new a}),Object.defineProperty(n.prototype,"doctype",{get:function(){var e,n,r,a;for(n=0,r=(a=this.children).length;n<r;n++)if((e=a[n]).type===t.DocType)return e;return null}}),Object.defineProperty(n.prototype,"documentElement",{get:function(){return this.rootObject||null}}),Object.defineProperty(n.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(n.prototype,"strictErrorChecking",{get:function(){return!1}}),Object.defineProperty(n.prototype,"xmlEncoding",{get:function(){return 0!==this.children.length&&this.children[0].type===t.Declaration?this.children[0].encoding:null}}),Object.defineProperty(n.prototype,"xmlStandalone",{get:function(){return 0!==this.children.length&&this.children[0].type===t.Declaration&&"yes"===this.children[0].standalone}}),Object.defineProperty(n.prototype,"xmlVersion",{get:function(){return 0!==this.children.length&&this.children[0].type===t.Declaration?this.children[0].version:"1.0"}}),Object.defineProperty(n.prototype,"URL",{get:function(){return this.documentURI}}),Object.defineProperty(n.prototype,"origin",{get:function(){return null}}),Object.defineProperty(n.prototype,"compatMode",{get:function(){return null}}),Object.defineProperty(n.prototype,"characterSet",{get:function(){return null}}),Object.defineProperty(n.prototype,"contentType",{get:function(){return null}}),n.prototype.end=function(e){var t;return t={},e?l(e)&&(t=e,e=this.options.writer):e=this.options.writer,e.document(this,e.filterOptions(t))},n.prototype.toString=function(e){return this.options.writer.document(this,this.options.writer.filterOptions(e))},n.prototype.createElement=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createDocumentFragment=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createTextNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createComment=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createCDATASection=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createProcessingInstruction=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createAttribute=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createEntityReference=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getElementsByTagName=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.importNode=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createElementNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createAttributeNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getElementsByTagNameNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getElementById=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.adoptNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.normalizeDocument=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.renameNode=function(e,t,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getElementsByClassName=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createEvent=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createRange=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createNodeIterator=function(e,t,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createTreeWalker=function(e,t,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},n}(i)}).call(this)},3910(e,t,n){(function(){var t,r,a,i,o,s,l,c,d,u,p,h,m,f,A,g,_,y={}.hasOwnProperty;_=n(1859),g=_.isObject,A=_.isFunction,f=_.isEmpty,m=_.getValue,c=null,a=null,i=null,o=null,s=null,p=null,h=null,u=null,l=null,r=null,d=null,t=null,e.exports=function(){function e(e){this.parent=e,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.value=null,this.children=[],this.baseURI=null,c||(c=n(8252),a=n(2869),i=n(3673),o=n(2152),s=n(1998),p=n(9602),h=n(2537),u=n(669),l=n(6400),r=n(231),d=n(9482),n(8339),t=n(4821))}return Object.defineProperty(e.prototype,"nodeName",{get:function(){return this.name}}),Object.defineProperty(e.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(e.prototype,"nodeValue",{get:function(){return this.value}}),Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent}}),Object.defineProperty(e.prototype,"childNodes",{get:function(){return this.childNodeList&&this.childNodeList.nodes||(this.childNodeList=new d(this.children)),this.childNodeList}}),Object.defineProperty(e.prototype,"firstChild",{get:function(){return this.children[0]||null}}),Object.defineProperty(e.prototype,"lastChild",{get:function(){return this.children[this.children.length-1]||null}}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){var e;return e=this.parent.children.indexOf(this),this.parent.children[e-1]||null}}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){var e;return e=this.parent.children.indexOf(this),this.parent.children[e+1]||null}}),Object.defineProperty(e.prototype,"ownerDocument",{get:function(){return this.document()||null}}),Object.defineProperty(e.prototype,"textContent",{get:function(){var e,t,n,a,i;if(this.nodeType===r.Element||this.nodeType===r.DocumentFragment){for(i="",t=0,n=(a=this.children).length;t<n;t++)(e=a[t]).textContent&&(i+=e.textContent);return i}return null},set:function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),e.prototype.setParent=function(e){var t,n,r,a,i;for(this.parent=e,e&&(this.options=e.options,this.stringify=e.stringify),i=[],n=0,r=(a=this.children).length;n<r;n++)t=a[n],i.push(t.setParent(this));return i},e.prototype.element=function(e,t,n){var r,a,i,o,s,l,c,d,u,p,h;if(l=null,null===t&&null==n&&(t=(u=[{},null])[0],n=u[1]),null==t&&(t={}),t=m(t),g(t)||(n=(p=[t,n])[0],t=p[1]),null!=e&&(e=m(e)),Array.isArray(e))for(i=0,c=e.length;i<c;i++)a=e[i],l=this.element(a);else if(A(e))l=this.element(e.apply());else if(g(e)){for(s in e)if(y.call(e,s))if(h=e[s],A(h)&&(h=h.apply()),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&0===s.indexOf(this.stringify.convertAttKey))l=this.attribute(s.substr(this.stringify.convertAttKey.length),h);else if(!this.options.separateArrayItems&&Array.isArray(h)&&f(h))l=this.dummy();else if(g(h)&&f(h))l=this.element(s);else if(this.options.keepNullNodes||null!=h)if(!this.options.separateArrayItems&&Array.isArray(h))for(o=0,d=h.length;o<d;o++)a=h[o],(r={})[s]=a,l=this.element(r);else g(h)?!this.options.ignoreDecorators&&this.stringify.convertTextKey&&0===s.indexOf(this.stringify.convertTextKey)?l=this.element(h):(l=this.element(s)).element(h):l=this.element(s,h);else l=this.dummy()}else l=this.options.keepNullNodes||null!==n?!this.options.ignoreDecorators&&this.stringify.convertTextKey&&0===e.indexOf(this.stringify.convertTextKey)?this.text(n):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&0===e.indexOf(this.stringify.convertCDataKey)?this.cdata(n):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&0===e.indexOf(this.stringify.convertCommentKey)?this.comment(n):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&0===e.indexOf(this.stringify.convertRawKey)?this.raw(n):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&0===e.indexOf(this.stringify.convertPIKey)?this.instruction(e.substr(this.stringify.convertPIKey.length),n):this.node(e,t,n):this.dummy();if(null==l)throw new Error("Could not create any elements with: "+e+". "+this.debugInfo());return l},e.prototype.insertBefore=function(e,t,n){var r,a,i,o,s;if(null!=e?e.type:void 0)return o=t,(i=e).setParent(this),o?(a=children.indexOf(o),s=children.splice(a),children.push(i),Array.prototype.push.apply(children,s)):children.push(i),i;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(e));return a=this.parent.children.indexOf(this),s=this.parent.children.splice(a),r=this.parent.element(e,t,n),Array.prototype.push.apply(this.parent.children,s),r},e.prototype.insertAfter=function(e,t,n){var r,a,i;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(e));return a=this.parent.children.indexOf(this),i=this.parent.children.splice(a+1),r=this.parent.element(e,t,n),Array.prototype.push.apply(this.parent.children,i),r},e.prototype.remove=function(){var e;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return e=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[e,e-e+1].concat([])),this.parent},e.prototype.node=function(e,t,n){var r,a;return null!=e&&(e=m(e)),t||(t={}),t=m(t),g(t)||(n=(a=[t,n])[0],t=a[1]),r=new c(this,e,t),null!=n&&r.text(n),this.children.push(r),r},e.prototype.text=function(e){var t;return g(e)&&this.element(e),t=new h(this,e),this.children.push(t),this},e.prototype.cdata=function(e){var t;return t=new a(this,e),this.children.push(t),this},e.prototype.comment=function(e){var t;return t=new i(this,e),this.children.push(t),this},e.prototype.commentBefore=function(e){var t,n;return t=this.parent.children.indexOf(this),n=this.parent.children.splice(t),this.parent.comment(e),Array.prototype.push.apply(this.parent.children,n),this},e.prototype.commentAfter=function(e){var t,n;return t=this.parent.children.indexOf(this),n=this.parent.children.splice(t+1),this.parent.comment(e),Array.prototype.push.apply(this.parent.children,n),this},e.prototype.raw=function(e){var t;return t=new p(this,e),this.children.push(t),this},e.prototype.dummy=function(){return new l(this)},e.prototype.instruction=function(e,t){var n,r,a,i,o;if(null!=e&&(e=m(e)),null!=t&&(t=m(t)),Array.isArray(e))for(i=0,o=e.length;i<o;i++)n=e[i],this.instruction(n);else if(g(e))for(n in e)y.call(e,n)&&(r=e[n],this.instruction(n,r));else A(t)&&(t=t.apply()),a=new u(this,e,t),this.children.push(a);return this},e.prototype.instructionBefore=function(e,t){var n,r;return n=this.parent.children.indexOf(this),r=this.parent.children.splice(n),this.parent.instruction(e,t),Array.prototype.push.apply(this.parent.children,r),this},e.prototype.instructionAfter=function(e,t){var n,r;return n=this.parent.children.indexOf(this),r=this.parent.children.splice(n+1),this.parent.instruction(e,t),Array.prototype.push.apply(this.parent.children,r),this},e.prototype.declaration=function(e,t,n){var a,i;return a=this.document(),i=new o(a,e,t,n),0===a.children.length?a.children.unshift(i):a.children[0].type===r.Declaration?a.children[0]=i:a.children.unshift(i),a.root()||a},e.prototype.dtd=function(e,t){var n,a,i,o,l,c,d,u,p;for(n=this.document(),a=new s(n,e,t),i=o=0,c=(u=n.children).length;o<c;i=++o)if(u[i].type===r.DocType)return n.children[i]=a,a;for(i=l=0,d=(p=n.children).length;l<d;i=++l)if(p[i].isRoot)return n.children.splice(i,0,a),a;return n.children.push(a),a},e.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},e.prototype.root=function(){var e;for(e=this;e;){if(e.type===r.Document)return e.rootObject;if(e.isRoot)return e;e=e.parent}},e.prototype.document=function(){var e;for(e=this;e;){if(e.type===r.Document)return e;e=e.parent}},e.prototype.end=function(e){return this.document().end(e)},e.prototype.prev=function(){var e;if((e=this.parent.children.indexOf(this))<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[e-1]},e.prototype.next=function(){var e;if(-1===(e=this.parent.children.indexOf(this))||e===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[e+1]},e.prototype.importDocument=function(e){var t;return(t=e.root().clone()).parent=this,t.isRoot=!1,this.children.push(t),this},e.prototype.debugInfo=function(e){var t,n;return null!=(e=e||this.name)||(null!=(t=this.parent)?t.name:void 0)?null==e?"parent: <"+this.parent.name+">":(null!=(n=this.parent)?n.name:void 0)?"node: <"+e+">, parent: <"+this.parent.name+">":"node: <"+e+">":""},e.prototype.ele=function(e,t,n){return this.element(e,t,n)},e.prototype.nod=function(e,t,n){return this.node(e,t,n)},e.prototype.txt=function(e){return this.text(e)},e.prototype.dat=function(e){return this.cdata(e)},e.prototype.com=function(e){return this.comment(e)},e.prototype.ins=function(e,t){return this.instruction(e,t)},e.prototype.doc=function(){return this.document()},e.prototype.dec=function(e,t,n){return this.declaration(e,t,n)},e.prototype.e=function(e,t,n){return this.element(e,t,n)},e.prototype.n=function(e,t,n){return this.node(e,t,n)},e.prototype.t=function(e){return this.text(e)},e.prototype.d=function(e){return this.cdata(e)},e.prototype.c=function(e){return this.comment(e)},e.prototype.r=function(e){return this.raw(e)},e.prototype.i=function(e,t){return this.instruction(e,t)},e.prototype.u=function(){return this.up()},e.prototype.importXMLBuilder=function(e){return this.importDocument(e)},e.prototype.replaceChild=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.removeChild=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.appendChild=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.hasChildNodes=function(){return 0!==this.children.length},e.prototype.cloneNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.normalize=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.isSupported=function(e,t){return!0},e.prototype.hasAttributes=function(){return 0!==this.attribs.length},e.prototype.compareDocumentPosition=function(e){var n,r;return(n=this)===e?0:this.document()!==e.document()?(r=t.Disconnected|t.ImplementationSpecific,Math.random()<.5?r|=t.Preceding:r|=t.Following,r):n.isAncestor(e)?t.Contains|t.Preceding:n.isDescendant(e)?t.Contains|t.Following:n.isPreceding(e)?t.Preceding:t.Following},e.prototype.isSameNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.lookupPrefix=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.isDefaultNamespace=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.lookupNamespaceURI=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.isEqualNode=function(e){var t,n,r;if(e.nodeType!==this.nodeType)return!1;if(e.children.length!==this.children.length)return!1;for(t=n=0,r=this.children.length-1;0<=r?n<=r:n>=r;t=0<=r?++n:--n)if(!this.children[t].isEqualNode(e.children[t]))return!1;return!0},e.prototype.getFeature=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.setUserData=function(e,t,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.getUserData=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.contains=function(e){return!!e&&(e===this||this.isDescendant(e))},e.prototype.isDescendant=function(e){var t,n,r,a;for(n=0,r=(a=this.children).length;n<r;n++){if(e===(t=a[n]))return!0;if(t.isDescendant(e))return!0}return!1},e.prototype.isAncestor=function(e){return e.isDescendant(this)},e.prototype.isPreceding=function(e){var t,n;return t=this.treePosition(e),n=this.treePosition(this),-1!==t&&-1!==n&&t<n},e.prototype.isFollowing=function(e){var t,n;return t=this.treePosition(e),n=this.treePosition(this),-1!==t&&-1!==n&&t>n},e.prototype.treePosition=function(e){var t,n;return n=0,t=!1,this.foreachTreeNode(this.document(),function(r){if(n++,!t&&r===e)return t=!0}),t?n:-1},e.prototype.foreachTreeNode=function(e,t){var n,r,a,i,o;for(e||(e=this.document()),r=0,a=(i=e.children).length;r<a;r++){if(o=t(n=i[r]))return o;if(o=this.foreachTreeNode(n,t))return o}},e}()}).call(this)},4043(e,t,n){!function(e){e.parser=function(e,t){return new a(e,t)},e.SAXParser=a,e.SAXStream=o,e.createStream=function(e,t){return new o(e,t)},e.MAX_BUFFER_LENGTH=65536;var t,r=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function a(t,n){if(!(this instanceof a))return new a(t,n);var i=this;!function(e){for(var t=0,n=r.length;t<n;t++)e[r[t]]=""}(i),i.q=i.c="",i.bufferCheckPosition=e.MAX_BUFFER_LENGTH,i.opt=n||{},i.opt.lowercase=i.opt.lowercase||i.opt.lowercasetags,i.looseCase=i.opt.lowercase?"toLowerCase":"toUpperCase",i.tags=[],i.closed=i.closedRoot=i.sawRoot=!1,i.tag=i.error=null,i.strict=!!t,i.noscript=!(!t&&!i.opt.noscript),i.state=x.BEGIN,i.strictEntities=i.opt.strictEntities,i.ENTITIES=i.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),i.attribList=[],i.opt.xmlns&&(i.ns=Object.create(u)),void 0===i.opt.unquotedAttributeValues&&(i.opt.unquotedAttributeValues=!t),i.trackPosition=!1!==i.opt.position,i.trackPosition&&(i.position=i.line=i.column=0),B(i,"onready")}e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(e){function t(){}return t.prototype=e,new t}),Object.keys||(Object.keys=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}),a.prototype={end:function(){R(this)},write:function(t){var n=this;if(this.error)throw this.error;if(n.closed)return I(n,"Cannot write after close. Assign an onready handler.");if(null===t)return R(n);"object"==typeof t&&(t=t.toString());for(var a=0,i="";i=z(t,a++),n.c=i,i;)switch(n.trackPosition&&(n.position++,"\n"===i?(n.line++,n.column=0):n.column++),n.state){case x.BEGIN:if(n.state=x.BEGIN_WHITESPACE,"\ufeff"===i)continue;F(n,i);continue;case x.BEGIN_WHITESPACE:F(n,i);continue;case x.TEXT:if(n.sawRoot&&!n.closedRoot){for(var o=a-1;i&&"<"!==i&&"&"!==i;)(i=z(t,a++))&&n.trackPosition&&(n.position++,"\n"===i?(n.line++,n.column=0):n.column++);n.textNode+=t.substring(o,a-1)}"<"!==i||n.sawRoot&&n.closedRoot&&!n.strict?(A(i)||n.sawRoot&&!n.closedRoot||L(n,"Text data outside of root node."),"&"===i?n.state=x.TEXT_ENTITY:n.textNode+=i):(n.state=x.OPEN_WAKA,n.startTagPosition=n.position);continue;case x.SCRIPT:"<"===i?n.state=x.SCRIPT_ENDING:n.script+=i;continue;case x.SCRIPT_ENDING:"/"===i?n.state=x.CLOSE_TAG:(n.script+="<"+i,n.state=x.SCRIPT);continue;case x.OPEN_WAKA:if("!"===i)n.state=x.SGML_DECL,n.sgmlDecl="";else if(A(i));else if(y(p,i))n.state=x.OPEN_TAG,n.tagName=i;else if("/"===i)n.state=x.CLOSE_TAG,n.tagName="";else if("?"===i)n.state=x.PROC_INST,n.procInstName=n.procInstBody="";else{if(L(n,"Unencoded <"),n.startTagPosition+1<n.position){var c=n.position-n.startTagPosition;i=new Array(c).join(" ")+i}n.textNode+="<"+i,n.state=x.TEXT}continue;case x.SGML_DECL:if(n.sgmlDecl+i==="--"){n.state=x.COMMENT,n.comment="",n.sgmlDecl="";continue}n.doctype&&!0!==n.doctype&&n.sgmlDecl?(n.state=x.DOCTYPE_DTD,n.doctype+="<!"+n.sgmlDecl+i,n.sgmlDecl=""):(n.sgmlDecl+i).toUpperCase()===s?(S(n,"onopencdata"),n.state=x.CDATA,n.sgmlDecl="",n.cdata=""):(n.sgmlDecl+i).toUpperCase()===l?(n.state=x.DOCTYPE,(n.doctype||n.sawRoot)&&L(n,"Inappropriately located doctype declaration"),n.doctype="",n.sgmlDecl=""):">"===i?(S(n,"onsgmldeclaration",n.sgmlDecl),n.sgmlDecl="",n.state=x.TEXT):g(i)?(n.state=x.SGML_DECL_QUOTED,n.sgmlDecl+=i):n.sgmlDecl+=i;continue;case x.SGML_DECL_QUOTED:i===n.q&&(n.state=x.SGML_DECL,n.q=""),n.sgmlDecl+=i;continue;case x.DOCTYPE:">"===i?(n.state=x.TEXT,S(n,"ondoctype",n.doctype),n.doctype=!0):(n.doctype+=i,"["===i?n.state=x.DOCTYPE_DTD:g(i)&&(n.state=x.DOCTYPE_QUOTED,n.q=i));continue;case x.DOCTYPE_QUOTED:n.doctype+=i,i===n.q&&(n.q="",n.state=x.DOCTYPE);continue;case x.DOCTYPE_DTD:"]"===i?(n.doctype+=i,n.state=x.DOCTYPE):"<"===i?(n.state=x.OPEN_WAKA,n.startTagPosition=n.position):g(i)?(n.doctype+=i,n.state=x.DOCTYPE_DTD_QUOTED,n.q=i):n.doctype+=i;continue;case x.DOCTYPE_DTD_QUOTED:n.doctype+=i,i===n.q&&(n.state=x.DOCTYPE_DTD,n.q="");continue;case x.COMMENT:"-"===i?n.state=x.COMMENT_ENDING:n.comment+=i;continue;case x.COMMENT_ENDING:"-"===i?(n.state=x.COMMENT_ENDED,n.comment=T(n.opt,n.comment),n.comment&&S(n,"oncomment",n.comment),n.comment=""):(n.comment+="-"+i,n.state=x.COMMENT);continue;case x.COMMENT_ENDED:">"!==i?(L(n,"Malformed comment"),n.comment+="--"+i,n.state=x.COMMENT):n.doctype&&!0!==n.doctype?n.state=x.DOCTYPE_DTD:n.state=x.TEXT;continue;case x.CDATA:for(o=a-1;i&&"]"!==i;)(i=z(t,a++))&&n.trackPosition&&(n.position++,"\n"===i?(n.line++,n.column=0):n.column++);n.cdata+=t.substring(o,a-1),"]"===i&&(n.state=x.CDATA_ENDING);continue;case x.CDATA_ENDING:"]"===i?n.state=x.CDATA_ENDING_2:(n.cdata+="]"+i,n.state=x.CDATA);continue;case x.CDATA_ENDING_2:">"===i?(n.cdata&&S(n,"oncdata",n.cdata),S(n,"onclosecdata"),n.cdata="",n.state=x.TEXT):"]"===i?n.cdata+="]":(n.cdata+="]]"+i,n.state=x.CDATA);continue;case x.PROC_INST:"?"===i?n.state=x.PROC_INST_ENDING:A(i)?n.state=x.PROC_INST_BODY:n.procInstName+=i;continue;case x.PROC_INST_BODY:if(!n.procInstBody&&A(i))continue;"?"===i?n.state=x.PROC_INST_ENDING:n.procInstBody+=i;continue;case x.PROC_INST_ENDING:">"===i?(S(n,"onprocessinginstruction",{name:n.procInstName,body:n.procInstBody}),n.procInstName=n.procInstBody="",n.state=x.TEXT):(n.procInstBody+="?"+i,n.state=x.PROC_INST_BODY);continue;case x.OPEN_TAG:y(h,i)?n.tagName+=i:(D(n),">"===i?P(n):"/"===i?n.state=x.OPEN_TAG_SLASH:(A(i)||L(n,"Invalid character in tag name"),n.state=x.ATTRIB));continue;case x.OPEN_TAG_SLASH:">"===i?(P(n,!0),M(n)):(L(n,"Forward-slash in opening tag not followed by >"),n.state=x.ATTRIB);continue;case x.ATTRIB:if(A(i))continue;">"===i?P(n):"/"===i?n.state=x.OPEN_TAG_SLASH:y(p,i)?(n.attribName=i,n.attribValue="",n.state=x.ATTRIB_NAME):L(n,"Invalid attribute name");continue;case x.ATTRIB_NAME:"="===i?n.state=x.ATTRIB_VALUE:">"===i?(L(n,"Attribute without value"),n.attribValue=n.attribName,N(n),P(n)):A(i)?n.state=x.ATTRIB_NAME_SAW_WHITE:y(h,i)?n.attribName+=i:L(n,"Invalid attribute name");continue;case x.ATTRIB_NAME_SAW_WHITE:if("="===i)n.state=x.ATTRIB_VALUE;else{if(A(i))continue;L(n,"Attribute without value"),n.tag.attributes[n.attribName]="",n.attribValue="",S(n,"onattribute",{name:n.attribName,value:""}),n.attribName="",">"===i?P(n):y(p,i)?(n.attribName=i,n.state=x.ATTRIB_NAME):(L(n,"Invalid attribute name"),n.state=x.ATTRIB)}continue;case x.ATTRIB_VALUE:if(A(i))continue;g(i)?(n.q=i,n.state=x.ATTRIB_VALUE_QUOTED):(n.opt.unquotedAttributeValues||I(n,"Unquoted attribute value"),n.state=x.ATTRIB_VALUE_UNQUOTED,n.attribValue=i);continue;case x.ATTRIB_VALUE_QUOTED:if(i!==n.q){"&"===i?n.state=x.ATTRIB_VALUE_ENTITY_Q:n.attribValue+=i;continue}N(n),n.q="",n.state=x.ATTRIB_VALUE_CLOSED;continue;case x.ATTRIB_VALUE_CLOSED:A(i)?n.state=x.ATTRIB:">"===i?P(n):"/"===i?n.state=x.OPEN_TAG_SLASH:y(p,i)?(L(n,"No whitespace between attributes"),n.attribName=i,n.attribValue="",n.state=x.ATTRIB_NAME):L(n,"Invalid attribute name");continue;case x.ATTRIB_VALUE_UNQUOTED:if(!_(i)){"&"===i?n.state=x.ATTRIB_VALUE_ENTITY_U:n.attribValue+=i;continue}N(n),">"===i?P(n):n.state=x.ATTRIB;continue;case x.CLOSE_TAG:if(n.tagName)">"===i?M(n):y(h,i)?n.tagName+=i:n.script?(n.script+="</"+n.tagName+i,n.tagName="",n.state=x.SCRIPT):(A(i)||L(n,"Invalid tagname in closing tag"),n.state=x.CLOSE_TAG_SAW_WHITE);else{if(A(i))continue;v(p,i)?n.script?(n.script+="</"+i,n.state=x.SCRIPT):L(n,"Invalid tagname in closing tag."):n.tagName=i}continue;case x.CLOSE_TAG_SAW_WHITE:if(A(i))continue;">"===i?M(n):L(n,"Invalid characters in closing tag");continue;case x.TEXT_ENTITY:case x.ATTRIB_VALUE_ENTITY_Q:case x.ATTRIB_VALUE_ENTITY_U:var d,u;switch(n.state){case x.TEXT_ENTITY:d=x.TEXT,u="textNode";break;case x.ATTRIB_VALUE_ENTITY_Q:d=x.ATTRIB_VALUE_QUOTED,u="attribValue";break;case x.ATTRIB_VALUE_ENTITY_U:d=x.ATTRIB_VALUE_UNQUOTED,u="attribValue"}if(";"===i){var E=U(n);n.opt.unparsedEntities&&!Object.values(e.XML_ENTITIES).includes(E)?(n.entity="",n.state=d,n.write(E)):(n[u]+=E,n.entity="",n.state=d)}else y(n.entity.length?f:m,i)?n.entity+=i:(L(n,"Invalid character in entity name"),n[u]+="&"+n.entity+i,n.entity="",n.state=d);continue;default:throw new Error(n,"Unknown state: "+n.state)}return n.position>=n.bufferCheckPosition&&function(t){for(var n=Math.max(e.MAX_BUFFER_LENGTH,10),a=0,i=0,o=r.length;i<o;i++){var s=t[r[i]].length;if(s>n)switch(r[i]){case"textNode":k(t);break;case"cdata":S(t,"oncdata",t.cdata),t.cdata="";break;case"script":S(t,"onscript",t.script),t.script="";break;default:I(t,"Max buffer length exceeded: "+r[i])}a=Math.max(a,s)}var l=e.MAX_BUFFER_LENGTH-a;t.bufferCheckPosition=l+t.position}(n),n},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var e;k(e=this),""!==e.cdata&&(S(e,"oncdata",e.cdata),e.cdata=""),""!==e.script&&(S(e,"onscript",e.script),e.script="")}};try{t=n(2203).Stream}catch(e){t=function(){}}t||(t=function(){});var i=e.EVENTS.filter(function(e){return"error"!==e&&"end"!==e});function o(e,n){if(!(this instanceof o))return new o(e,n);t.apply(this),this._parser=new a(e,n),this.writable=!0,this.readable=!0;var r=this;this._parser.onend=function(){r.emit("end")},this._parser.onerror=function(e){r.emit("error",e),r._parser.error=null},this._decoder=null,i.forEach(function(e){Object.defineProperty(r,"on"+e,{get:function(){return r._parser["on"+e]},set:function(t){if(!t)return r.removeAllListeners(e),r._parser["on"+e]=t,t;r.on(e,t)},enumerable:!0,configurable:!1})})}o.prototype=Object.create(t.prototype,{constructor:{value:o}}),o.prototype.write=function(e){return"function"==typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(e)&&(this._decoder||(this._decoder=new TextDecoder("utf8")),e=this._decoder.decode(e,{stream:!0})),this._parser.write(e.toString()),this.emit("data",e),!0},o.prototype.end=function(e){if(e&&e.length&&this.write(e),this._decoder){var t=this._decoder.decode();t&&(this._parser.write(t),this.emit("data",t))}return this._parser.end(),!0},o.prototype.on=function(e,n){var r=this;return r._parser["on"+e]||-1===i.indexOf(e)||(r._parser["on"+e]=function(){var t=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);t.splice(0,0,e),r.emit.apply(r,t)}),t.prototype.on.call(r,e,n)};var s="[CDATA[",l="DOCTYPE",c="http://www.w3.org/XML/1998/namespace",d="http://www.w3.org/2000/xmlns/",u={xml:c,xmlns:d},p=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,h=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,m=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,f=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function A(e){return" "===e||"\n"===e||"\r"===e||"\t"===e}function g(e){return'"'===e||"'"===e}function _(e){return">"===e||A(e)}function y(e,t){return e.test(t)}function v(e,t){return!y(e,t)}var E,C,b,x=0;for(var w in e.STATE={BEGIN:x++,BEGIN_WHITESPACE:x++,TEXT:x++,TEXT_ENTITY:x++,OPEN_WAKA:x++,SGML_DECL:x++,SGML_DECL_QUOTED:x++,DOCTYPE:x++,DOCTYPE_QUOTED:x++,DOCTYPE_DTD:x++,DOCTYPE_DTD_QUOTED:x++,COMMENT_STARTING:x++,COMMENT:x++,COMMENT_ENDING:x++,COMMENT_ENDED:x++,CDATA:x++,CDATA_ENDING:x++,CDATA_ENDING_2:x++,PROC_INST:x++,PROC_INST_BODY:x++,PROC_INST_ENDING:x++,OPEN_TAG:x++,OPEN_TAG_SLASH:x++,ATTRIB:x++,ATTRIB_NAME:x++,ATTRIB_NAME_SAW_WHITE:x++,ATTRIB_VALUE:x++,ATTRIB_VALUE_QUOTED:x++,ATTRIB_VALUE_CLOSED:x++,ATTRIB_VALUE_UNQUOTED:x++,ATTRIB_VALUE_ENTITY_Q:x++,ATTRIB_VALUE_ENTITY_U:x++,CLOSE_TAG:x++,CLOSE_TAG_SAW_WHITE:x++,SCRIPT:x++,SCRIPT_ENDING:x++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach(function(t){var n=e.ENTITIES[t],r="number"==typeof n?String.fromCharCode(n):n;e.ENTITIES[t]=r}),e.STATE)e.STATE[e.STATE[w]]=w;function B(e,t,n){e[t]&&e[t](n)}function S(e,t,n){e.textNode&&k(e),B(e,t,n)}function k(e){e.textNode=T(e.opt,e.textNode),e.textNode&&B(e,"ontext",e.textNode),e.textNode=""}function T(e,t){return e.trim&&(t=t.trim()),e.normalize&&(t=t.replace(/\s+/g," ")),t}function I(e,t){return k(e),e.trackPosition&&(t+="\nLine: "+e.line+"\nColumn: "+e.column+"\nChar: "+e.c),t=new Error(t),e.error=t,B(e,"onerror",t),e}function R(e){return e.sawRoot&&!e.closedRoot&&L(e,"Unclosed root tag"),e.state!==x.BEGIN&&e.state!==x.BEGIN_WHITESPACE&&e.state!==x.TEXT&&I(e,"Unexpected end"),k(e),e.c="",e.closed=!0,B(e,"onend"),a.call(e,e.strict,e.opt),e}function L(e,t){if("object"!=typeof e||!(e instanceof a))throw new Error("bad call to strictFail");e.strict&&I(e,t)}function D(e){e.strict||(e.tagName=e.tagName[e.looseCase]());var t=e.tags[e.tags.length-1]||e,n=e.tag={name:e.tagName,attributes:{}};e.opt.xmlns&&(n.ns=t.ns),e.attribList.length=0,S(e,"onopentagstart",n)}function O(e,t){var n=e.indexOf(":")<0?["",e]:e.split(":"),r=n[0],a=n[1];return t&&"xmlns"===e&&(r="xmlns",a=""),{prefix:r,local:a}}function N(e){if(e.strict||(e.attribName=e.attribName[e.looseCase]()),-1!==e.attribList.indexOf(e.attribName)||e.tag.attributes.hasOwnProperty(e.attribName))e.attribName=e.attribValue="";else{if(e.opt.xmlns){var t=O(e.attribName,!0),n=t.prefix,r=t.local;if("xmlns"===n)if("xml"===r&&e.attribValue!==c)L(e,"xml: prefix must be bound to "+c+"\nActual: "+e.attribValue);else if("xmlns"===r&&e.attribValue!==d)L(e,"xmlns: prefix must be bound to "+d+"\nActual: "+e.attribValue);else{var a=e.tag,i=e.tags[e.tags.length-1]||e;a.ns===i.ns&&(a.ns=Object.create(i.ns)),a.ns[r]=e.attribValue}e.attribList.push([e.attribName,e.attribValue])}else e.tag.attributes[e.attribName]=e.attribValue,S(e,"onattribute",{name:e.attribName,value:e.attribValue});e.attribName=e.attribValue=""}}function P(e,t){if(e.opt.xmlns){var n=e.tag,r=O(e.tagName);n.prefix=r.prefix,n.local=r.local,n.uri=n.ns[r.prefix]||"",n.prefix&&!n.uri&&(L(e,"Unbound namespace prefix: "+JSON.stringify(e.tagName)),n.uri=r.prefix);var a=e.tags[e.tags.length-1]||e;n.ns&&a.ns!==n.ns&&Object.keys(n.ns).forEach(function(t){S(e,"onopennamespace",{prefix:t,uri:n.ns[t]})});for(var i=0,o=e.attribList.length;i<o;i++){var s=e.attribList[i],l=s[0],c=s[1],d=O(l,!0),u=d.prefix,p=d.local,h=""===u?"":n.ns[u]||"",m={name:l,value:c,prefix:u,local:p,uri:h};u&&"xmlns"!==u&&!h&&(L(e,"Unbound namespace prefix: "+JSON.stringify(u)),m.uri=u),e.tag.attributes[l]=m,S(e,"onattribute",m)}e.attribList.length=0}e.tag.isSelfClosing=!!t,e.sawRoot=!0,e.tags.push(e.tag),S(e,"onopentag",e.tag),t||(e.noscript||"script"!==e.tagName.toLowerCase()?e.state=x.TEXT:e.state=x.SCRIPT,e.tag=null,e.tagName=""),e.attribName=e.attribValue="",e.attribList.length=0}function M(e){if(!e.tagName)return L(e,"Weird empty close tag."),e.textNode+="</>",void(e.state=x.TEXT);if(e.script){if("script"!==e.tagName)return e.script+="</"+e.tagName+">",e.tagName="",void(e.state=x.SCRIPT);S(e,"onscript",e.script),e.script=""}var t=e.tags.length,n=e.tagName;e.strict||(n=n[e.looseCase]());for(var r=n;t--&&e.tags[t].name!==r;)L(e,"Unexpected close tag");if(t<0)return L(e,"Unmatched closing tag: "+e.tagName),e.textNode+="</"+e.tagName+">",void(e.state=x.TEXT);e.tagName=n;for(var a=e.tags.length;a-- >t;){var i=e.tag=e.tags.pop();e.tagName=e.tag.name,S(e,"onclosetag",e.tagName);var o={};for(var s in i.ns)o[s]=i.ns[s];var l=e.tags[e.tags.length-1]||e;e.opt.xmlns&&i.ns!==l.ns&&Object.keys(i.ns).forEach(function(t){var n=i.ns[t];S(e,"onclosenamespace",{prefix:t,uri:n})})}0===t&&(e.closedRoot=!0),e.tagName=e.attribValue=e.attribName="",e.attribList.length=0,e.state=x.TEXT}function U(e){var t,n=e.entity,r=n.toLowerCase(),a="";return e.ENTITIES[n]?e.ENTITIES[n]:e.ENTITIES[r]?e.ENTITIES[r]:("#"===(n=r).charAt(0)&&("x"===n.charAt(1)?(n=n.slice(2),a=(t=parseInt(n,16)).toString(16)):(n=n.slice(1),a=(t=parseInt(n,10)).toString(10))),n=n.replace(/^0+/,""),isNaN(t)||a.toLowerCase()!==n||t<0||t>1114111?(L(e,"Invalid character entity"),"&"+e.entity+";"):String.fromCodePoint(t))}function F(e,t){"<"===t?(e.state=x.OPEN_WAKA,e.startTagPosition=e.position):A(t)||(L(e,"Non-whitespace before first tag."),e.textNode=t,e.state=x.TEXT)}function z(e,t){var n="";return t<e.length&&(n=e.charAt(t)),n}x=e.STATE,String.fromCodePoint||(E=String.fromCharCode,C=Math.floor,b=function(){var e,t,n=[],r=-1,a=arguments.length;if(!a)return"";for(var i="";++r<a;){var o=Number(arguments[r]);if(!isFinite(o)||o<0||o>1114111||C(o)!==o)throw RangeError("Invalid code point: "+o);o<=65535?n.push(o):(e=55296+((o-=65536)>>10),t=o%1024+56320,n.push(e,t)),(r+1===a||n.length>16384)&&(i+=E.apply(null,n),n.length=0)}return i},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:b,configurable:!0,writable:!0}):String.fromCodePoint=b)}(t)},4059(e,t,n){(function(){var t,r,a,i={}.hasOwnProperty;a=n(1859).isObject,r=n(3910),t=n(231),e.exports=function(e){function n(e,r,i,o){if(n.__super__.constructor.call(this,e),null==i)throw new Error("Missing DTD entity name. "+this.debugInfo(i));if(null==o)throw new Error("Missing DTD entity value. "+this.debugInfo(i));if(this.pe=!!r,this.name=this.stringify.name(i),this.type=t.EntityDeclaration,a(o)){if(!o.pubID&&!o.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(i));if(o.pubID&&!o.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(i));if(this.internal=!1,null!=o.pubID&&(this.pubID=this.stringify.dtdPubID(o.pubID)),null!=o.sysID&&(this.sysID=this.stringify.dtdSysID(o.sysID)),null!=o.nData&&(this.nData=this.stringify.dtdNData(o.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(i))}else this.value=this.stringify.dtdEntityValue(o),this.internal=!0}return function(e,t){for(var n in t)i.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(n,e),Object.defineProperty(n.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(n.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(n.prototype,"notationName",{get:function(){return this.nData||null}}),Object.defineProperty(n.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(n.prototype,"xmlEncoding",{get:function(){return null}}),Object.defineProperty(n.prototype,"xmlVersion",{get:function(){return null}}),n.prototype.toString=function(e){return this.options.writer.dtdEntity(this,this.options.writer.filterOptions(e))},n}(r)}).call(this)},4263(e,t,n){"use strict";n.d(t,{A:()=>s});var r=n(1354),a=n.n(r),i=n(6314),o=n.n(i)()(a());o.push([e.id,".channel {\n  background: rgba(255, 255, 255, 0.03);\n  backdrop-filter: blur(10px);\n  border: 1px solid var(--border-color);\n  border-radius: var(--radius-lg);\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n  flex-shrink: 0;\n  position: relative;\n  transition: width 300ms ease;\n}\n\n.channel-header {\n  padding: 16px;\n  border-bottom: 1px solid var(--border-color);\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  background: rgba(255, 255, 255, 0.02);\n}\n\n.channel-name {\n  font-size: 15px;\n  font-weight: 600;\n  color: var(--text-primary);\n  margin: 0;\n}\n\n.channel-header-info {\n  display: flex;\n  flex-direction: column;\n  gap: 2px;\n}\n\n.channel-format {\n  font-size: 11px;\n  color: var(--text-tertiary);\n  font-weight: 400;\n}\n\n.channel-actions {\n  display: flex;\n  gap: 8px;\n}\n\n.btn-danger-icon:hover {\n  background: rgba(255, 68, 68, 0.2);\n  color: var(--error-light);\n}\n\n.channel-preview {\n  width: 100%;\n  height: 240px;\n  padding: 12px;\n  box-sizing: border-box;\n  background: rgba(0, 0, 0, 0.3);\n  border-bottom: 1px solid var(--border-color);\n  flex-shrink: 0;\n}\n\n/* Ensure inner preview fills padded area */\n.channel-preview .preview {\n  border-radius: var(--radius-md);\n}\n\n.preview-placeholder {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 12px;\n  color: var(--text-tertiary);\n}\n\n.preview-placeholder p {\n  margin: 0;\n  font-size: 14px;\n}\n\n.channel-layers {\n  display: flex;\n  gap: 12px;\n  padding: 16px;\n  overflow-x: auto;\n  flex: 1;\n}\n\n.layer-placeholder {\n  width: 380px;\n  background: rgba(255, 255, 255, 0.05);\n  border: 1px solid var(--border-color);\n  border-radius: var(--radius-md);\n  display: flex;\n  flex-direction: column;\n  flex-shrink: 0;\n}\n\n.layer-header {\n  padding: 12px;\n  border-bottom: 1px solid var(--border-color);\n  font-size: 13px;\n  font-weight: 600;\n  color: var(--text-secondary);\n}\n\n.layer-content {\n  flex: 1;\n  padding: 16px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.add-layer-button {\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n  border: 2px dashed var(--accent-primary);\n  background: rgba(0, 255, 136, 0.05);\n  color: var(--accent-secondary);\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all var(--transition);\n  align-self: center;\n  flex-shrink: 0;\n}\n\n.add-layer-button:hover {\n  transform: scale(1.1);\n  background: rgba(0, 255, 136, 0.1);\n  box-shadow: var(--shadow-glow);\n}\n\n.add-layer-button:active {\n  transform: scale(1.05);\n}\n\n/* Delete Confirmation */\n.delete-confirm-overlay {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.8);\n  backdrop-filter: blur(4px);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 10;\n  animation: fadeIn 0.2s ease;\n}\n\n.delete-confirm {\n  background: linear-gradient(135deg, rgba(26, 26, 46, 0.98) 0%, rgba(42, 42, 62, 0.98) 100%);\n  border: 1px solid var(--border-color);\n  border-radius: var(--radius-md);\n  padding: 24px;\n  max-width: 400px;\n  text-align: center;\n}\n\n.delete-confirm h3 {\n  margin: 0 0 12px 0;\n  font-size: 18px;\n  font-weight: 600;\n  color: var(--text-primary);\n}\n\n.delete-confirm p {\n  margin: 0 0 20px 0;\n  font-size: 13px;\n  color: var(--text-secondary);\n  line-height: 1.5;\n}\n\n.delete-confirm-buttons {\n  display: flex;\n  gap: 12px;\n  justify-content: center;\n}\n\n/* Hidden channel (when another channel is expanded) */\n.channel-hidden {\n  display: none;\n}\n\n/* Expanded channel styles */\n.channel-expanded {\n  width: 100% !important;\n  height: 100%;\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n\n.channel-expanded .channel-preview,\n.channel-preview-expanded {\n  width: 100%;\n  /* Height is set dynamically via inline style */\n  border-radius: var(--radius-lg);\n  margin-bottom: 8px;\n  flex-shrink: 0;\n  overflow: hidden;\n  background: rgba(0, 0, 0, 0.3);\n  border: 1px solid var(--border-color);\n}\n\n.channel-expanded .channel-layers,\n.channel-layers-expanded {\n  flex: 1;\n  display: flex;\n  gap: 12px;\n  overflow-x: auto;\n  padding: 0 0 20px 0;\n}\n\n/* Preview resize handle */\n.channel-preview-expanded {\n  position: relative;\n}\n\n.preview-resize-handle {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  height: 12px;\n  cursor: ns-resize;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: transparent;\n  transition: background 0.15s ease;\n  z-index: 5;\n}\n\n.preview-resize-handle:hover,\n.preview-resize-handle.resizing {\n  background: rgba(0, 255, 136, 0.1);\n}\n\n.resize-handle-bar {\n  width: 60px;\n  height: 4px;\n  background: var(--border-color);\n  border-radius: 2px;\n  transition: background 0.15s ease, width 0.15s ease;\n}\n\n.preview-resize-handle:hover .resize-handle-bar,\n.preview-resize-handle.resizing .resize-handle-bar {\n  background: var(--accent-primary);\n  width: 80px;\n}","",{version:3,sources:["webpack://./src/renderer/components/Channel.css"],names:[],mappings:"AAAA;EACE,qCAAqC;EACrC,2BAA2B;EAC3B,qCAAqC;EACrC,+BAA+B;EAC/B,gBAAgB;EAChB,aAAa;EACb,sBAAsB;EACtB,cAAc;EACd,kBAAkB;EAClB,4BAA4B;AAC9B;;AAEA;EACE,aAAa;EACb,4CAA4C;EAC5C,aAAa;EACb,mBAAmB;EACnB,8BAA8B;EAC9B,qCAAqC;AACvC;;AAEA;EACE,eAAe;EACf,gBAAgB;EAChB,0BAA0B;EAC1B,SAAS;AACX;;AAEA;EACE,aAAa;EACb,sBAAsB;EACtB,QAAQ;AACV;;AAEA;EACE,eAAe;EACf,2BAA2B;EAC3B,gBAAgB;AAClB;;AAEA;EACE,aAAa;EACb,QAAQ;AACV;;AAEA;EACE,kCAAkC;EAClC,yBAAyB;AAC3B;;AAEA;EACE,WAAW;EACX,aAAa;EACb,aAAa;EACb,sBAAsB;EACtB,8BAA8B;EAC9B,4CAA4C;EAC5C,cAAc;AAChB;;AAEA,2CAA2C;AAC3C;EACE,+BAA+B;AACjC;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,aAAa;EACb,sBAAsB;EACtB,mBAAmB;EACnB,uBAAuB;EACvB,SAAS;EACT,2BAA2B;AAC7B;;AAEA;EACE,SAAS;EACT,eAAe;AACjB;;AAEA;EACE,aAAa;EACb,SAAS;EACT,aAAa;EACb,gBAAgB;EAChB,OAAO;AACT;;AAEA;EACE,YAAY;EACZ,qCAAqC;EACrC,qCAAqC;EACrC,+BAA+B;EAC/B,aAAa;EACb,sBAAsB;EACtB,cAAc;AAChB;;AAEA;EACE,aAAa;EACb,4CAA4C;EAC5C,eAAe;EACf,gBAAgB;EAChB,4BAA4B;AAC9B;;AAEA;EACE,OAAO;EACP,aAAa;EACb,aAAa;EACb,mBAAmB;EACnB,uBAAuB;AACzB;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,kBAAkB;EAClB,wCAAwC;EACxC,mCAAmC;EACnC,8BAA8B;EAC9B,eAAe;EACf,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,iCAAiC;EACjC,kBAAkB;EAClB,cAAc;AAChB;;AAEA;EACE,qBAAqB;EACrB,kCAAkC;EAClC,8BAA8B;AAChC;;AAEA;EACE,sBAAsB;AACxB;;AAEA,wBAAwB;AACxB;EACE,kBAAkB;EAClB,MAAM;EACN,OAAO;EACP,WAAW;EACX,YAAY;EACZ,8BAA8B;EAC9B,0BAA0B;EAC1B,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,WAAW;EACX,2BAA2B;AAC7B;;AAEA;EACE,2FAA2F;EAC3F,qCAAqC;EACrC,+BAA+B;EAC/B,aAAa;EACb,gBAAgB;EAChB,kBAAkB;AACpB;;AAEA;EACE,kBAAkB;EAClB,eAAe;EACf,gBAAgB;EAChB,0BAA0B;AAC5B;;AAEA;EACE,kBAAkB;EAClB,eAAe;EACf,4BAA4B;EAC5B,gBAAgB;AAClB;;AAEA;EACE,aAAa;EACb,SAAS;EACT,uBAAuB;AACzB;;AAEA,sDAAsD;AACtD;EACE,aAAa;AACf;;AAEA,4BAA4B;AAC5B;EACE,sBAAsB;EACtB,YAAY;EACZ,OAAO;EACP,aAAa;EACb,sBAAsB;AACxB;;AAEA;;EAEE,WAAW;EACX,+CAA+C;EAC/C,+BAA+B;EAC/B,kBAAkB;EAClB,cAAc;EACd,gBAAgB;EAChB,8BAA8B;EAC9B,qCAAqC;AACvC;;AAEA;;EAEE,OAAO;EACP,aAAa;EACb,SAAS;EACT,gBAAgB;EAChB,mBAAmB;AACrB;;AAEA,0BAA0B;AAC1B;EACE,kBAAkB;AACpB;;AAEA;EACE,kBAAkB;EAClB,SAAS;EACT,OAAO;EACP,QAAQ;EACR,YAAY;EACZ,iBAAiB;EACjB,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,uBAAuB;EACvB,iCAAiC;EACjC,UAAU;AACZ;;AAEA;;EAEE,kCAAkC;AACpC;;AAEA;EACE,WAAW;EACX,WAAW;EACX,+BAA+B;EAC/B,kBAAkB;EAClB,mDAAmD;AACrD;;AAEA;;EAEE,iCAAiC;EACjC,WAAW;AACb",sourcesContent:[".channel {\r\n  background: rgba(255, 255, 255, 0.03);\r\n  backdrop-filter: blur(10px);\r\n  border: 1px solid var(--border-color);\r\n  border-radius: var(--radius-lg);\r\n  overflow: hidden;\r\n  display: flex;\r\n  flex-direction: column;\r\n  flex-shrink: 0;\r\n  position: relative;\r\n  transition: width 300ms ease;\r\n}\r\n\r\n.channel-header {\r\n  padding: 16px;\r\n  border-bottom: 1px solid var(--border-color);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  background: rgba(255, 255, 255, 0.02);\r\n}\r\n\r\n.channel-name {\r\n  font-size: 15px;\r\n  font-weight: 600;\r\n  color: var(--text-primary);\r\n  margin: 0;\r\n}\r\n\r\n.channel-header-info {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 2px;\r\n}\r\n\r\n.channel-format {\r\n  font-size: 11px;\r\n  color: var(--text-tertiary);\r\n  font-weight: 400;\r\n}\r\n\r\n.channel-actions {\r\n  display: flex;\r\n  gap: 8px;\r\n}\r\n\r\n.btn-danger-icon:hover {\r\n  background: rgba(255, 68, 68, 0.2);\r\n  color: var(--error-light);\r\n}\r\n\r\n.channel-preview {\r\n  width: 100%;\r\n  height: 240px;\r\n  padding: 12px;\r\n  box-sizing: border-box;\r\n  background: rgba(0, 0, 0, 0.3);\r\n  border-bottom: 1px solid var(--border-color);\r\n  flex-shrink: 0;\r\n}\r\n\r\n/* Ensure inner preview fills padded area */\r\n.channel-preview .preview {\r\n  border-radius: var(--radius-md);\r\n}\r\n\r\n.preview-placeholder {\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 12px;\r\n  color: var(--text-tertiary);\r\n}\r\n\r\n.preview-placeholder p {\r\n  margin: 0;\r\n  font-size: 14px;\r\n}\r\n\r\n.channel-layers {\r\n  display: flex;\r\n  gap: 12px;\r\n  padding: 16px;\r\n  overflow-x: auto;\r\n  flex: 1;\r\n}\r\n\r\n.layer-placeholder {\r\n  width: 380px;\r\n  background: rgba(255, 255, 255, 0.05);\r\n  border: 1px solid var(--border-color);\r\n  border-radius: var(--radius-md);\r\n  display: flex;\r\n  flex-direction: column;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.layer-header {\r\n  padding: 12px;\r\n  border-bottom: 1px solid var(--border-color);\r\n  font-size: 13px;\r\n  font-weight: 600;\r\n  color: var(--text-secondary);\r\n}\r\n\r\n.layer-content {\r\n  flex: 1;\r\n  padding: 16px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.add-layer-button {\r\n  width: 50px;\r\n  height: 50px;\r\n  border-radius: 50%;\r\n  border: 2px dashed var(--accent-primary);\r\n  background: rgba(0, 255, 136, 0.05);\r\n  color: var(--accent-secondary);\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  transition: all var(--transition);\r\n  align-self: center;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.add-layer-button:hover {\r\n  transform: scale(1.1);\r\n  background: rgba(0, 255, 136, 0.1);\r\n  box-shadow: var(--shadow-glow);\r\n}\r\n\r\n.add-layer-button:active {\r\n  transform: scale(1.05);\r\n}\r\n\r\n/* Delete Confirmation */\r\n.delete-confirm-overlay {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: rgba(0, 0, 0, 0.8);\r\n  backdrop-filter: blur(4px);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 10;\r\n  animation: fadeIn 0.2s ease;\r\n}\r\n\r\n.delete-confirm {\r\n  background: linear-gradient(135deg, rgba(26, 26, 46, 0.98) 0%, rgba(42, 42, 62, 0.98) 100%);\r\n  border: 1px solid var(--border-color);\r\n  border-radius: var(--radius-md);\r\n  padding: 24px;\r\n  max-width: 400px;\r\n  text-align: center;\r\n}\r\n\r\n.delete-confirm h3 {\r\n  margin: 0 0 12px 0;\r\n  font-size: 18px;\r\n  font-weight: 600;\r\n  color: var(--text-primary);\r\n}\r\n\r\n.delete-confirm p {\r\n  margin: 0 0 20px 0;\r\n  font-size: 13px;\r\n  color: var(--text-secondary);\r\n  line-height: 1.5;\r\n}\r\n\r\n.delete-confirm-buttons {\r\n  display: flex;\r\n  gap: 12px;\r\n  justify-content: center;\r\n}\r\n\r\n/* Hidden channel (when another channel is expanded) */\r\n.channel-hidden {\r\n  display: none;\r\n}\r\n\r\n/* Expanded channel styles */\r\n.channel-expanded {\r\n  width: 100% !important;\r\n  height: 100%;\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.channel-expanded .channel-preview,\r\n.channel-preview-expanded {\r\n  width: 100%;\r\n  /* Height is set dynamically via inline style */\r\n  border-radius: var(--radius-lg);\r\n  margin-bottom: 8px;\r\n  flex-shrink: 0;\r\n  overflow: hidden;\r\n  background: rgba(0, 0, 0, 0.3);\r\n  border: 1px solid var(--border-color);\r\n}\r\n\r\n.channel-expanded .channel-layers,\r\n.channel-layers-expanded {\r\n  flex: 1;\r\n  display: flex;\r\n  gap: 12px;\r\n  overflow-x: auto;\r\n  padding: 0 0 20px 0;\r\n}\r\n\r\n/* Preview resize handle */\r\n.channel-preview-expanded {\r\n  position: relative;\r\n}\r\n\r\n.preview-resize-handle {\r\n  position: absolute;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  height: 12px;\r\n  cursor: ns-resize;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background: transparent;\r\n  transition: background 0.15s ease;\r\n  z-index: 5;\r\n}\r\n\r\n.preview-resize-handle:hover,\r\n.preview-resize-handle.resizing {\r\n  background: rgba(0, 255, 136, 0.1);\r\n}\r\n\r\n.resize-handle-bar {\r\n  width: 60px;\r\n  height: 4px;\r\n  background: var(--border-color);\r\n  border-radius: 2px;\r\n  transition: background 0.15s ease, width 0.15s ease;\r\n}\r\n\r\n.preview-resize-handle:hover .resize-handle-bar,\r\n.preview-resize-handle.resizing .resize-handle-bar {\r\n  background: var(--accent-primary);\r\n  width: 80px;\r\n}"],sourceRoot:""}]);const s=o},4411(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BasicCasparCGAPI=t.ResponseError=void 0;const r=n(228),a=n(6469),i=n(9187);class o extends Error{constructor(e,t){super("Failed to deserialize response"),this.deserializeError=e,this.response=t}}t.ResponseError=o;class s extends r.EventEmitter{constructor(e){super(),this._requestQueue=[],this._host=e?.host||"127.0.0.1",this._port=e?.port||5250,this._connection=new i.Connection(this._host,this._port,!(!1===e?.autoConnect),e=>{const t=this.findRequestFromResponse(e);return t?{command:t.command}:void 0}),this._connection.on("connect",()=>{this.executeCommand({command:a.Commands.Version,params:{}}).then(async({request:e,error:t})=>{if(t)throw t;const n=(await e).data;this._connection.version=n.version}).catch(e=>this.emit("error",e)).finally(()=>this.emit("connect")),this._processQueue().catch(e=>this.emit("error",e))}),this._connection.on("disconnect",()=>this.emit("disconnect")),this._connection.on("error",e=>this.emit("error",e)),this._connection.on("data",(e,t)=>{const n=this.findRequestFromResponse(e);n&&(t?n.reject(new o(t,e)):n.resolve(e),this._requestQueue=this._requestQueue.filter(t=>t.requestId!==e.reqId)),this._processQueue().catch(e=>this.emit("error",e))}),this._timeoutTime=e?.timeoutTime||5e3,this._timeoutTimer=setInterval(()=>this._checkTimeouts(),this._timeoutTime)}get host(){return this._host}set host(e){this._host=e,this._connection.changeConnection(this._host,this._port)}get port(){return this._port}set port(e){this._port=e,this._connection.changeConnection(this._host,this._port)}get connected(){return this._connection.connected}connect(e,t){this._host=e||this._host,this._port=t||this._port,this._connection.changeConnection(this._host,this._port)}disconnect(){this._connection.disconnect(),this._requestQueue.forEach(e=>{e.processed?e.reject(new Error("Disconnected before response was received")):e.sentResolve({request:void 0,error:new Error("Disconnected before response was received")})})}discard(){this._connection.disconnect(),clearInterval(this._timeoutTimer)}async executeCommand(e){const t=Math.random().toString(35).slice(2,7);let n=()=>null;const r=new Promise(e=>{n=e}),a={requestId:t,command:e,resolve:()=>null,reject:()=>null,processed:!1,sentResolve:n};return this._requestQueue.push(a),this._processQueue().catch(e=>this.emit("error",e)),r}async _processQueue(){this._requestQueue.length<1||this._requestQueue.forEach(e=>{e.processed||(this._connection.sendCommand(e.command,e.requestId).then(t=>{if(t)this._requestQueue=this._requestQueue.filter(t=>t!==e),e.sentResolve({error:t,request:void 0});else{const t=new Promise((t,n)=>{e.resolve=t,e.reject=n});e.sentTime=Date.now(),e.sentResolve({error:void 0,request:t})}}).catch(t=>{e.sentResolve({error:Error(t),request:void 0}),e.reject(new Error(t)),this._requestQueue=this._requestQueue.filter(t=>t!==e)}),e.processed=!0,e.processedTime=Date.now())})}_checkTimeouts(){const e=this._requestQueue.filter(e=>e.processed&&e.processedTime&&e.processedTime<Date.now()-this._timeoutTime);e.forEach(e=>{e.reject(new Error("Time out")),e.sentResolve({request:void 0,error:new Error("Time out")})}),this._requestQueue=this._requestQueue.filter(t=>!e.includes(t))}findRequestFromResponse(e){return this._requestQueue.find(t=>t.requestId===e.reqId)}}t.BasicCasparCGAPI=s},4434(e){"use strict";e.exports=require("events")},4738(e,t,n){"use strict";n.d(t,{A:()=>s});var r=n(1354),a=n.n(r),i=n(6314),o=n.n(i)()(a());o.push([e.id,".preview {\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.3);\n  border-radius: var(--radius-sm);\n  overflow: hidden;\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.preview.expanded {\n  /* Height controlled by parent container */\n}\n\n.preview-video {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  object-fit: contain;\n  background: #000;\n}\n\n.preview-placeholder {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 12px;\n  padding: 20px;\n  text-align: center;\n  color: var(--text-tertiary);\n}\n\n.preview-placeholder p {\n  margin: 0;\n  font-size: 14px;\n}\n\n.preview-placeholder .btn-sm {\n  margin-top: 8px;\n}\n\n.preview-buttons {\n  display: flex;\n  gap: 8px;\n  margin-top: 8px;\n}\n\n.streaming-badge {\n  display: inline-block;\n  margin-left: 6px;\n  padding: 1px 6px;\n  background: var(--error-light);\n  color: white;\n  font-size: 9px;\n  font-weight: 600;\n  border-radius: 3px;\n  animation: blink 1.5s ease-in-out infinite;\n}\n\n@keyframes blink {\n  0%, 100% { opacity: 1; }\n  50% { opacity: 0.6; }\n}\n\n.preview-controls {\n  position: absolute;\n  bottom: 8px;\n  left: 8px;\n  right: 8px;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 6px 10px;\n  background: rgba(0, 0, 0, 0.7);\n  border-radius: var(--radius-sm);\n  opacity: 0;\n  transition: opacity var(--transition);\n}\n\n.preview:hover .preview-controls {\n  opacity: 1;\n}\n\n.preview-label {\n  font-size: 11px;\n  color: var(--text-secondary);\n  margin-left: auto;\n}\n\n.btn-sm {\n  padding: 6px 12px;\n  font-size: 12px;\n}\n\n/* Loading spinner for connecting state */\n.preview-loading {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-bottom: 8px;\n}\n\n.loading-spinner {\n  width: 40px;\n  height: 40px;\n  border: 3px solid var(--border-color);\n  border-top-color: var(--accent-primary);\n  border-radius: 50%;\n  animation: spin 0.8s linear infinite;\n}\n\n@keyframes spin {\n  to {\n    transform: rotate(360deg);\n  }\n}\n","",{version:3,sources:["webpack://./src/renderer/components/Preview.css"],names:[],mappings:"AAAA;EACE,WAAW;EACX,YAAY;EACZ,8BAA8B;EAC9B,+BAA+B;EAC/B,gBAAgB;EAChB,kBAAkB;EAClB,aAAa;EACb,mBAAmB;EACnB,uBAAuB;AACzB;;AAEA;EACE,0CAA0C;AAC5C;;AAEA;EACE,kBAAkB;EAClB,MAAM;EACN,OAAO;EACP,WAAW;EACX,YAAY;EACZ,mBAAmB;EACnB,gBAAgB;AAClB;;AAEA;EACE,aAAa;EACb,sBAAsB;EACtB,mBAAmB;EACnB,uBAAuB;EACvB,SAAS;EACT,aAAa;EACb,kBAAkB;EAClB,2BAA2B;AAC7B;;AAEA;EACE,SAAS;EACT,eAAe;AACjB;;AAEA;EACE,eAAe;AACjB;;AAEA;EACE,aAAa;EACb,QAAQ;EACR,eAAe;AACjB;;AAEA;EACE,qBAAqB;EACrB,gBAAgB;EAChB,gBAAgB;EAChB,8BAA8B;EAC9B,YAAY;EACZ,cAAc;EACd,gBAAgB;EAChB,kBAAkB;EAClB,0CAA0C;AAC5C;;AAEA;EACE,WAAW,UAAU,EAAE;EACvB,MAAM,YAAY,EAAE;AACtB;;AAEA;EACE,kBAAkB;EAClB,WAAW;EACX,SAAS;EACT,UAAU;EACV,aAAa;EACb,mBAAmB;EACnB,QAAQ;EACR,iBAAiB;EACjB,8BAA8B;EAC9B,+BAA+B;EAC/B,UAAU;EACV,qCAAqC;AACvC;;AAEA;EACE,UAAU;AACZ;;AAEA;EACE,eAAe;EACf,4BAA4B;EAC5B,iBAAiB;AACnB;;AAEA;EACE,iBAAiB;EACjB,eAAe;AACjB;;AAEA,yCAAyC;AACzC;EACE,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,kBAAkB;AACpB;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,qCAAqC;EACrC,uCAAuC;EACvC,kBAAkB;EAClB,oCAAoC;AACtC;;AAEA;EACE;IACE,yBAAyB;EAC3B;AACF",sourcesContent:[".preview {\r\n  width: 100%;\r\n  height: 100%;\r\n  background: rgba(0, 0, 0, 0.3);\r\n  border-radius: var(--radius-sm);\r\n  overflow: hidden;\r\n  position: relative;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.preview.expanded {\r\n  /* Height controlled by parent container */\r\n}\r\n\r\n.preview-video {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: contain;\r\n  background: #000;\r\n}\r\n\r\n.preview-placeholder {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 12px;\r\n  padding: 20px;\r\n  text-align: center;\r\n  color: var(--text-tertiary);\r\n}\r\n\r\n.preview-placeholder p {\r\n  margin: 0;\r\n  font-size: 14px;\r\n}\r\n\r\n.preview-placeholder .btn-sm {\r\n  margin-top: 8px;\r\n}\r\n\r\n.preview-buttons {\r\n  display: flex;\r\n  gap: 8px;\r\n  margin-top: 8px;\r\n}\r\n\r\n.streaming-badge {\r\n  display: inline-block;\r\n  margin-left: 6px;\r\n  padding: 1px 6px;\r\n  background: var(--error-light);\r\n  color: white;\r\n  font-size: 9px;\r\n  font-weight: 600;\r\n  border-radius: 3px;\r\n  animation: blink 1.5s ease-in-out infinite;\r\n}\r\n\r\n@keyframes blink {\r\n  0%, 100% { opacity: 1; }\r\n  50% { opacity: 0.6; }\r\n}\r\n\r\n.preview-controls {\r\n  position: absolute;\r\n  bottom: 8px;\r\n  left: 8px;\r\n  right: 8px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  padding: 6px 10px;\r\n  background: rgba(0, 0, 0, 0.7);\r\n  border-radius: var(--radius-sm);\r\n  opacity: 0;\r\n  transition: opacity var(--transition);\r\n}\r\n\r\n.preview:hover .preview-controls {\r\n  opacity: 1;\r\n}\r\n\r\n.preview-label {\r\n  font-size: 11px;\r\n  color: var(--text-secondary);\r\n  margin-left: auto;\r\n}\r\n\r\n.btn-sm {\r\n  padding: 6px 12px;\r\n  font-size: 12px;\r\n}\r\n\r\n/* Loading spinner for connecting state */\r\n.preview-loading {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.loading-spinner {\r\n  width: 40px;\r\n  height: 40px;\r\n  border: 3px solid var(--border-color);\r\n  border-top-color: var(--accent-primary);\r\n  border-radius: 50%;\r\n  animation: spin 0.8s linear infinite;\r\n}\r\n\r\n@keyframes spin {\r\n  to {\r\n    transform: rotate(360deg);\r\n  }\r\n}\r\n"],sourceRoot:""}]);const s=o},4821(e){(function(){e.exports={Disconnected:1,Preceding:2,Following:4,Contains:8,ContainedBy:16,ImplementationSpecific:32}}).call(this)},4885(e,t,n){(function(){var t,r,a,i={}.hasOwnProperty;t=n(231),a=n(2652),r=n(3267),e.exports=function(e){function n(e,t){this.stream=e,n.__super__.constructor.call(this,t)}return function(e,t){for(var n in t)i.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(n,e),n.prototype.endline=function(e,t,a){return e.isLastRootNode&&t.state===r.CloseTag?"":n.__super__.endline.call(this,e,t,a)},n.prototype.document=function(e,t){var n,r,a,i,o,s,l,c,d;for(r=a=0,o=(l=e.children).length;a<o;r=++a)(n=l[r]).isLastRootNode=r===e.children.length-1;for(t=this.filterOptions(t),d=[],i=0,s=(c=e.children).length;i<s;i++)n=c[i],d.push(this.writeChildNode(n,t,0));return d},n.prototype.attribute=function(e,t,r){return this.stream.write(n.__super__.attribute.call(this,e,t,r))},n.prototype.cdata=function(e,t,r){return this.stream.write(n.__super__.cdata.call(this,e,t,r))},n.prototype.comment=function(e,t,r){return this.stream.write(n.__super__.comment.call(this,e,t,r))},n.prototype.declaration=function(e,t,r){return this.stream.write(n.__super__.declaration.call(this,e,t,r))},n.prototype.docType=function(e,t,n){var a,i,o,s;if(n||(n=0),this.openNode(e,t,n),t.state=r.OpenTag,this.stream.write(this.indent(e,t,n)),this.stream.write("<!DOCTYPE "+e.root().name),e.pubID&&e.sysID?this.stream.write(' PUBLIC "'+e.pubID+'" "'+e.sysID+'"'):e.sysID&&this.stream.write(' SYSTEM "'+e.sysID+'"'),e.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(e,t,n)),t.state=r.InsideTag,i=0,o=(s=e.children).length;i<o;i++)a=s[i],this.writeChildNode(a,t,n+1);t.state=r.CloseTag,this.stream.write("]")}return t.state=r.CloseTag,this.stream.write(t.spaceBeforeSlash+">"),this.stream.write(this.endline(e,t,n)),t.state=r.None,this.closeNode(e,t,n)},n.prototype.element=function(e,n,a){var o,s,l,c,d,u,p,h,m;for(p in a||(a=0),this.openNode(e,n,a),n.state=r.OpenTag,this.stream.write(this.indent(e,n,a)+"<"+e.name),h=e.attribs)i.call(h,p)&&(o=h[p],this.attribute(o,n,a));if(c=0===(l=e.children.length)?null:e.children[0],0===l||e.children.every(function(e){return(e.type===t.Text||e.type===t.Raw)&&""===e.value}))n.allowEmpty?(this.stream.write(">"),n.state=r.CloseTag,this.stream.write("</"+e.name+">")):(n.state=r.CloseTag,this.stream.write(n.spaceBeforeSlash+"/>"));else if(!n.pretty||1!==l||c.type!==t.Text&&c.type!==t.Raw||null==c.value){for(this.stream.write(">"+this.endline(e,n,a)),n.state=r.InsideTag,d=0,u=(m=e.children).length;d<u;d++)s=m[d],this.writeChildNode(s,n,a+1);n.state=r.CloseTag,this.stream.write(this.indent(e,n,a)+"</"+e.name+">")}else this.stream.write(">"),n.state=r.InsideTag,n.suppressPrettyCount++,this.writeChildNode(c,n,a+1),n.suppressPrettyCount--,n.state=r.CloseTag,this.stream.write("</"+e.name+">");return this.stream.write(this.endline(e,n,a)),n.state=r.None,this.closeNode(e,n,a)},n.prototype.processingInstruction=function(e,t,r){return this.stream.write(n.__super__.processingInstruction.call(this,e,t,r))},n.prototype.raw=function(e,t,r){return this.stream.write(n.__super__.raw.call(this,e,t,r))},n.prototype.text=function(e,t,r){return this.stream.write(n.__super__.text.call(this,e,t,r))},n.prototype.dtdAttList=function(e,t,r){return this.stream.write(n.__super__.dtdAttList.call(this,e,t,r))},n.prototype.dtdElement=function(e,t,r){return this.stream.write(n.__super__.dtdElement.call(this,e,t,r))},n.prototype.dtdEntity=function(e,t,r){return this.stream.write(n.__super__.dtdEntity.call(this,e,t,r))},n.prototype.dtdNotation=function(e,t,r){return this.stream.write(n.__super__.dtdNotation.call(this,e,t,r))},n}(a)}).call(this)},4933(e,t,n){"use strict";n.d(t,{A:()=>s});var r=n(1354),a=n.n(r),i=n(6314),o=n.n(i)()(a());o.push([e.id,".styled-select {\n  position: relative;\n  width: 100%;\n}\n\n.styled-select-trigger {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: 8px;\n  padding: 10px 12px;\n  background: rgba(255, 255, 255, 0.05);\n  border: 1px solid var(--border-color);\n  border-radius: var(--radius-sm);\n  color: var(--text-primary);\n  font-size: 13px;\n  cursor: pointer;\n  transition: all var(--transition);\n  text-align: left;\n}\n\n.styled-select-trigger:hover {\n  background: rgba(255, 255, 255, 0.08);\n  border-color: var(--border-hover);\n}\n\n.styled-select.open .styled-select-trigger {\n  background: rgba(255, 255, 255, 0.1);\n  border-color: var(--accent-primary);\n}\n\n.styled-select-value {\n  flex: 1;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.styled-select-arrow {\n  flex-shrink: 0;\n  color: var(--text-tertiary);\n  transition: transform var(--transition);\n}\n\n.styled-select.open .styled-select-arrow {\n  transform: rotate(180deg);\n}\n\n.styled-select-dropdown {\n  position: absolute;\n  top: calc(100% + 4px);\n  left: 0;\n  right: 0;\n  background: rgb(30, 35, 45);  /* Fully opaque - no alpha channel */\n  border: 1px solid var(--border-color);\n  border-radius: var(--radius-sm);\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);\n  z-index: 1000;\n  animation: dropdownSlide 0.15s ease-out;\n  overflow: hidden;\n}\n\n/* Portal dropdown rendered to document.body - needs fixed positioning */\n.styled-select-dropdown-portal {\n  position: fixed !important;\n  z-index: 10000 !important;\n}\n\n@keyframes dropdownSlide {\n  from {\n    opacity: 0;\n    transform: translateY(-4px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n.styled-select-search {\n  padding: 8px;\n  border-bottom: 1px solid var(--border-color);\n}\n\n.styled-select-search input {\n  width: 100%;\n  padding: 8px 10px;\n  background: rgba(0, 0, 0, 0.3);\n  border: 1px solid var(--border-color);\n  border-radius: var(--radius-sm);\n  color: var(--text-primary);\n  font-size: 12px;\n  outline: none;\n  transition: all var(--transition);\n}\n\n.styled-select-search input:focus {\n  border-color: var(--accent-primary);\n  box-shadow: 0 0 0 2px rgba(0, 170, 136, 0.15);\n}\n\n.styled-select-search input::placeholder {\n  color: var(--text-tertiary);\n}\n\n.styled-select-options {\n  max-height: 280px;\n  overflow-y: auto;\n  padding: 4px;\n}\n\n.styled-select-group {\n  margin-bottom: 4px;\n}\n\n.styled-select-group:last-child {\n  margin-bottom: 0;\n}\n\n.styled-select-group-label {\n  padding: 6px 10px;\n  font-size: 10px;\n  font-weight: 600;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n  color: var(--text-tertiary);\n  background: rgba(255, 255, 255, 0.03);\n  border-radius: var(--radius-sm);\n  margin-bottom: 2px;\n}\n\n.styled-select-option {\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  gap: 2px;\n  padding: 8px 10px;\n  background: transparent;\n  border: none;\n  border-radius: var(--radius-sm);\n  color: var(--text-primary);\n  font-size: 13px;\n  text-align: left;\n  cursor: pointer;\n  transition: all var(--transition);\n}\n\n.styled-select-option:hover {\n  background: rgba(255, 255, 255, 0.08);\n}\n\n.styled-select-option.selected {\n  background: rgba(0, 170, 136, 0.15);\n}\n\n.styled-select-option.selected:hover {\n  background: rgba(0, 170, 136, 0.2);\n}\n\n.option-label {\n  font-weight: 500;\n}\n\n.option-description {\n  font-size: 11px;\n  color: var(--text-tertiary);\n  line-height: 1.3;\n}\n\n.styled-select-option:hover .option-description {\n  color: var(--text-secondary);\n}\n\n.styled-select-empty {\n  padding: 16px;\n  text-align: center;\n  color: var(--text-tertiary);\n  font-size: 12px;\n}\n\n/* Scrollbar styling */\n.styled-select-options::-webkit-scrollbar {\n  width: 6px;\n}\n\n.styled-select-options::-webkit-scrollbar-track {\n  background: transparent;\n}\n\n.styled-select-options::-webkit-scrollbar-thumb {\n  background: rgba(255, 255, 255, 0.15);\n  border-radius: 3px;\n}\n\n.styled-select-options::-webkit-scrollbar-thumb:hover {\n  background: rgba(255, 255, 255, 0.25);\n}\n","",{version:3,sources:["webpack://./src/renderer/components/StyledSelect.css"],names:[],mappings:"AAAA;EACE,kBAAkB;EAClB,WAAW;AACb;;AAEA;EACE,WAAW;EACX,aAAa;EACb,mBAAmB;EACnB,8BAA8B;EAC9B,QAAQ;EACR,kBAAkB;EAClB,qCAAqC;EACrC,qCAAqC;EACrC,+BAA+B;EAC/B,0BAA0B;EAC1B,eAAe;EACf,eAAe;EACf,iCAAiC;EACjC,gBAAgB;AAClB;;AAEA;EACE,qCAAqC;EACrC,iCAAiC;AACnC;;AAEA;EACE,oCAAoC;EACpC,mCAAmC;AACrC;;AAEA;EACE,OAAO;EACP,mBAAmB;EACnB,gBAAgB;EAChB,uBAAuB;AACzB;;AAEA;EACE,cAAc;EACd,2BAA2B;EAC3B,uCAAuC;AACzC;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE,kBAAkB;EAClB,qBAAqB;EACrB,OAAO;EACP,QAAQ;EACR,2BAA2B,GAAG,oCAAoC;EAClE,qCAAqC;EACrC,+BAA+B;EAC/B,yCAAyC;EACzC,aAAa;EACb,uCAAuC;EACvC,gBAAgB;AAClB;;AAEA,wEAAwE;AACxE;EACE,0BAA0B;EAC1B,yBAAyB;AAC3B;;AAEA;EACE;IACE,UAAU;IACV,2BAA2B;EAC7B;EACA;IACE,UAAU;IACV,wBAAwB;EAC1B;AACF;;AAEA;EACE,YAAY;EACZ,4CAA4C;AAC9C;;AAEA;EACE,WAAW;EACX,iBAAiB;EACjB,8BAA8B;EAC9B,qCAAqC;EACrC,+BAA+B;EAC/B,0BAA0B;EAC1B,eAAe;EACf,aAAa;EACb,iCAAiC;AACnC;;AAEA;EACE,mCAAmC;EACnC,6CAA6C;AAC/C;;AAEA;EACE,2BAA2B;AAC7B;;AAEA;EACE,iBAAiB;EACjB,gBAAgB;EAChB,YAAY;AACd;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,iBAAiB;EACjB,eAAe;EACf,gBAAgB;EAChB,yBAAyB;EACzB,qBAAqB;EACrB,2BAA2B;EAC3B,qCAAqC;EACrC,+BAA+B;EAC/B,kBAAkB;AACpB;;AAEA;EACE,WAAW;EACX,aAAa;EACb,sBAAsB;EACtB,uBAAuB;EACvB,QAAQ;EACR,iBAAiB;EACjB,uBAAuB;EACvB,YAAY;EACZ,+BAA+B;EAC/B,0BAA0B;EAC1B,eAAe;EACf,gBAAgB;EAChB,eAAe;EACf,iCAAiC;AACnC;;AAEA;EACE,qCAAqC;AACvC;;AAEA;EACE,mCAAmC;AACrC;;AAEA;EACE,kCAAkC;AACpC;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,eAAe;EACf,2BAA2B;EAC3B,gBAAgB;AAClB;;AAEA;EACE,4BAA4B;AAC9B;;AAEA;EACE,aAAa;EACb,kBAAkB;EAClB,2BAA2B;EAC3B,eAAe;AACjB;;AAEA,sBAAsB;AACtB;EACE,UAAU;AACZ;;AAEA;EACE,uBAAuB;AACzB;;AAEA;EACE,qCAAqC;EACrC,kBAAkB;AACpB;;AAEA;EACE,qCAAqC;AACvC",sourcesContent:[".styled-select {\r\n  position: relative;\r\n  width: 100%;\r\n}\r\n\r\n.styled-select-trigger {\r\n  width: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  gap: 8px;\r\n  padding: 10px 12px;\r\n  background: rgba(255, 255, 255, 0.05);\r\n  border: 1px solid var(--border-color);\r\n  border-radius: var(--radius-sm);\r\n  color: var(--text-primary);\r\n  font-size: 13px;\r\n  cursor: pointer;\r\n  transition: all var(--transition);\r\n  text-align: left;\r\n}\r\n\r\n.styled-select-trigger:hover {\r\n  background: rgba(255, 255, 255, 0.08);\r\n  border-color: var(--border-hover);\r\n}\r\n\r\n.styled-select.open .styled-select-trigger {\r\n  background: rgba(255, 255, 255, 0.1);\r\n  border-color: var(--accent-primary);\r\n}\r\n\r\n.styled-select-value {\r\n  flex: 1;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n.styled-select-arrow {\r\n  flex-shrink: 0;\r\n  color: var(--text-tertiary);\r\n  transition: transform var(--transition);\r\n}\r\n\r\n.styled-select.open .styled-select-arrow {\r\n  transform: rotate(180deg);\r\n}\r\n\r\n.styled-select-dropdown {\r\n  position: absolute;\r\n  top: calc(100% + 4px);\r\n  left: 0;\r\n  right: 0;\r\n  background: rgb(30, 35, 45);  /* Fully opaque - no alpha channel */\r\n  border: 1px solid var(--border-color);\r\n  border-radius: var(--radius-sm);\r\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);\r\n  z-index: 1000;\r\n  animation: dropdownSlide 0.15s ease-out;\r\n  overflow: hidden;\r\n}\r\n\r\n/* Portal dropdown rendered to document.body - needs fixed positioning */\r\n.styled-select-dropdown-portal {\r\n  position: fixed !important;\r\n  z-index: 10000 !important;\r\n}\r\n\r\n@keyframes dropdownSlide {\r\n  from {\r\n    opacity: 0;\r\n    transform: translateY(-4px);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateY(0);\r\n  }\r\n}\r\n\r\n.styled-select-search {\r\n  padding: 8px;\r\n  border-bottom: 1px solid var(--border-color);\r\n}\r\n\r\n.styled-select-search input {\r\n  width: 100%;\r\n  padding: 8px 10px;\r\n  background: rgba(0, 0, 0, 0.3);\r\n  border: 1px solid var(--border-color);\r\n  border-radius: var(--radius-sm);\r\n  color: var(--text-primary);\r\n  font-size: 12px;\r\n  outline: none;\r\n  transition: all var(--transition);\r\n}\r\n\r\n.styled-select-search input:focus {\r\n  border-color: var(--accent-primary);\r\n  box-shadow: 0 0 0 2px rgba(0, 170, 136, 0.15);\r\n}\r\n\r\n.styled-select-search input::placeholder {\r\n  color: var(--text-tertiary);\r\n}\r\n\r\n.styled-select-options {\r\n  max-height: 280px;\r\n  overflow-y: auto;\r\n  padding: 4px;\r\n}\r\n\r\n.styled-select-group {\r\n  margin-bottom: 4px;\r\n}\r\n\r\n.styled-select-group:last-child {\r\n  margin-bottom: 0;\r\n}\r\n\r\n.styled-select-group-label {\r\n  padding: 6px 10px;\r\n  font-size: 10px;\r\n  font-weight: 600;\r\n  text-transform: uppercase;\r\n  letter-spacing: 0.5px;\r\n  color: var(--text-tertiary);\r\n  background: rgba(255, 255, 255, 0.03);\r\n  border-radius: var(--radius-sm);\r\n  margin-bottom: 2px;\r\n}\r\n\r\n.styled-select-option {\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n  gap: 2px;\r\n  padding: 8px 10px;\r\n  background: transparent;\r\n  border: none;\r\n  border-radius: var(--radius-sm);\r\n  color: var(--text-primary);\r\n  font-size: 13px;\r\n  text-align: left;\r\n  cursor: pointer;\r\n  transition: all var(--transition);\r\n}\r\n\r\n.styled-select-option:hover {\r\n  background: rgba(255, 255, 255, 0.08);\r\n}\r\n\r\n.styled-select-option.selected {\r\n  background: rgba(0, 170, 136, 0.15);\r\n}\r\n\r\n.styled-select-option.selected:hover {\r\n  background: rgba(0, 170, 136, 0.2);\r\n}\r\n\r\n.option-label {\r\n  font-weight: 500;\r\n}\r\n\r\n.option-description {\r\n  font-size: 11px;\r\n  color: var(--text-tertiary);\r\n  line-height: 1.3;\r\n}\r\n\r\n.styled-select-option:hover .option-description {\r\n  color: var(--text-secondary);\r\n}\r\n\r\n.styled-select-empty {\r\n  padding: 16px;\r\n  text-align: center;\r\n  color: var(--text-tertiary);\r\n  font-size: 12px;\r\n}\r\n\r\n/* Scrollbar styling */\r\n.styled-select-options::-webkit-scrollbar {\r\n  width: 6px;\r\n}\r\n\r\n.styled-select-options::-webkit-scrollbar-track {\r\n  background: transparent;\r\n}\r\n\r\n.styled-select-options::-webkit-scrollbar-thumb {\r\n  background: rgba(255, 255, 255, 0.15);\r\n  border-radius: 3px;\r\n}\r\n\r\n.styled-select-options::-webkit-scrollbar-thumb:hover {\r\n  background: rgba(255, 255, 255, 0.25);\r\n}\r\n"],sourceRoot:""}]);const s=o},5055(e,t,n){"use strict";n.d(t,{A:()=>s});var r=n(1354),a=n.n(r),i=n(6314),o=n.n(i)()(a());o.push([e.id,".playlist-item {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 8px 10px;\n  background: rgba(255, 255, 255, 0.03);\n  border-radius: var(--radius-sm);\n  cursor: pointer;\n  transition: all var(--transition);\n  position: relative;\n}\n\n.playlist-item:hover {\n  background: rgba(255, 255, 255, 0.06);\n}\n\n.playlist-item.current {\n  background: rgba(0, 170, 136, 0.15);\n  box-shadow: inset 0 0 0 1px rgba(0, 255, 136, 0.3);\n}\n\n.playlist-item.playing {\n  background: rgba(0, 170, 136, 0.25);\n}\n\n.playlist-item.macro {\n  background: rgba(255, 100, 50, 0.1);\n  border-left: 3px solid #ff6432;\n}\n\n.playlist-item.macro.current {\n  background: rgba(255, 100, 50, 0.2);\n  box-shadow: inset 0 0 0 1px rgba(255, 100, 50, 0.5);\n}\n\n.playlist-item.selected {\n  background: rgba(59, 130, 246, 0.2);\n  box-shadow: inset 0 0 0 1px rgba(59, 130, 246, 0.5);\n}\n\n.playlist-item.selected.current {\n  background: rgba(59, 130, 246, 0.25);\n  box-shadow: inset 0 0 0 1px rgba(59, 130, 246, 0.6);\n}\n\n.playlist-item.dragging {\n  opacity: 0.5;\n  transform: scale(0.98);\n}\n\n.item-index {\n  font-size: 10px;\n  font-weight: 600;\n  color: var(--text-tertiary);\n  width: 16px;\n  text-align: center;\n  flex-shrink: 0;\n}\n\n.item-icon {\n  width: 20px;\n  height: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: var(--text-tertiary);\n  flex-shrink: 0;\n}\n\n.playlist-item.current .item-icon {\n  color: var(--accent-secondary);\n}\n\n.playlist-item.macro .item-icon {\n  color: #ff6432;\n}\n\n.item-info {\n  flex: 1;\n  min-width: 0;\n  display: flex;\n  flex-direction: column;\n  gap: 2px;\n}\n\n.item-name {\n  font-size: 12px;\n  color: var(--text-primary);\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.item-meta {\n  font-size: 10px;\n  color: var(--text-tertiary);\n}\n\n.item-duration {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  font-size: 11px;\n  color: var(--text-secondary);\n  flex-shrink: 0;\n}\n\n.duration-editable {\n  cursor: pointer;\n  padding: 2px 4px;\n  border-radius: 3px;\n  transition: all var(--transition);\n}\n\n.duration-editable:hover {\n  background: rgba(255, 255, 255, 0.1);\n  color: var(--text-primary);\n}\n\n.duration-input {\n  width: 50px;\n  padding: 2px 4px;\n  font-size: 11px;\n  background: var(--bg-secondary);\n  border: 1px solid var(--accent-primary);\n  border-radius: 3px;\n  color: var(--text-primary);\n  text-align: center;\n}\n\n.duration-input:focus {\n  outline: none;\n  box-shadow: 0 0 0 2px rgba(0, 170, 136, 0.2);\n}\n\n.item-io {\n  font-size: 9px;\n  font-weight: 600;\n  padding: 1px 4px;\n  background: rgba(0, 170, 136, 0.2);\n  color: var(--accent-secondary);\n  border-radius: 3px;\n}\n\n.item-remove {\n  width: 20px;\n  height: 20px;\n  padding: 0;\n  border: none;\n  background: transparent;\n  color: var(--text-tertiary);\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 4px;\n  opacity: 0;\n  transition: all var(--transition);\n  flex-shrink: 0;\n}\n\n.playlist-item:hover .item-remove {\n  opacity: 1;\n}\n\n.item-remove:hover {\n  background: rgba(255, 68, 68, 0.2);\n  color: var(--error-light);\n}\n\n.playing-indicator {\n  position: absolute;\n  left: 2px;\n  top: 50%;\n  transform: translateY(-50%);\n  display: flex;\n  gap: 2px;\n  align-items: flex-end;\n  height: 12px;\n}\n\n.playing-indicator span {\n  width: 2px;\n  background: var(--accent-secondary);\n  animation: audioWave 0.8s ease-in-out infinite;\n}\n\n.playing-indicator span:nth-child(1) {\n  height: 40%;\n  animation-delay: 0s;\n}\n\n.playing-indicator span:nth-child(2) {\n  height: 80%;\n  animation-delay: 0.2s;\n}\n\n.playing-indicator span:nth-child(3) {\n  height: 60%;\n  animation-delay: 0.4s;\n}\n\n@keyframes audioWave {\n  0%, 100% {\n    transform: scaleY(1);\n  }\n  50% {\n    transform: scaleY(0.5);\n  }\n}\n\n/* Duration display improvements */\n.duration-display {\n  font-size: 11px;\n  color: var(--text-secondary);\n}\n\n.duration-unknown {\n  opacity: 0.5;\n}\n\n/* In/Out point controls */\n.item-io-add {\n  font-size: 9px;\n  font-weight: 500;\n  padding: 1px 4px;\n  background: rgba(100, 100, 100, 0.2);\n  color: var(--text-tertiary);\n  border-radius: 3px;\n  cursor: pointer;\n  opacity: 0;\n  transition: all var(--transition);\n}\n\n.playlist-item:hover .item-io-add {\n  opacity: 1;\n}\n\n.item-io-add:hover {\n  background: rgba(0, 170, 136, 0.2);\n  color: var(--accent-secondary);\n}\n\n.item-io {\n  cursor: pointer;\n}\n\n.item-io:hover {\n  background: rgba(0, 170, 136, 0.3);\n}\n\n/* In/Out Editor Panel */\n.item-io-editor {\n  position: absolute;\n  top: 100%;\n  left: 0;\n  right: 0;\n  background: var(--bg-secondary);\n  border: 1px solid var(--border-color);\n  border-radius: var(--radius-sm);\n  padding: 10px;\n  z-index: 100;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\n}\n\n.io-row {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  margin-bottom: 8px;\n}\n\n.io-row:last-child {\n  margin-bottom: 0;\n}\n\n.io-row label {\n  font-size: 11px;\n  color: var(--text-tertiary);\n  width: 28px;\n  flex-shrink: 0;\n}\n\n.io-row.io-actions {\n  justify-content: flex-end;\n  margin-top: 4px;\n  padding-top: 8px;\n  border-top: 1px solid var(--border-color);\n}\n\n.io-input {\n  width: 60px;\n  padding: 4px 6px;\n  font-size: 11px;\n  background: var(--bg-primary);\n  border: 1px solid var(--border-color);\n  border-radius: 3px;\n  color: var(--text-primary);\n}\n\n.io-input:focus {\n  outline: none;\n  border-color: var(--accent-primary);\n}\n\n.io-clear-btn,\n.io-done-btn {\n  padding: 4px 8px;\n  font-size: 10px;\n  border: none;\n  border-radius: 3px;\n  cursor: pointer;\n}\n\n.io-clear-btn {\n  background: rgba(255, 68, 68, 0.2);\n  color: var(--error-light);\n}\n\n.io-clear-btn:hover {\n  background: rgba(255, 68, 68, 0.3);\n}\n\n.io-done-btn {\n  background: var(--accent-gradient);\n  color: var(--bg-primary);\n}\n\n.io-done-btn:hover {\n  opacity: 0.9;\n}\n\n.io-fps-display {\n  font-size: 10px;\n  color: var(--text-tertiary);\n  text-align: right;\n  margin-bottom: 6px;\n  padding-bottom: 6px;\n  border-bottom: 1px solid var(--border-color);\n}\n\n","",{version:3,sources:["webpack://./src/renderer/components/PlaylistItem.css"],names:[],mappings:"AAAA;EACE,aAAa;EACb,mBAAmB;EACnB,QAAQ;EACR,iBAAiB;EACjB,qCAAqC;EACrC,+BAA+B;EAC/B,eAAe;EACf,iCAAiC;EACjC,kBAAkB;AACpB;;AAEA;EACE,qCAAqC;AACvC;;AAEA;EACE,mCAAmC;EACnC,kDAAkD;AACpD;;AAEA;EACE,mCAAmC;AACrC;;AAEA;EACE,mCAAmC;EACnC,8BAA8B;AAChC;;AAEA;EACE,mCAAmC;EACnC,mDAAmD;AACrD;;AAEA;EACE,mCAAmC;EACnC,mDAAmD;AACrD;;AAEA;EACE,oCAAoC;EACpC,mDAAmD;AACrD;;AAEA;EACE,YAAY;EACZ,sBAAsB;AACxB;;AAEA;EACE,eAAe;EACf,gBAAgB;EAChB,2BAA2B;EAC3B,WAAW;EACX,kBAAkB;EAClB,cAAc;AAChB;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,2BAA2B;EAC3B,cAAc;AAChB;;AAEA;EACE,8BAA8B;AAChC;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,OAAO;EACP,YAAY;EACZ,aAAa;EACb,sBAAsB;EACtB,QAAQ;AACV;;AAEA;EACE,eAAe;EACf,0BAA0B;EAC1B,mBAAmB;EACnB,gBAAgB;EAChB,uBAAuB;AACzB;;AAEA;EACE,eAAe;EACf,2BAA2B;AAC7B;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,QAAQ;EACR,eAAe;EACf,4BAA4B;EAC5B,cAAc;AAChB;;AAEA;EACE,eAAe;EACf,gBAAgB;EAChB,kBAAkB;EAClB,iCAAiC;AACnC;;AAEA;EACE,oCAAoC;EACpC,0BAA0B;AAC5B;;AAEA;EACE,WAAW;EACX,gBAAgB;EAChB,eAAe;EACf,+BAA+B;EAC/B,uCAAuC;EACvC,kBAAkB;EAClB,0BAA0B;EAC1B,kBAAkB;AACpB;;AAEA;EACE,aAAa;EACb,4CAA4C;AAC9C;;AAEA;EACE,cAAc;EACd,gBAAgB;EAChB,gBAAgB;EAChB,kCAAkC;EAClC,8BAA8B;EAC9B,kBAAkB;AACpB;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,UAAU;EACV,YAAY;EACZ,uBAAuB;EACvB,2BAA2B;EAC3B,eAAe;EACf,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,kBAAkB;EAClB,UAAU;EACV,iCAAiC;EACjC,cAAc;AAChB;;AAEA;EACE,UAAU;AACZ;;AAEA;EACE,kCAAkC;EAClC,yBAAyB;AAC3B;;AAEA;EACE,kBAAkB;EAClB,SAAS;EACT,QAAQ;EACR,2BAA2B;EAC3B,aAAa;EACb,QAAQ;EACR,qBAAqB;EACrB,YAAY;AACd;;AAEA;EACE,UAAU;EACV,mCAAmC;EACnC,8CAA8C;AAChD;;AAEA;EACE,WAAW;EACX,mBAAmB;AACrB;;AAEA;EACE,WAAW;EACX,qBAAqB;AACvB;;AAEA;EACE,WAAW;EACX,qBAAqB;AACvB;;AAEA;EACE;IACE,oBAAoB;EACtB;EACA;IACE,sBAAsB;EACxB;AACF;;AAEA,kCAAkC;AAClC;EACE,eAAe;EACf,4BAA4B;AAC9B;;AAEA;EACE,YAAY;AACd;;AAEA,0BAA0B;AAC1B;EACE,cAAc;EACd,gBAAgB;EAChB,gBAAgB;EAChB,oCAAoC;EACpC,2BAA2B;EAC3B,kBAAkB;EAClB,eAAe;EACf,UAAU;EACV,iCAAiC;AACnC;;AAEA;EACE,UAAU;AACZ;;AAEA;EACE,kCAAkC;EAClC,8BAA8B;AAChC;;AAEA;EACE,eAAe;AACjB;;AAEA;EACE,kCAAkC;AACpC;;AAEA,wBAAwB;AACxB;EACE,kBAAkB;EAClB,SAAS;EACT,OAAO;EACP,QAAQ;EACR,+BAA+B;EAC/B,qCAAqC;EACrC,+BAA+B;EAC/B,aAAa;EACb,YAAY;EACZ,yCAAyC;AAC3C;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,QAAQ;EACR,kBAAkB;AACpB;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,eAAe;EACf,2BAA2B;EAC3B,WAAW;EACX,cAAc;AAChB;;AAEA;EACE,yBAAyB;EACzB,eAAe;EACf,gBAAgB;EAChB,yCAAyC;AAC3C;;AAEA;EACE,WAAW;EACX,gBAAgB;EAChB,eAAe;EACf,6BAA6B;EAC7B,qCAAqC;EACrC,kBAAkB;EAClB,0BAA0B;AAC5B;;AAEA;EACE,aAAa;EACb,mCAAmC;AACrC;;AAEA;;EAEE,gBAAgB;EAChB,eAAe;EACf,YAAY;EACZ,kBAAkB;EAClB,eAAe;AACjB;;AAEA;EACE,kCAAkC;EAClC,yBAAyB;AAC3B;;AAEA;EACE,kCAAkC;AACpC;;AAEA;EACE,kCAAkC;EAClC,wBAAwB;AAC1B;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,eAAe;EACf,2BAA2B;EAC3B,iBAAiB;EACjB,kBAAkB;EAClB,mBAAmB;EACnB,4CAA4C;AAC9C",sourcesContent:[".playlist-item {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  padding: 8px 10px;\r\n  background: rgba(255, 255, 255, 0.03);\r\n  border-radius: var(--radius-sm);\r\n  cursor: pointer;\r\n  transition: all var(--transition);\r\n  position: relative;\r\n}\r\n\r\n.playlist-item:hover {\r\n  background: rgba(255, 255, 255, 0.06);\r\n}\r\n\r\n.playlist-item.current {\r\n  background: rgba(0, 170, 136, 0.15);\r\n  box-shadow: inset 0 0 0 1px rgba(0, 255, 136, 0.3);\r\n}\r\n\r\n.playlist-item.playing {\r\n  background: rgba(0, 170, 136, 0.25);\r\n}\r\n\r\n.playlist-item.macro {\r\n  background: rgba(255, 100, 50, 0.1);\r\n  border-left: 3px solid #ff6432;\r\n}\r\n\r\n.playlist-item.macro.current {\r\n  background: rgba(255, 100, 50, 0.2);\r\n  box-shadow: inset 0 0 0 1px rgba(255, 100, 50, 0.5);\r\n}\r\n\r\n.playlist-item.selected {\r\n  background: rgba(59, 130, 246, 0.2);\r\n  box-shadow: inset 0 0 0 1px rgba(59, 130, 246, 0.5);\r\n}\r\n\r\n.playlist-item.selected.current {\r\n  background: rgba(59, 130, 246, 0.25);\r\n  box-shadow: inset 0 0 0 1px rgba(59, 130, 246, 0.6);\r\n}\r\n\r\n.playlist-item.dragging {\r\n  opacity: 0.5;\r\n  transform: scale(0.98);\r\n}\r\n\r\n.item-index {\r\n  font-size: 10px;\r\n  font-weight: 600;\r\n  color: var(--text-tertiary);\r\n  width: 16px;\r\n  text-align: center;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.item-icon {\r\n  width: 20px;\r\n  height: 20px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  color: var(--text-tertiary);\r\n  flex-shrink: 0;\r\n}\r\n\r\n.playlist-item.current .item-icon {\r\n  color: var(--accent-secondary);\r\n}\r\n\r\n.playlist-item.macro .item-icon {\r\n  color: #ff6432;\r\n}\r\n\r\n.item-info {\r\n  flex: 1;\r\n  min-width: 0;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 2px;\r\n}\r\n\r\n.item-name {\r\n  font-size: 12px;\r\n  color: var(--text-primary);\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n.item-meta {\r\n  font-size: 10px;\r\n  color: var(--text-tertiary);\r\n}\r\n\r\n.item-duration {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n  font-size: 11px;\r\n  color: var(--text-secondary);\r\n  flex-shrink: 0;\r\n}\r\n\r\n.duration-editable {\r\n  cursor: pointer;\r\n  padding: 2px 4px;\r\n  border-radius: 3px;\r\n  transition: all var(--transition);\r\n}\r\n\r\n.duration-editable:hover {\r\n  background: rgba(255, 255, 255, 0.1);\r\n  color: var(--text-primary);\r\n}\r\n\r\n.duration-input {\r\n  width: 50px;\r\n  padding: 2px 4px;\r\n  font-size: 11px;\r\n  background: var(--bg-secondary);\r\n  border: 1px solid var(--accent-primary);\r\n  border-radius: 3px;\r\n  color: var(--text-primary);\r\n  text-align: center;\r\n}\r\n\r\n.duration-input:focus {\r\n  outline: none;\r\n  box-shadow: 0 0 0 2px rgba(0, 170, 136, 0.2);\r\n}\r\n\r\n.item-io {\r\n  font-size: 9px;\r\n  font-weight: 600;\r\n  padding: 1px 4px;\r\n  background: rgba(0, 170, 136, 0.2);\r\n  color: var(--accent-secondary);\r\n  border-radius: 3px;\r\n}\r\n\r\n.item-remove {\r\n  width: 20px;\r\n  height: 20px;\r\n  padding: 0;\r\n  border: none;\r\n  background: transparent;\r\n  color: var(--text-tertiary);\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border-radius: 4px;\r\n  opacity: 0;\r\n  transition: all var(--transition);\r\n  flex-shrink: 0;\r\n}\r\n\r\n.playlist-item:hover .item-remove {\r\n  opacity: 1;\r\n}\r\n\r\n.item-remove:hover {\r\n  background: rgba(255, 68, 68, 0.2);\r\n  color: var(--error-light);\r\n}\r\n\r\n.playing-indicator {\r\n  position: absolute;\r\n  left: 2px;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  display: flex;\r\n  gap: 2px;\r\n  align-items: flex-end;\r\n  height: 12px;\r\n}\r\n\r\n.playing-indicator span {\r\n  width: 2px;\r\n  background: var(--accent-secondary);\r\n  animation: audioWave 0.8s ease-in-out infinite;\r\n}\r\n\r\n.playing-indicator span:nth-child(1) {\r\n  height: 40%;\r\n  animation-delay: 0s;\r\n}\r\n\r\n.playing-indicator span:nth-child(2) {\r\n  height: 80%;\r\n  animation-delay: 0.2s;\r\n}\r\n\r\n.playing-indicator span:nth-child(3) {\r\n  height: 60%;\r\n  animation-delay: 0.4s;\r\n}\r\n\r\n@keyframes audioWave {\r\n  0%, 100% {\r\n    transform: scaleY(1);\r\n  }\r\n  50% {\r\n    transform: scaleY(0.5);\r\n  }\r\n}\r\n\r\n/* Duration display improvements */\r\n.duration-display {\r\n  font-size: 11px;\r\n  color: var(--text-secondary);\r\n}\r\n\r\n.duration-unknown {\r\n  opacity: 0.5;\r\n}\r\n\r\n/* In/Out point controls */\r\n.item-io-add {\r\n  font-size: 9px;\r\n  font-weight: 500;\r\n  padding: 1px 4px;\r\n  background: rgba(100, 100, 100, 0.2);\r\n  color: var(--text-tertiary);\r\n  border-radius: 3px;\r\n  cursor: pointer;\r\n  opacity: 0;\r\n  transition: all var(--transition);\r\n}\r\n\r\n.playlist-item:hover .item-io-add {\r\n  opacity: 1;\r\n}\r\n\r\n.item-io-add:hover {\r\n  background: rgba(0, 170, 136, 0.2);\r\n  color: var(--accent-secondary);\r\n}\r\n\r\n.item-io {\r\n  cursor: pointer;\r\n}\r\n\r\n.item-io:hover {\r\n  background: rgba(0, 170, 136, 0.3);\r\n}\r\n\r\n/* In/Out Editor Panel */\r\n.item-io-editor {\r\n  position: absolute;\r\n  top: 100%;\r\n  left: 0;\r\n  right: 0;\r\n  background: var(--bg-secondary);\r\n  border: 1px solid var(--border-color);\r\n  border-radius: var(--radius-sm);\r\n  padding: 10px;\r\n  z-index: 100;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\r\n}\r\n\r\n.io-row {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.io-row:last-child {\r\n  margin-bottom: 0;\r\n}\r\n\r\n.io-row label {\r\n  font-size: 11px;\r\n  color: var(--text-tertiary);\r\n  width: 28px;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.io-row.io-actions {\r\n  justify-content: flex-end;\r\n  margin-top: 4px;\r\n  padding-top: 8px;\r\n  border-top: 1px solid var(--border-color);\r\n}\r\n\r\n.io-input {\r\n  width: 60px;\r\n  padding: 4px 6px;\r\n  font-size: 11px;\r\n  background: var(--bg-primary);\r\n  border: 1px solid var(--border-color);\r\n  border-radius: 3px;\r\n  color: var(--text-primary);\r\n}\r\n\r\n.io-input:focus {\r\n  outline: none;\r\n  border-color: var(--accent-primary);\r\n}\r\n\r\n.io-clear-btn,\r\n.io-done-btn {\r\n  padding: 4px 8px;\r\n  font-size: 10px;\r\n  border: none;\r\n  border-radius: 3px;\r\n  cursor: pointer;\r\n}\r\n\r\n.io-clear-btn {\r\n  background: rgba(255, 68, 68, 0.2);\r\n  color: var(--error-light);\r\n}\r\n\r\n.io-clear-btn:hover {\r\n  background: rgba(255, 68, 68, 0.3);\r\n}\r\n\r\n.io-done-btn {\r\n  background: var(--accent-gradient);\r\n  color: var(--bg-primary);\r\n}\r\n\r\n.io-done-btn:hover {\r\n  opacity: 0.9;\r\n}\r\n\r\n.io-fps-display {\r\n  font-size: 10px;\r\n  color: var(--text-tertiary);\r\n  text-align: right;\r\n  margin-bottom: 6px;\r\n  padding-bottom: 6px;\r\n  border-bottom: 1px solid var(--border-color);\r\n}\r\n\r\n"],sourceRoot:""}]);const s=o},5056(e,t,n){"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},5072(e){"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var i={},o=[],s=0;s<e.length;s++){var l=e[s],c=r.base?l[0]+r.base:l[0],d=i[c]||0,u="".concat(c," ").concat(d);i[c]=d+1;var p=n(u),h={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==p)t[p].references++,t[p].updater(h);else{var m=a(h,r);r.byIndex=s,t.splice(s,0,{identifier:u,updater:m,references:1})}o.push(u)}return o}function a(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,a){var i=r(e=e||[],a=a||{});return function(e){e=e||[];for(var o=0;o<i.length;o++){var s=n(i[o]);t[s].references--}for(var l=r(e,a),c=0;c<i.length;c++){var d=n(i[c]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}i=l}}},5109(e,t,n){(function(){var t,r,a={}.hasOwnProperty;r=n(3910),t=n(231),e.exports=function(e){function n(e,r,a,i,o,s){if(n.__super__.constructor.call(this,e),null==r)throw new Error("Missing DTD element name. "+this.debugInfo());if(null==a)throw new Error("Missing DTD attribute name. "+this.debugInfo(r));if(!i)throw new Error("Missing DTD attribute type. "+this.debugInfo(r));if(!o)throw new Error("Missing DTD attribute default. "+this.debugInfo(r));if(0!==o.indexOf("#")&&(o="#"+o),!o.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(r));if(s&&!o.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(r));this.elementName=this.stringify.name(r),this.type=t.AttributeDeclaration,this.attributeName=this.stringify.name(a),this.attributeType=this.stringify.dtdAttType(i),s&&(this.defaultValue=this.stringify.dtdAttDefault(s)),this.defaultValueType=o}return function(e,t){for(var n in t)a.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(n,e),n.prototype.toString=function(e){return this.options.writer.dtdAttList(this,this.options.writer.filterOptions(e))},n}(r)}).call(this)},5133(e,t,n){"use strict";n.d(t,{A:()=>s});var r=n(1354),a=n.n(r),i=n(6314),o=n.n(i)()(a());o.push([e.id,".layer {\n  width: 380px;\n  background: rgba(255, 255, 255, 0.03);\n  border: 1px solid var(--border-color);\n  border-radius: var(--radius-md);\n  display: flex;\n  flex-direction: column;\n  flex-shrink: 0;\n  overflow: hidden;\n}\n\n.layer.expanded {\n  width: 380px;\n  flex-shrink: 0;\n}\n\n.layer-header {\n  padding: 10px 12px;\n  border-bottom: 1px solid var(--border-color);\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  background: rgba(255, 255, 255, 0.02);\n}\n\n.layer-title {\n  font-size: 13px;\n  font-weight: 600;\n  color: var(--text-secondary);\n}\n\n.layer-modes {\n  display: flex;\n  gap: 4px;\n  margin-left: auto;\n}\n\n.mode-indicator {\n  font-size: 10px;\n  font-weight: 600;\n  padding: 2px 5px;\n  border-radius: 3px;\n  background: rgba(255, 255, 255, 0.05);\n  color: var(--text-tertiary);\n  cursor: default;\n  transition: all var(--transition);\n}\n\n.mode-indicator.active {\n  background: rgba(0, 170, 136, 0.2);\n  color: var(--accent-secondary);\n}\n\n.layer .btn-sm,\n.btn-sm.btn-delete-layer {\n  width: 24px;\n  height: 24px;\n  padding: 0;\n  border-radius: 4px;\n  background: transparent;\n  border: none;\n  color: var(--text-tertiary);\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all var(--transition);\n  flex-shrink: 0;\n}\n\n.layer .btn-sm svg,\n.btn-sm.btn-delete-layer svg {\n  width: 14px;\n  height: 14px;\n  stroke-width: 2;\n}\n\n.layer .btn-sm:hover,\n.btn-sm.btn-delete-layer:hover {\n  background: rgba(255, 68, 68, 0.2);\n  color: var(--error-light);\n}\n","",{version:3,sources:["webpack://./src/renderer/components/Layer.css"],names:[],mappings:"AAAA;EACE,YAAY;EACZ,qCAAqC;EACrC,qCAAqC;EACrC,+BAA+B;EAC/B,aAAa;EACb,sBAAsB;EACtB,cAAc;EACd,gBAAgB;AAClB;;AAEA;EACE,YAAY;EACZ,cAAc;AAChB;;AAEA;EACE,kBAAkB;EAClB,4CAA4C;EAC5C,aAAa;EACb,mBAAmB;EACnB,SAAS;EACT,qCAAqC;AACvC;;AAEA;EACE,eAAe;EACf,gBAAgB;EAChB,4BAA4B;AAC9B;;AAEA;EACE,aAAa;EACb,QAAQ;EACR,iBAAiB;AACnB;;AAEA;EACE,eAAe;EACf,gBAAgB;EAChB,gBAAgB;EAChB,kBAAkB;EAClB,qCAAqC;EACrC,2BAA2B;EAC3B,eAAe;EACf,iCAAiC;AACnC;;AAEA;EACE,kCAAkC;EAClC,8BAA8B;AAChC;;AAEA;;EAEE,WAAW;EACX,YAAY;EACZ,UAAU;EACV,kBAAkB;EAClB,uBAAuB;EACvB,YAAY;EACZ,2BAA2B;EAC3B,eAAe;EACf,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,iCAAiC;EACjC,cAAc;AAChB;;AAEA;;EAEE,WAAW;EACX,YAAY;EACZ,eAAe;AACjB;;AAEA;;EAEE,kCAAkC;EAClC,yBAAyB;AAC3B",sourcesContent:[".layer {\r\n  width: 380px;\r\n  background: rgba(255, 255, 255, 0.03);\r\n  border: 1px solid var(--border-color);\r\n  border-radius: var(--radius-md);\r\n  display: flex;\r\n  flex-direction: column;\r\n  flex-shrink: 0;\r\n  overflow: hidden;\r\n}\r\n\r\n.layer.expanded {\r\n  width: 380px;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.layer-header {\r\n  padding: 10px 12px;\r\n  border-bottom: 1px solid var(--border-color);\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n  background: rgba(255, 255, 255, 0.02);\r\n}\r\n\r\n.layer-title {\r\n  font-size: 13px;\r\n  font-weight: 600;\r\n  color: var(--text-secondary);\r\n}\r\n\r\n.layer-modes {\r\n  display: flex;\r\n  gap: 4px;\r\n  margin-left: auto;\r\n}\r\n\r\n.mode-indicator {\r\n  font-size: 10px;\r\n  font-weight: 600;\r\n  padding: 2px 5px;\r\n  border-radius: 3px;\r\n  background: rgba(255, 255, 255, 0.05);\r\n  color: var(--text-tertiary);\r\n  cursor: default;\r\n  transition: all var(--transition);\r\n}\r\n\r\n.mode-indicator.active {\r\n  background: rgba(0, 170, 136, 0.2);\r\n  color: var(--accent-secondary);\r\n}\r\n\r\n.layer .btn-sm,\r\n.btn-sm.btn-delete-layer {\r\n  width: 24px;\r\n  height: 24px;\r\n  padding: 0;\r\n  border-radius: 4px;\r\n  background: transparent;\r\n  border: none;\r\n  color: var(--text-tertiary);\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  transition: all var(--transition);\r\n  flex-shrink: 0;\r\n}\r\n\r\n.layer .btn-sm svg,\r\n.btn-sm.btn-delete-layer svg {\r\n  width: 14px;\r\n  height: 14px;\r\n  stroke-width: 2;\r\n}\r\n\r\n.layer .btn-sm:hover,\r\n.btn-sm.btn-delete-layer:hover {\r\n  background: rgba(255, 68, 68, 0.2);\r\n  color: var(--error-light);\r\n}\r\n"],sourceRoot:""}]);const s=o},5287(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.iterator,m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,A={};function g(e,t,n){this.props=e,this.context=t,this.refs=A,this.updater=n||m}function _(){}function y(e,t,n){this.props=e,this.context=t,this.refs=A,this.updater=n||m}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},_.prototype=g.prototype;var v=y.prototype=new _;v.constructor=y,f(v,g.prototype),v.isPureReactComponent=!0;var E=Array.isArray,C=Object.prototype.hasOwnProperty,b={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function w(e,t,r){var a,i={},o=null,s=null;if(null!=t)for(a in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)C.call(t,a)&&!x.hasOwnProperty(a)&&(i[a]=t[a]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];i.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===i[a]&&(i[a]=l[a]);return{$$typeof:n,type:e,key:o,ref:s,props:i,_owner:b.current}}function B(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var S=/\/+/g;function k(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function T(e,t,a,i,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===i?"."+k(l,0):i,E(o)?(a="",null!=e&&(a=e.replace(S,"$&/")+"/"),T(o,t,a,"",function(e){return e})):null!=o&&(B(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,a+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(S,"$&/")+"/")+e)),t.push(o)),1;if(l=0,i=""===i?".":i+":",E(e))for(var c=0;c<e.length;c++){var d=i+k(s=e[c],c);l+=T(s,t,a,d,o)}else if(d=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"==typeof d)for(e=d.call(e),c=0;!(s=e.next()).done;)l+=T(s=s.value,t,a,d=i+k(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function I(e,t,n){if(null==e)return e;var r=[],a=0;return T(e,r,"","",function(e){return t.call(n,e,a++)}),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var L={current:null},D={transition:null},O={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:D,ReactCurrentOwner:b};function N(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:I,forEach:function(e,t,n){I(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return I(e,function(){t++}),t},toArray:function(e){return I(e,function(e){return e})||[]},only:function(e){if(!B(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=a,t.Profiler=o,t.PureComponent=y,t.StrictMode=i,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.act=N,t.cloneElement=function(e,t,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=f({},e.props),i=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=b.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)C.call(t,c)&&!x.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];a.children=l}return{$$typeof:n,type:e.type,key:i,ref:o,props:a,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=w,t.createFactory=function(e){var t=w.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=B,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=N,t.useCallback=function(e,t){return L.current.useCallback(e,t)},t.useContext=function(e){return L.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return L.current.useDeferredValue(e)},t.useEffect=function(e,t){return L.current.useEffect(e,t)},t.useId=function(){return L.current.useId()},t.useImperativeHandle=function(e,t,n){return L.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return L.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return L.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return L.current.useMemo(e,t)},t.useReducer=function(e,t,n){return L.current.useReducer(e,t,n)},t.useRef=function(e){return L.current.useRef(e)},t.useState=function(e){return L.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return L.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return L.current.useTransition()},t.version="18.3.1"},5338(e,t,n){"use strict";var r=n(961);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},5340(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deserializeInfoChannel=void 0;const r=n(3130),a=n(9288);t.deserializeInfoChannel=async e=>{if(!e.startsWith("<?xml"))return;const t=await(0,r.deserializeXML)(e);if(!t)return;const n=(0,a.ensureArray)(t.channel)[0],i=(0,a.ensureArray)(n.mixer)[0],o=(0,a.ensureArray)(n.stage)[0],s=(0,a.ensureArray)(o?.layer)[0]??{};return{channel:{framerate:parseInt((0,a.ensureArray)(n.framerate)[0],10),mixer:{audio:{volumes:(0,a.ensureArray)(i.audio)[0].volume.map(e=>parseInt(e,10))}},layers:(0,a.compact)(Object.entries(s).map(([e,t])=>{const n=e.match(/layer_(\d+)/);if(!n)return;const r=(0,a.ensureArray)(t)[0];return{layer:parseInt(n[1],10),background:(0,a.ensureArray)(r.background)[0],foreground:(0,a.ensureArray)(r.foreground)[0]}}))}}}},5775(e,t,n){(function(){var t,r,a,i,o,s,l,c,d,u;u=n(1859),c=u.assign,d=u.isFunction,a=n(3754),i=n(3835),o=n(3158),l=n(420),s=n(4885),t=n(231),r=n(3267),e.exports.create=function(e,t,n,r){var a,o;if(null==e)throw new Error("Root element needs a name.");return r=c({},t,n,r),o=(a=new i(r)).element(e),r.headless||(a.declaration(r),null==r.pubID&&null==r.sysID||a.dtd(r)),o},e.exports.begin=function(e,t,n){var r;return d(e)&&(t=(r=[e,t])[0],n=r[1],e={}),t?new o(e,t,n):new i(e)},e.exports.stringWriter=function(e){return new l(e)},e.exports.streamWriter=function(e,t){return new s(e,t)},e.exports.implementation=new a,e.exports.nodeType=t,e.exports.writerState=r}).call(this)},5854(e){(function(){var t=function(e,t){return function(){return e.apply(t,arguments)}},n={}.hasOwnProperty;e.exports=function(){function e(e){var r,a,i;for(r in this.assertLegalName=t(this.assertLegalName,this),this.assertLegalChar=t(this.assertLegalChar,this),e||(e={}),this.options=e,this.options.version||(this.options.version="1.0"),a=e.stringify||{})n.call(a,r)&&(i=a[r],this[r]=i)}return e.prototype.name=function(e){return this.options.noValidation?e:this.assertLegalName(""+e||"")},e.prototype.text=function(e){return this.options.noValidation?e:this.assertLegalChar(this.textEscape(""+e||""))},e.prototype.cdata=function(e){return this.options.noValidation?e:(e=(e=""+e||"").replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(e))},e.prototype.comment=function(e){if(this.options.noValidation)return e;if((e=""+e||"").match(/--/))throw new Error("Comment text cannot contain double-hypen: "+e);return this.assertLegalChar(e)},e.prototype.raw=function(e){return this.options.noValidation?e:""+e||""},e.prototype.attValue=function(e){return this.options.noValidation?e:this.assertLegalChar(this.attEscape(e=""+e||""))},e.prototype.insTarget=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},e.prototype.insValue=function(e){if(this.options.noValidation)return e;if((e=""+e||"").match(/\?>/))throw new Error("Invalid processing instruction value: "+e);return this.assertLegalChar(e)},e.prototype.xmlVersion=function(e){if(this.options.noValidation)return e;if(!(e=""+e||"").match(/1\.[0-9]+/))throw new Error("Invalid version number: "+e);return e},e.prototype.xmlEncoding=function(e){if(this.options.noValidation)return e;if(!(e=""+e||"").match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+e);return this.assertLegalChar(e)},e.prototype.xmlStandalone=function(e){return this.options.noValidation?e:e?"yes":"no"},e.prototype.dtdPubID=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},e.prototype.dtdSysID=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},e.prototype.dtdElementValue=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},e.prototype.dtdAttType=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},e.prototype.dtdAttDefault=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},e.prototype.dtdEntityValue=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},e.prototype.dtdNData=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},e.prototype.convertAttKey="@",e.prototype.convertPIKey="?",e.prototype.convertTextKey="#text",e.prototype.convertCDataKey="#cdata",e.prototype.convertCommentKey="#comment",e.prototype.convertRawKey="#raw",e.prototype.assertLegalChar=function(e){var t,n;if(this.options.noValidation)return e;if(t="","1.0"===this.options.version){if(t=/[\0-\x08\x0B\f\x0E-\x1F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,n=e.match(t))throw new Error("Invalid character in string: "+e+" at index "+n.index)}else if("1.1"===this.options.version&&(t=/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,n=e.match(t)))throw new Error("Invalid character in string: "+e+" at index "+n.index);return e},e.prototype.assertLegalName=function(e){var t;if(this.options.noValidation)return e;if(this.assertLegalChar(e),t=/^([:A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])([\x2D\.0-:A-Z_a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*$/,!e.match(t))throw new Error("Invalid character in name");return e},e.prototype.textEscape=function(e){var t;return this.options.noValidation?e:(t=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,e.replace(t,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;"))},e.prototype.attEscape=function(e){var t;return this.options.noValidation?e:(t=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,e.replace(t,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;"))},e}()}).call(this)},5918(e){(function(){e.exports=function(){function e(){}return e.prototype.handleError=function(e){throw new Error(e)},e}()}).call(this)},5974(e,t,n){"use strict";n.d(t,{A:()=>s});var r=n(1354),a=n.n(r),i=n(6314),o=n.n(i)()(a());o.push([e.id,".playlist {\n  flex: 1;\n  min-height: 100px;\n  max-height: 200px;\n  overflow-y: auto;\n  overflow-x: hidden;\n  transition: all var(--transition);\n}\n\n.playlist.expanded {\n  max-height: 400px;\n}\n\n.playlist.empty {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.playlist.drag-over {\n  background: rgba(0, 170, 136, 0.1);\n  border-color: var(--accent-primary);\n}\n\n.playlist-empty {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 8px;\n  padding: 20px;\n  color: var(--text-tertiary);\n  text-align: center;\n}\n\n.playlist-empty p {\n  margin: 0;\n  font-size: 12px;\n}\n\n.playlist-items {\n  display: flex;\n  flex-direction: column;\n  gap: 2px;\n  padding: 8px;\n}\n\n.playlist-item-wrapper {\n  position: relative;\n}\n\n.playlist-item-wrapper.drag-over::before {\n  content: '';\n  position: absolute;\n  top: -1px;\n  left: 0;\n  right: 0;\n  height: 2px;\n  background: var(--accent-secondary);\n  z-index: 1;\n}\n","",{version:3,sources:["webpack://./src/renderer/components/Playlist.css"],names:[],mappings:"AAAA;EACE,OAAO;EACP,iBAAiB;EACjB,iBAAiB;EACjB,gBAAgB;EAChB,kBAAkB;EAClB,iCAAiC;AACnC;;AAEA;EACE,iBAAiB;AACnB;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,uBAAuB;AACzB;;AAEA;EACE,kCAAkC;EAClC,mCAAmC;AACrC;;AAEA;EACE,aAAa;EACb,sBAAsB;EACtB,mBAAmB;EACnB,QAAQ;EACR,aAAa;EACb,2BAA2B;EAC3B,kBAAkB;AACpB;;AAEA;EACE,SAAS;EACT,eAAe;AACjB;;AAEA;EACE,aAAa;EACb,sBAAsB;EACtB,QAAQ;EACR,YAAY;AACd;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,WAAW;EACX,kBAAkB;EAClB,SAAS;EACT,OAAO;EACP,QAAQ;EACR,WAAW;EACX,mCAAmC;EACnC,UAAU;AACZ",sourcesContent:[".playlist {\r\n  flex: 1;\r\n  min-height: 100px;\r\n  max-height: 200px;\r\n  overflow-y: auto;\r\n  overflow-x: hidden;\r\n  transition: all var(--transition);\r\n}\r\n\r\n.playlist.expanded {\r\n  max-height: 400px;\r\n}\r\n\r\n.playlist.empty {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.playlist.drag-over {\r\n  background: rgba(0, 170, 136, 0.1);\r\n  border-color: var(--accent-primary);\r\n}\r\n\r\n.playlist-empty {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 8px;\r\n  padding: 20px;\r\n  color: var(--text-tertiary);\r\n  text-align: center;\r\n}\r\n\r\n.playlist-empty p {\r\n  margin: 0;\r\n  font-size: 12px;\r\n}\r\n\r\n.playlist-items {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 2px;\r\n  padding: 8px;\r\n}\r\n\r\n.playlist-item-wrapper {\r\n  position: relative;\r\n}\r\n\r\n.playlist-item-wrapper.drag-over::before {\r\n  content: '';\r\n  position: absolute;\r\n  top: -1px;\r\n  left: 0;\r\n  right: 0;\r\n  height: 2px;\r\n  background: var(--accent-secondary);\r\n  z-index: 1;\r\n}\r\n"],sourceRoot:""}]);const s=o},6267(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deserializeInfo=void 0,t.deserializeInfo=e=>{const t=e.match(/(?<ChannelNo>\d) (?<Format>\d+(?<Interlaced>p|i)(?<Channelrate>\d+))(?<Status>.*)/i);if(t&&t.groups)return{channel:parseInt(t.groups.ChannelNo,10),format:t.groups.Format,channelRate:parseInt(t.groups.Channelrate||"",10)/100,frameRate:parseInt(t.groups.Channelrate||"",10)/100,interlaced:"i"===t.groups.Interlaced,status:t.groups.Status.trim()}}},6314(e){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n}).join("")},t.i=function(e,n,r,a,i){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(o[l]=!0)}for(var c=0;c<e.length;c++){var d=[].concat(e[c]);r&&o[d[0]]||(void 0!==i&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=i),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),a&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=a):d[4]="".concat(a)),t.push(d))}},t}},6383(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Enum=void 0;const r=n(1635);r.__exportStar(n(181),t),r.__exportStar(n(4411),t),t.Enum=n(1657),r.__exportStar(n(6469),t),r.__exportStar(n(9479),t)},6400(e,t,n){(function(){var t,r,a={}.hasOwnProperty;r=n(3910),t=n(231),e.exports=function(e){function n(e){n.__super__.constructor.call(this,e),this.type=t.Dummy}return function(e,t){for(var n in t)a.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(n,e),n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(e){return""},n}(r)}).call(this)},6465(e,t){(function(){t.defaults={.1:{explicitCharkey:!1,trim:!0,normalize:!0,normalizeTags:!1,attrkey:"@",charkey:"#",explicitArray:!1,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!1,validator:null,xmlns:!1,explicitChildren:!1,childkey:"@@",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,emptyTag:""},.2:{explicitCharkey:!1,trim:!1,normalize:!1,normalizeTags:!1,attrkey:"$",charkey:"_",explicitArray:!0,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!0,validator:null,xmlns:!1,explicitChildren:!1,preserveChildrenOrder:!1,childkey:"$$",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,rootName:"root",xmldec:{version:"1.0",encoding:"UTF-8",standalone:!0},doctype:null,renderOpts:{pretty:!0,indent:"  ",newline:"\n"},headless:!1,chunkSize:1e4,emptyTag:"",cdata:!1}}}).call(this)},6469(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Commands=void 0,(n=t.Commands||(t.Commands={})).Loadbg="LOADBG",n.LoadbgDecklink="LOADBG DECKLINK",n.LoadbgRoute="LOADBG route://",n.LoadbgHtml="LOADBG [html]",n.Load="LOAD",n.Play="PLAY",n.PlayDecklink="PLAY DECKLINK",n.PlayRoute="PLAY route://",n.PlayHtml="PLAY [html]",n.Pause="PAUSE",n.Resume="RESUME",n.Stop="STOP",n.Clear="CLEAR",n.Call="CALL",n.Swap="SWAP",n.Add="ADD",n.Remove="REMOVE",n.Print="PRINT",n.LogLevel="LOG LEVEL",n.LogCategory="LOG CATEGORY",n.Set="SET",n.Lock="LOCK",n.DataStore="DATA STORE",n.DataRetrieve="DATA RETRIEVE",n.DataList="DATA LIST",n.DataRemove="DATA REMOVE",n.CgAdd="CG ADD",n.CgPlay="CG PLAY",n.CgStop="CG STOP",n.CgNext="CG NEXT",n.CgRemove="CG REMOVE",n.CgClear="CG CLEAR",n.CgUpdate="CG UPDATE",n.CgInvoke="CG INVOKE",n.CgInfo="CG INFO",n.MixerKeyer="MIXER KEYER",n.MixerChroma="MIXER CHROMA",n.MixerBlend="MIXER BLEND",n.MixerInvert="MIXER INVERT",n.MixerOpacity="MIXER OPACITY",n.MixerBrightness="MIXER BRIGHTNESS",n.MixerSaturation="MIXER SATURATION",n.MixerContrast="MIXER CONTRAST",n.MixerLevels="MIXER LEVELS",n.MixerFill="MIXER FILL",n.MixerClip="MIXER CLIP",n.MixerAnchor="MIXER ANCHOR",n.MixerCrop="MIXER CROP",n.MixerRotation="MIXER ROTATION",n.MixerPerspective="MIXER PERSPECTIVE",n.MixerMipmap="MIXER MIPMAP",n.MixerVolume="MIXER VOLUME",n.MixerMastervolume="MIXER MASTERVOLUME",n.MixerStraightAlphaOutput="MIXER STRAIGHT_ALPHA_OUTPUT",n.MixerGrid="MIXER GRID",n.MixerCommit="MIXER COMMIT",n.MixerClear="MIXER CLEAR",n.ChannelGrid="CHANNEL_GRID",n.ThumbnailList="THUMBNAIL LIST",n.ThumbnailRetrieve="THUMBNAIL RETRIEVE",n.ThumbnailGenerate="THUMBNAIL GENERATE",n.ThumbnailGenerateAll="THUMBNAIL GENERATE_ALL",n.Cinf="CINF",n.Cls="CLS",n.Fls="FLS",n.Tls="TLS",n.Version="VERSION",n.Info="INFO",n.InfoChannel="INFO CHANNEL",n.InfoLayer="INFO LAYER",n.InfoTemplate="INFO TEMPLATE",n.InfoConfig="INFO CONFIG",n.InfoPaths="INFO PATHS",n.InfoSystem="INFO SYSTEM",n.InfoServer="INFO SERVER",n.InfoQueues="INFO QUEUES",n.InfoThreads="INFO THREADS",n.InfoDelay="INFO DELAY",n.Diag="DIAG",n.GlInfo="GL INFO",n.GlGc="GL GC",n.Bye="BYE",n.Kill="KILL",n.Restart="RESTART",n.Ping="PING",n.Begin="BEGIN",n.Commit="COMMIT",n.Discard="DISCARD",n.Custom="CUSTOM"},6540(e,t,n){"use strict";e.exports=n(5287)},6708(e,t,n){(function(){var t;t=n(231),n(3910),e.exports=function(){function e(e,n,r){if(this.parent=e,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),null==n)throw new Error("Missing attribute name. "+this.debugInfo(n));this.name=this.stringify.name(n),this.value=this.stringify.attValue(r),this.type=t.Attribute,this.isId=!1,this.schemaTypeInfo=null}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(e.prototype,"ownerElement",{get:function(){return this.parent}}),Object.defineProperty(e.prototype,"textContent",{get:function(){return this.value},set:function(e){return this.value=e||""}}),Object.defineProperty(e.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(e.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(e.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(e.prototype,"specified",{get:function(){return!0}}),e.prototype.clone=function(){return Object.create(this)},e.prototype.toString=function(e){return this.options.writer.attribute(this,this.options.writer.filterOptions(e))},e.prototype.debugInfo=function(e){return null==(e=e||this.name)?"parent: <"+this.parent.name+">":"attribute: {"+e+"}, parent: <"+this.parent.name+">"},e.prototype.isEqualNode=function(e){return e.namespaceURI===this.namespaceURI&&e.prefix===this.prefix&&e.localName===this.localName&&e.value===this.value},e}()}).call(this)},6712(e,t,n){(function(){"use strict";var e,r,a,i,o,s={}.hasOwnProperty;e=n(5775),r=n(6465).defaults,i=function(e){return"string"==typeof e&&(e.indexOf("&")>=0||e.indexOf(">")>=0||e.indexOf("<")>=0)},o=function(e){return"<![CDATA["+a(e)+"]]>"},a=function(e){return e.replace("]]>","]]]]><![CDATA[>")},t.Builder=function(){function t(e){var t,n,a;for(t in this.options={},n=r[.2])s.call(n,t)&&(a=n[t],this.options[t]=a);for(t in e)s.call(e,t)&&(a=e[t],this.options[t]=a)}return t.prototype.buildObject=function(t){var n,a,l,c,d,u;return n=this.options.attrkey,a=this.options.charkey,1===Object.keys(t).length&&this.options.rootName===r[.2].rootName?t=t[d=Object.keys(t)[0]]:d=this.options.rootName,u=this,l=function(e,t){var r,c,d,p,h,m;if("object"!=typeof t)u.options.cdata&&i(t)?e.raw(o(t)):e.txt(t);else if(Array.isArray(t)){for(p in t)if(s.call(t,p))for(h in c=t[p])d=c[h],e=l(e.ele(h),d).up()}else for(h in t)if(s.call(t,h))if(c=t[h],h===n){if("object"==typeof c)for(r in c)m=c[r],e=e.att(r,m)}else if(h===a)e=u.options.cdata&&i(c)?e.raw(o(c)):e.txt(c);else if(Array.isArray(c))for(p in c)s.call(c,p)&&(e="string"==typeof(d=c[p])?u.options.cdata&&i(d)?e.ele(h).raw(o(d)).up():e.ele(h,d).up():l(e.ele(h),d).up());else"object"==typeof c?e=l(e.ele(h),c).up():"string"==typeof c&&u.options.cdata&&i(c)?e=e.ele(h).raw(o(c)).up():(null==c&&(c=""),e=e.ele(h,c.toString()).up());return e},c=e.create(d,this.options.xmldec,this.options.doctype,{headless:this.options.headless,allowSurrogateChars:this.options.allowSurrogateChars}),l(c,t).end(this.options.renderOpts)},t}()}).call(this)},7463(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<i(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,o=a>>>1;r<o;){var s=2*(r+1)-1,l=e[s],c=s+1,d=e[c];if(0>i(l,n))c<a&&0>i(d,l)?(e[r]=d,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<a&&0>i(d,n)))break e;e[r]=d,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],d=[],u=1,p=null,h=3,m=!1,f=!1,A=!1,g="function"==typeof setTimeout?setTimeout:null,_="function"==typeof clearTimeout?clearTimeout:null,y="undefined"!=typeof setImmediate?setImmediate:null;function v(e){for(var t=r(d);null!==t;){if(null===t.callback)a(d);else{if(!(t.startTime<=e))break;a(d),t.sortIndex=t.expirationTime,n(c,t)}t=r(d)}}function E(e){if(A=!1,v(e),!f)if(null!==r(c))f=!0,D(C);else{var t=r(d);null!==t&&O(E,t.startTime-e)}}function C(e,n){f=!1,A&&(A=!1,_(B),B=-1),m=!0;var i=h;try{for(v(n),p=r(c);null!==p&&(!(p.expirationTime>n)||e&&!T());){var o=p.callback;if("function"==typeof o){p.callback=null,h=p.priorityLevel;var s=o(p.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?p.callback=s:p===r(c)&&a(c),v(n)}else a(c);p=r(c)}if(null!==p)var l=!0;else{var u=r(d);null!==u&&O(E,u.startTime-n),l=!1}return l}finally{p=null,h=i,m=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var b,x=!1,w=null,B=-1,S=5,k=-1;function T(){return!(t.unstable_now()-k<S)}function I(){if(null!==w){var e=t.unstable_now();k=e;var n=!0;try{n=w(!0,e)}finally{n?b():(x=!1,w=null)}}else x=!1}if("function"==typeof y)b=function(){y(I)};else if("undefined"!=typeof MessageChannel){var R=new MessageChannel,L=R.port2;R.port1.onmessage=I,b=function(){L.postMessage(null)}}else b=function(){g(I,0)};function D(e){w=e,x||(x=!0,b())}function O(e,n){B=g(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||m||(f=!0,D(C))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,a,i){var o=t.unstable_now();switch(i="object"==typeof i&&null!==i&&"number"==typeof(i=i.delay)&&0<i?o+i:o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:u++,callback:a,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>o?(e.sortIndex=i,n(d,e),null===r(c)&&e===r(d)&&(A?(_(B),B=-1):A=!0,O(E,i-o))):(e.sortIndex=s,n(c,e),f||m||(f=!0,D(C))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},7659(e){"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},7674(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serializersV21=t.serializers=void 0;const r=n(6469),a=n(1657),i=e=>e,o=e=>e.split(" ")[0],s=e=>e.split(" ")[1],l=(e,{channel:t})=>t+"",c=(e,{channel:t,layer:n})=>`${t}-${n}`,d=(e,{channel:t,layer:n})=>t+(n?"-"+n:""),u=(e,{clip:t,loop:n,inPoint:r,seek:a,length:i,clearOn404:o})=>(t?`"${t}"`:"")+(!0===n?" LOOP":"")+(void 0!==r?" IN "+r:"")+(void 0!==a?" SEEK "+a:"")+(void 0!==i?" LENGTH "+i:"")+(!0===o?" CLEAR_ON_404":""),p=(e,{device:t,format:n})=>"DECKLINK "+t+(n?" FORMAT "+n:""),h=(e,{url:t})=>"[html] "+t,m=(e,{route:t,mode:n,framesDelay:r})=>"route://"+t.channel+(void 0!==t.layer?"-"+t.layer:"")+(n?"  "+n:"")+(r?"BUFFER "+r:""),f=(e,{vFilter:t,aFilter:n})=>[t?`VF "${t}"`:void 0,n?`AF "${n}"`:void 0].filter(e=>void 0!==e).join(" "),A=(e,{channelLayout:t,vFilter:n})=>[n?"FILTER "+n:void 0,t?"CHANNEL_LAYOUT "+t:void 0].filter(e=>void 0!==e).join(" "),g=(e,{transition:t})=>t&&_(t)||"",_=({transitionType:e,duration:t,tween:n,direction:r,stingProperties:i})=>{if(e===a.TransitionType.Sting){const e={MASK:i?.maskFile,OVERLAY:i?.overlayFile,TRIGGER_POINT:i?.delay,AUDIO_FADE_START:i?.audioFadeStart,AUDIO_FADE_DURATION:i?.audioFadeDuration};return"STING ("+Object.entries(e).filter(([e,t])=>null!=t).map(([e,t])=>e+"="+t).join(" ")+")"}return[e,t,n,r].filter(e=>void 0!==e).join(" ")},y=(e,{cgLayer:t})=>void 0===t?"1":`${t}`,v=(e,{data:t})=>t?"string"==typeof t?t:`"${JSON.stringify(t).replace(/[\\$"]/g,"\\$&")}"`:"",E=(e,{tween:t,duration:n})=>(n||"")+(t?" "+t:""),C=(e,{value:t})=>void 0!==t?"boolean"==typeof t?t?"1":"0":t+"":"",b=(e,t)=>t.customParams?Object.entries(t.customParams).map(([e,t])=>null==t||""===t?e:`${e} ${"string"==typeof t?`"${t}"`:t}`).join(" "):"",x=e=>(t,n)=>Object.keys(n).length>2?e(t,n):"";t.serializers={[r.Commands.Loadbg]:[i,c,u,(e,{auto:t})=>t?"AUTO":"",f,g,b],[r.Commands.LoadbgDecklink]:[o,c,p,f,g,b],[r.Commands.LoadbgHtml]:[o,c,h,f,g,b],[r.Commands.LoadbgRoute]:[o,c,m,f,g,b],[r.Commands.Load]:[i,c,u,f,g,b],[r.Commands.Play]:[i,c,u,f,g,b],[r.Commands.PlayDecklink]:[o,c,p,f,g,b],[r.Commands.PlayHtml]:[o,c,h,f,g,b],[r.Commands.PlayRoute]:[o,c,m,f,g,b],[r.Commands.Pause]:[i,c],[r.Commands.Resume]:[i,c],[r.Commands.Stop]:[i,c],[r.Commands.Clear]:[i,d],[r.Commands.Call]:[i,c,(e,{param:t,value:n})=>t+(void 0!==n?" "+n:"")],[r.Commands.Swap]:[i,c,(e,{channel2:t,layer2:n})=>`${t}-${n}`],[r.Commands.Add]:[i,l,(e,{consumer:t,parameters:n})=>t+" "+n],[r.Commands.Remove]:[i,l,(e,{consumer:t})=>t+""],[r.Commands.Print]:[i,l],[r.Commands.LogLevel]:[i,(e,{level:t})=>t],[r.Commands.LogCategory]:[i,(e,{category:t,enable:n})=>t+""+(n?"1":"0")],[r.Commands.Set]:[i,l,(e,{variable:t,value:n})=>t+" "+n],[r.Commands.Lock]:[i,l,(e,{action:t,secret:n})=>t+(n?" "+n:"")],[r.Commands.DataStore]:[i,(e,{name:t,data:n})=>t+" "+n],[r.Commands.DataRetrieve]:[i,(e,{name:t})=>t],[r.Commands.DataList]:[i,(e,{subDirectory:t})=>t||""],[r.Commands.DataRemove]:[i,(e,{name:t})=>t],[r.Commands.CgAdd]:[o,c,s,y,(e,{template:t,playOnLoad:n})=>`"${t}" ${n?"1":"0"}`,v,b],[r.Commands.CgPlay]:[o,c,s,y,b],[r.Commands.CgStop]:[o,c,s,y,b],[r.Commands.CgNext]:[o,c,s,y,b],[r.Commands.CgRemove]:[o,c,s,y,b],[r.Commands.CgClear]:[o,c,s],[r.Commands.CgUpdate]:[o,c,s,y,v,b],[r.Commands.CgInvoke]:[o,c,s,y,(e,{method:t})=>t,b],[r.Commands.CgInfo]:[o,c,s,y,b],[r.Commands.MixerKeyer]:[o,c,s,(e,{keyer:t})=>t?"1":"0",b],[r.Commands.MixerChroma]:[o,c,s,x((e,t)=>`${t.enable?1:0} ${t.targetHue} ${t.hueWidth} ${t.minSaturation} ${t.minBrightness} ${t.softness} ${t.spillSuppress} ${t.spillSuppressSaturation} ${t.showMask}`),E,b],[r.Commands.MixerBlend]:[o,c,s,C,b],[r.Commands.MixerInvert]:[o,c,s,C,b],[r.Commands.MixerOpacity]:[o,c,s,C,E,b],[r.Commands.MixerBrightness]:[o,c,s,C,E,b],[r.Commands.MixerSaturation]:[o,c,s,C,E,b],[r.Commands.MixerContrast]:[o,c,s,C,E,b],[r.Commands.MixerLevels]:[o,c,s,x((e,t)=>[t.minInput,t.maxInput,t.gamma,t.minOutput,t.maxOutput].join(" ")),E,b],[r.Commands.MixerFill]:[o,c,s,x((e,t)=>[t.x,t.y,t.xScale,t.yScale].join(" ")),E,b],[r.Commands.MixerClip]:[o,c,s,x((e,t)=>[t.x,t.y,t.width,t.height].join(" ")),E,b],[r.Commands.MixerAnchor]:[o,c,s,x((e,t)=>[t.x,t.y].join(" ")),E,b],[r.Commands.MixerCrop]:[o,c,s,x((e,t)=>[t.left,t.top,t.right,t.bottom].join(" ")),E,b],[r.Commands.MixerRotation]:[o,c,s,C,E,b],[r.Commands.MixerPerspective]:[o,c,s,x((e,t)=>[t.topLeftX,t.topLeftY,t.topRightX,t.topRightY,t.bottomRightX,t.bottomRightY,t.bottomLeftX,t.bottomLeftY].join(" ")),E,b],[r.Commands.MixerMipmap]:[o,c,s,C,b],[r.Commands.MixerVolume]:[o,c,s,C,E,b],[r.Commands.MixerMastervolume]:[o,l,s,C,E,b],[r.Commands.MixerStraightAlphaOutput]:[o,l,s,C,b],[r.Commands.MixerGrid]:[o,l,s,C,E,b],[r.Commands.MixerCommit]:[o,l,s],[r.Commands.MixerClear]:[o,d,s],[r.Commands.ChannelGrid]:[i],[r.Commands.ThumbnailList]:[i,(e,{subDirectory:t})=>t??""],[r.Commands.ThumbnailRetrieve]:[i,(e,{filename:t})=>t],[r.Commands.ThumbnailGenerate]:[i,(e,{filename:t})=>t],[r.Commands.ThumbnailGenerateAll]:[i],[r.Commands.Cinf]:[i,(e,{filename:t})=>t],[r.Commands.Cls]:[i,(e,{subDirectory:t})=>t??""],[r.Commands.Fls]:[i],[r.Commands.Tls]:[i,(e,{subDirectory:t})=>t??""],[r.Commands.Version]:[i],[r.Commands.Info]:[i],[r.Commands.InfoChannel]:[o,l],[r.Commands.InfoLayer]:[o,c],[r.Commands.InfoTemplate]:[i,(e,{template:t})=>t],[r.Commands.InfoConfig]:[i],[r.Commands.InfoPaths]:[i],[r.Commands.InfoSystem]:[i],[r.Commands.InfoServer]:[i],[r.Commands.InfoQueues]:[i],[r.Commands.InfoThreads]:[i],[r.Commands.InfoDelay]:[i,d],[r.Commands.Diag]:[i],[r.Commands.GlInfo]:[i],[r.Commands.GlGc]:[i],[r.Commands.Bye]:[i],[r.Commands.Kill]:[i],[r.Commands.Restart]:[i],[r.Commands.Ping]:[i],[r.Commands.Begin]:[i],[r.Commands.Commit]:[i],[r.Commands.Discard]:[i],[r.Commands.Custom]:[(e,{command:t})=>t,b]},t.serializersV21={...t.serializers,[r.Commands.Loadbg]:[i,c,u,(e,{auto:t})=>t?"AUTO":"",A,g,b],[r.Commands.LoadbgDecklink]:[o,c,p,A,g,b],[r.Commands.LoadbgHtml]:[o,c,h,A,g,b],[r.Commands.LoadbgRoute]:[o,c,m,A,g,b],[r.Commands.Load]:[i,c,u,A,g,b],[r.Commands.Play]:[i,c,u,A,g,b],[r.Commands.PlayDecklink]:[o,c,p,A,g,b],[r.Commands.PlayHtml]:[o,c,h,A,g,b],[r.Commands.PlayRoute]:[o,c,m,A,g,b]}},7771(e,t,n){"use strict";n.d(t,{A:()=>s});var r=n(1354),a=n.n(r),i=n(6314),o=n.n(i)()(a());o.push([e.id,".layer-controls {\n  padding: 10px 12px;\n  border-bottom: 1px solid var(--border-color);\n  display: flex;\n  flex-wrap: wrap;\n  gap: 8px;\n  align-items: center;\n}\n\n.transport-controls {\n  display: flex;\n  gap: 4px;\n}\n\n.control-btn {\n  width: 32px;\n  height: 32px;\n  padding: 0;\n  border: none;\n  border-radius: var(--radius-sm);\n  background: rgba(255, 255, 255, 0.05);\n  color: var(--text-secondary);\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all var(--transition);\n}\n\n.control-btn:hover {\n  background: rgba(255, 255, 255, 0.1);\n  color: var(--text-primary);\n}\n\n.control-btn:active {\n  transform: scale(0.95);\n}\n\n.control-btn-primary {\n  width: 40px;\n  height: 40px;\n  background: var(--accent-gradient);\n  color: var(--bg-primary);\n}\n\n.control-btn-primary:hover {\n  box-shadow: var(--shadow-glow);\n  transform: scale(1.05);\n}\n\n.control-btn-primary:active {\n  transform: scale(0.98);\n}\n\n.mode-controls {\n  display: flex;\n  gap: 4px;\n  margin-left: auto;\n}\n\n.mode-btn {\n  padding: 4px 8px;\n  font-size: 10px;\n  font-weight: 600;\n  border: 1px solid var(--border-color);\n  border-radius: 4px;\n  background: transparent;\n  color: var(--text-tertiary);\n  cursor: pointer;\n  transition: all var(--transition);\n}\n\n.mode-btn:hover {\n  background: rgba(255, 255, 255, 0.05);\n  color: var(--text-secondary);\n}\n\n.mode-btn.active {\n  background: rgba(0, 170, 136, 0.2);\n  border-color: var(--accent-primary);\n  color: var(--accent-secondary);\n}\n\n.io-controls {\n  display: flex;\n  gap: 4px;\n}\n\n.io-btn {\n  padding: 4px 8px;\n  font-size: 10px;\n  font-weight: 600;\n  border: 1px solid var(--border-color);\n  border-radius: 4px;\n  background: transparent;\n  color: var(--text-tertiary);\n  cursor: pointer;\n  transition: all var(--transition);\n}\n\n.io-btn:hover {\n  background: rgba(0, 170, 136, 0.1);\n  border-color: var(--accent-primary);\n  color: var(--accent-secondary);\n}\n\n.io-btn-clear {\n  color: var(--error);\n  border-color: rgba(255, 68, 68, 0.3);\n}\n\n.io-btn-clear:hover {\n  background: rgba(255, 68, 68, 0.1);\n  border-color: var(--error);\n  color: var(--error-light);\n}\n","",{version:3,sources:["webpack://./src/renderer/components/LayerControls.css"],names:[],mappings:"AAAA;EACE,kBAAkB;EAClB,4CAA4C;EAC5C,aAAa;EACb,eAAe;EACf,QAAQ;EACR,mBAAmB;AACrB;;AAEA;EACE,aAAa;EACb,QAAQ;AACV;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,UAAU;EACV,YAAY;EACZ,+BAA+B;EAC/B,qCAAqC;EACrC,4BAA4B;EAC5B,eAAe;EACf,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,iCAAiC;AACnC;;AAEA;EACE,oCAAoC;EACpC,0BAA0B;AAC5B;;AAEA;EACE,sBAAsB;AACxB;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,kCAAkC;EAClC,wBAAwB;AAC1B;;AAEA;EACE,8BAA8B;EAC9B,sBAAsB;AACxB;;AAEA;EACE,sBAAsB;AACxB;;AAEA;EACE,aAAa;EACb,QAAQ;EACR,iBAAiB;AACnB;;AAEA;EACE,gBAAgB;EAChB,eAAe;EACf,gBAAgB;EAChB,qCAAqC;EACrC,kBAAkB;EAClB,uBAAuB;EACvB,2BAA2B;EAC3B,eAAe;EACf,iCAAiC;AACnC;;AAEA;EACE,qCAAqC;EACrC,4BAA4B;AAC9B;;AAEA;EACE,kCAAkC;EAClC,mCAAmC;EACnC,8BAA8B;AAChC;;AAEA;EACE,aAAa;EACb,QAAQ;AACV;;AAEA;EACE,gBAAgB;EAChB,eAAe;EACf,gBAAgB;EAChB,qCAAqC;EACrC,kBAAkB;EAClB,uBAAuB;EACvB,2BAA2B;EAC3B,eAAe;EACf,iCAAiC;AACnC;;AAEA;EACE,kCAAkC;EAClC,mCAAmC;EACnC,8BAA8B;AAChC;;AAEA;EACE,mBAAmB;EACnB,oCAAoC;AACtC;;AAEA;EACE,kCAAkC;EAClC,0BAA0B;EAC1B,yBAAyB;AAC3B",sourcesContent:[".layer-controls {\r\n  padding: 10px 12px;\r\n  border-bottom: 1px solid var(--border-color);\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 8px;\r\n  align-items: center;\r\n}\r\n\r\n.transport-controls {\r\n  display: flex;\r\n  gap: 4px;\r\n}\r\n\r\n.control-btn {\r\n  width: 32px;\r\n  height: 32px;\r\n  padding: 0;\r\n  border: none;\r\n  border-radius: var(--radius-sm);\r\n  background: rgba(255, 255, 255, 0.05);\r\n  color: var(--text-secondary);\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  transition: all var(--transition);\r\n}\r\n\r\n.control-btn:hover {\r\n  background: rgba(255, 255, 255, 0.1);\r\n  color: var(--text-primary);\r\n}\r\n\r\n.control-btn:active {\r\n  transform: scale(0.95);\r\n}\r\n\r\n.control-btn-primary {\r\n  width: 40px;\r\n  height: 40px;\r\n  background: var(--accent-gradient);\r\n  color: var(--bg-primary);\r\n}\r\n\r\n.control-btn-primary:hover {\r\n  box-shadow: var(--shadow-glow);\r\n  transform: scale(1.05);\r\n}\r\n\r\n.control-btn-primary:active {\r\n  transform: scale(0.98);\r\n}\r\n\r\n.mode-controls {\r\n  display: flex;\r\n  gap: 4px;\r\n  margin-left: auto;\r\n}\r\n\r\n.mode-btn {\r\n  padding: 4px 8px;\r\n  font-size: 10px;\r\n  font-weight: 600;\r\n  border: 1px solid var(--border-color);\r\n  border-radius: 4px;\r\n  background: transparent;\r\n  color: var(--text-tertiary);\r\n  cursor: pointer;\r\n  transition: all var(--transition);\r\n}\r\n\r\n.mode-btn:hover {\r\n  background: rgba(255, 255, 255, 0.05);\r\n  color: var(--text-secondary);\r\n}\r\n\r\n.mode-btn.active {\r\n  background: rgba(0, 170, 136, 0.2);\r\n  border-color: var(--accent-primary);\r\n  color: var(--accent-secondary);\r\n}\r\n\r\n.io-controls {\r\n  display: flex;\r\n  gap: 4px;\r\n}\r\n\r\n.io-btn {\r\n  padding: 4px 8px;\r\n  font-size: 10px;\r\n  font-weight: 600;\r\n  border: 1px solid var(--border-color);\r\n  border-radius: 4px;\r\n  background: transparent;\r\n  color: var(--text-tertiary);\r\n  cursor: pointer;\r\n  transition: all var(--transition);\r\n}\r\n\r\n.io-btn:hover {\r\n  background: rgba(0, 170, 136, 0.1);\r\n  border-color: var(--accent-primary);\r\n  color: var(--accent-secondary);\r\n}\r\n\r\n.io-btn-clear {\r\n  color: var(--error);\r\n  border-color: rgba(255, 68, 68, 0.3);\r\n}\r\n\r\n.io-btn-clear:hover {\r\n  background: rgba(255, 68, 68, 0.1);\r\n  border-color: var(--error);\r\n  color: var(--error-light);\r\n}\r\n"],sourceRoot:""}]);const s=o},7825(e){"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var a=void 0!==n.layer;a&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,a&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},8096(e,t,n){"use strict";n.d(t,{A:()=>s});var r=n(1354),a=n.n(r),i=n(6314),o=n.n(i)()(a());o.push([e.id,".file-browser {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n\n.file-browser-header {\n  padding: 16px;\n  border-bottom: 1px solid var(--border-color);\n  display: flex;\n  gap: 8px;\n}\n\n.file-browser-header .btn-primary {\n  flex: 1;\n  justify-content: center;\n}\n\n.file-browser-error {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 10px 16px;\n  background: rgba(255, 68, 68, 0.1);\n  color: var(--error);\n  font-size: 12px;\n}\n\n.file-browser-path {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  padding: 8px 12px;\n  background: rgba(255, 255, 255, 0.03);\n  border-bottom: 1px solid var(--border-color);\n  font-size: 12px;\n  color: var(--text-secondary);\n}\n\n.file-browser-path span {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.file-browser-content {\n  flex: 1;\n  overflow: auto;\n  min-height: 0;\n}\n\n.file-tree-container {\n  padding: 8px;\n}\n\n.empty-state {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 40px 20px;\n  text-align: center;\n}\n\n.empty-state p {\n  margin: 8px 0 0;\n  color: var(--text-tertiary);\n}\n\n.empty-state .text-sm {\n  margin-top: 4px;\n}\n\n.scanning-indicator {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 12px;\n  padding: 40px 20px;\n  color: var(--text-tertiary);\n}\n\n.loading-spinner {\n  width: 24px;\n  height: 24px;\n  border: 2px solid rgba(255, 255, 255, 0.1);\n  border-top-color: var(--accent-primary);\n  border-radius: 50%;\n  animation: spin 0.8s linear infinite;\n}\n\n@keyframes spin {\n  to {\n    transform: rotate(360deg);\n  }\n}\n\n.file-browser-preview {\n  flex-shrink: 0;\n  border-top: 1px solid var(--border-color);\n  overflow: hidden;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n}\n\n.file-browser-preview-content {\n  flex: 1;\n  overflow: auto;\n}\n\n/* Preview resize handle */\n.file-browser-preview .preview-resize-handle {\n  position: relative;\n  flex-shrink: 0;\n  height: 12px;\n  cursor: ns-resize;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: transparent;\n  transition: background 0.15s ease;\n  z-index: 5;\n}\n\n.file-browser-preview .preview-resize-handle:hover,\n.file-browser-preview .preview-resize-handle.resizing {\n  background: rgba(0, 255, 136, 0.1);\n}\n\n.file-browser-preview .resize-handle-bar {\n  width: 60px;\n  height: 4px;\n  background: var(--border-color);\n  border-radius: 2px;\n  transition: background 0.15s ease, width 0.15s ease;\n}\n\n.file-browser-preview .preview-resize-handle:hover .resize-handle-bar,\n.file-browser-preview .preview-resize-handle.resizing .resize-handle-bar {\n  background: var(--accent-primary);\n  width: 80px;\n}\n\n.file-tree {\n  display: flex;\n  flex-direction: column;\n  gap: 2px;\n}\n","",{version:3,sources:["webpack://./src/renderer/components/FileBrowser.css"],names:[],mappings:"AAAA;EACE,YAAY;EACZ,aAAa;EACb,sBAAsB;AACxB;;AAEA;EACE,aAAa;EACb,4CAA4C;EAC5C,aAAa;EACb,QAAQ;AACV;;AAEA;EACE,OAAO;EACP,uBAAuB;AACzB;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,QAAQ;EACR,kBAAkB;EAClB,kCAAkC;EAClC,mBAAmB;EACnB,eAAe;AACjB;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,QAAQ;EACR,iBAAiB;EACjB,qCAAqC;EACrC,4CAA4C;EAC5C,eAAe;EACf,4BAA4B;AAC9B;;AAEA;EACE,mBAAmB;EACnB,gBAAgB;EAChB,uBAAuB;AACzB;;AAEA;EACE,OAAO;EACP,cAAc;EACd,aAAa;AACf;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,aAAa;EACb,sBAAsB;EACtB,mBAAmB;EACnB,uBAAuB;EACvB,kBAAkB;EAClB,kBAAkB;AACpB;;AAEA;EACE,eAAe;EACf,2BAA2B;AAC7B;;AAEA;EACE,eAAe;AACjB;;AAEA;EACE,aAAa;EACb,sBAAsB;EACtB,mBAAmB;EACnB,SAAS;EACT,kBAAkB;EAClB,2BAA2B;AAC7B;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,0CAA0C;EAC1C,uCAAuC;EACvC,kBAAkB;EAClB,oCAAoC;AACtC;;AAEA;EACE;IACE,yBAAyB;EAC3B;AACF;;AAEA;EACE,cAAc;EACd,yCAAyC;EACzC,gBAAgB;EAChB,kBAAkB;EAClB,aAAa;EACb,sBAAsB;AACxB;;AAEA;EACE,OAAO;EACP,cAAc;AAChB;;AAEA,0BAA0B;AAC1B;EACE,kBAAkB;EAClB,cAAc;EACd,YAAY;EACZ,iBAAiB;EACjB,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,uBAAuB;EACvB,iCAAiC;EACjC,UAAU;AACZ;;AAEA;;EAEE,kCAAkC;AACpC;;AAEA;EACE,WAAW;EACX,WAAW;EACX,+BAA+B;EAC/B,kBAAkB;EAClB,mDAAmD;AACrD;;AAEA;;EAEE,iCAAiC;EACjC,WAAW;AACb;;AAEA;EACE,aAAa;EACb,sBAAsB;EACtB,QAAQ;AACV",sourcesContent:[".file-browser {\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.file-browser-header {\r\n  padding: 16px;\r\n  border-bottom: 1px solid var(--border-color);\r\n  display: flex;\r\n  gap: 8px;\r\n}\r\n\r\n.file-browser-header .btn-primary {\r\n  flex: 1;\r\n  justify-content: center;\r\n}\r\n\r\n.file-browser-error {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  padding: 10px 16px;\r\n  background: rgba(255, 68, 68, 0.1);\r\n  color: var(--error);\r\n  font-size: 12px;\r\n}\r\n\r\n.file-browser-path {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n  padding: 8px 12px;\r\n  background: rgba(255, 255, 255, 0.03);\r\n  border-bottom: 1px solid var(--border-color);\r\n  font-size: 12px;\r\n  color: var(--text-secondary);\r\n}\r\n\r\n.file-browser-path span {\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n.file-browser-content {\r\n  flex: 1;\r\n  overflow: auto;\r\n  min-height: 0;\r\n}\r\n\r\n.file-tree-container {\r\n  padding: 8px;\r\n}\r\n\r\n.empty-state {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 40px 20px;\r\n  text-align: center;\r\n}\r\n\r\n.empty-state p {\r\n  margin: 8px 0 0;\r\n  color: var(--text-tertiary);\r\n}\r\n\r\n.empty-state .text-sm {\r\n  margin-top: 4px;\r\n}\r\n\r\n.scanning-indicator {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 12px;\r\n  padding: 40px 20px;\r\n  color: var(--text-tertiary);\r\n}\r\n\r\n.loading-spinner {\r\n  width: 24px;\r\n  height: 24px;\r\n  border: 2px solid rgba(255, 255, 255, 0.1);\r\n  border-top-color: var(--accent-primary);\r\n  border-radius: 50%;\r\n  animation: spin 0.8s linear infinite;\r\n}\r\n\r\n@keyframes spin {\r\n  to {\r\n    transform: rotate(360deg);\r\n  }\r\n}\r\n\r\n.file-browser-preview {\r\n  flex-shrink: 0;\r\n  border-top: 1px solid var(--border-color);\r\n  overflow: hidden;\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.file-browser-preview-content {\r\n  flex: 1;\r\n  overflow: auto;\r\n}\r\n\r\n/* Preview resize handle */\r\n.file-browser-preview .preview-resize-handle {\r\n  position: relative;\r\n  flex-shrink: 0;\r\n  height: 12px;\r\n  cursor: ns-resize;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background: transparent;\r\n  transition: background 0.15s ease;\r\n  z-index: 5;\r\n}\r\n\r\n.file-browser-preview .preview-resize-handle:hover,\r\n.file-browser-preview .preview-resize-handle.resizing {\r\n  background: rgba(0, 255, 136, 0.1);\r\n}\r\n\r\n.file-browser-preview .resize-handle-bar {\r\n  width: 60px;\r\n  height: 4px;\r\n  background: var(--border-color);\r\n  border-radius: 2px;\r\n  transition: background 0.15s ease, width 0.15s ease;\r\n}\r\n\r\n.file-browser-preview .preview-resize-handle:hover .resize-handle-bar,\r\n.file-browser-preview .preview-resize-handle.resizing .resize-handle-bar {\r\n  background: var(--accent-primary);\r\n  width: 80px;\r\n}\r\n\r\n.file-tree {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 2px;\r\n}\r\n"],sourceRoot:""}]);const s=o},8252(e,t,n){(function(){var t,r,a,i,o,s,l,c,d={}.hasOwnProperty;c=n(1859),l=c.isObject,s=c.isFunction,o=c.getValue,i=n(3910),t=n(231),r=n(6708),a=n(8339),e.exports=function(e){function n(e,r,a){var i,o,s,l;if(n.__super__.constructor.call(this,e),null==r)throw new Error("Missing element name. "+this.debugInfo());if(this.name=this.stringify.name(r),this.type=t.Element,this.attribs={},this.schemaTypeInfo=null,null!=a&&this.attribute(a),e.type===t.Document&&(this.isRoot=!0,this.documentObject=e,e.rootObject=this,e.children))for(o=0,s=(l=e.children).length;o<s;o++)if((i=l[o]).type===t.DocType){i.name=this.name;break}}return function(e,t){for(var n in t)d.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(n,e),Object.defineProperty(n.prototype,"tagName",{get:function(){return this.name}}),Object.defineProperty(n.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(n.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(n.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(n.prototype,"id",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(n.prototype,"className",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(n.prototype,"classList",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(n.prototype,"attributes",{get:function(){return this.attributeMap&&this.attributeMap.nodes||(this.attributeMap=new a(this.attribs)),this.attributeMap}}),n.prototype.clone=function(){var e,t,n,r;for(t in(n=Object.create(this)).isRoot&&(n.documentObject=null),n.attribs={},r=this.attribs)d.call(r,t)&&(e=r[t],n.attribs[t]=e.clone());return n.children=[],this.children.forEach(function(e){var t;return(t=e.clone()).parent=n,n.children.push(t)}),n},n.prototype.attribute=function(e,t){var n,a;if(null!=e&&(e=o(e)),l(e))for(n in e)d.call(e,n)&&(a=e[n],this.attribute(n,a));else s(t)&&(t=t.apply()),this.options.keepNullAttributes&&null==t?this.attribs[e]=new r(this,e,""):null!=t&&(this.attribs[e]=new r(this,e,t));return this},n.prototype.removeAttribute=function(e){var t,n,r;if(null==e)throw new Error("Missing attribute name. "+this.debugInfo());if(e=o(e),Array.isArray(e))for(n=0,r=e.length;n<r;n++)t=e[n],delete this.attribs[t];else delete this.attribs[e];return this},n.prototype.toString=function(e){return this.options.writer.element(this,this.options.writer.filterOptions(e))},n.prototype.att=function(e,t){return this.attribute(e,t)},n.prototype.a=function(e,t){return this.attribute(e,t)},n.prototype.getAttribute=function(e){return this.attribs.hasOwnProperty(e)?this.attribs[e].value:null},n.prototype.setAttribute=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getAttributeNode=function(e){return this.attribs.hasOwnProperty(e)?this.attribs[e]:null},n.prototype.setAttributeNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.removeAttributeNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getElementsByTagName=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getAttributeNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.setAttributeNS=function(e,t,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.removeAttributeNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getAttributeNodeNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.setAttributeNodeNS=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getElementsByTagNameNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.hasAttribute=function(e){return this.attribs.hasOwnProperty(e)},n.prototype.hasAttributeNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.setIdAttribute=function(e,t){return this.attribs.hasOwnProperty(e)?this.attribs[e].isId:t},n.prototype.setIdAttributeNS=function(e,t,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.setIdAttributeNode=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getElementsByTagName=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getElementsByTagNameNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getElementsByClassName=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.isEqualNode=function(e){var t,r,a;if(!n.__super__.isEqualNode.apply(this,arguments).isEqualNode(e))return!1;if(e.namespaceURI!==this.namespaceURI)return!1;if(e.prefix!==this.prefix)return!1;if(e.localName!==this.localName)return!1;if(e.attribs.length!==this.attribs.length)return!1;for(t=r=0,a=this.attribs.length-1;0<=a?r<=a:r>=a;t=0<=a?++r:--r)if(!this.attribs[t].isEqualNode(e.attribs[t]))return!1;return!0},n}(i)}).call(this)},8312(e,t,n){(function(){var t,r;t=n(5918),r=n(8797),e.exports=function(){function e(){this.defaultParams={"canonical-form":!1,"cdata-sections":!1,comments:!1,"datatype-normalization":!1,"element-content-whitespace":!0,entities:!0,"error-handler":new t,infoset:!0,"validate-if-schema":!1,namespaces:!0,"namespace-declarations":!0,"normalize-characters":!1,"schema-location":"","schema-type":"","split-cdata-sections":!0,validate:!1,"well-formed":!0},this.params=Object.create(this.defaultParams)}return Object.defineProperty(e.prototype,"parameterNames",{get:function(){return new r(Object.keys(this.defaultParams))}}),e.prototype.getParameter=function(e){return this.params.hasOwnProperty(e)?this.params[e]:null},e.prototype.canSetParameter=function(e,t){return!0},e.prototype.setParameter=function(e,t){return null!=t?this.params[e]=t:delete this.params[e]},e}()}).call(this)},8339(e){(function(){e.exports=function(){function e(e){this.nodes=e}return Object.defineProperty(e.prototype,"length",{get:function(){return Object.keys(this.nodes).length||0}}),e.prototype.clone=function(){return this.nodes=null},e.prototype.getNamedItem=function(e){return this.nodes[e]},e.prototype.setNamedItem=function(e){var t;return t=this.nodes[e.nodeName],this.nodes[e.nodeName]=e,t||null},e.prototype.removeNamedItem=function(e){var t;return t=this.nodes[e],delete this.nodes[e],t||null},e.prototype.item=function(e){return this.nodes[Object.keys(this.nodes)[e]]||null},e.prototype.getNamedItemNS=function(e,t){throw new Error("This DOM method is not implemented.")},e.prototype.setNamedItemNS=function(e){throw new Error("This DOM method is not implemented.")},e.prototype.removeNamedItemNS=function(e,t){throw new Error("This DOM method is not implemented.")},e}()}).call(this)},8571(e,t,n){"use strict";n.d(t,{A:()=>s});var r=n(1354),a=n.n(r),i=n(6314),o=n.n(i)()(a());o.push([e.id,'.settings-modal {\n  width: 550px;\n  max-width: 90vw;\n  max-height: 80vh;\n  display: flex;\n  flex-direction: column;\n}\n\n.settings-modal .modal-body {\n  overflow-y: auto;\n  flex: 1;\n  min-height: 300px;\n}\n\n.settings-tabs {\n  display: flex;\n  border-bottom: 1px solid var(--border-color);\n  padding: 0 20px;\n  gap: 4px;\n}\n\n.settings-tab {\n  padding: 10px 16px;\n  font-size: 13px;\n  font-weight: 500;\n  color: var(--text-secondary);\n  background: transparent;\n  border: none;\n  border-bottom: 2px solid transparent;\n  cursor: pointer;\n  transition: all var(--transition);\n  margin-bottom: -1px;\n}\n\n.settings-tab:hover {\n  color: var(--text-primary);\n  background: rgba(255, 255, 255, 0.03);\n}\n\n.settings-tab.active {\n  color: var(--accent-primary);\n  border-bottom-color: var(--accent-primary);\n}\n\n.settings-section {\n  padding: 8px 0;\n}\n\n.settings-section-title {\n  font-size: 14px;\n  font-weight: 600;\n  color: var(--text-primary);\n  margin: 0 0 16px 0;\n}\n\n.settings-row {\n  display: flex;\n  gap: 16px;\n}\n\n.settings-row .input-group {\n  flex: 1;\n}\n\n.folder-input-row {\n  display: flex;\n  gap: 8px;\n}\n\n.folder-input-row .input {\n  flex: 1;\n}\n\n.btn-danger-subtle {\n  color: var(--error-light);\n  background: transparent;\n  border-color: transparent;\n}\n\n.btn-danger-subtle:hover {\n  background: rgba(255, 68, 68, 0.1);\n  border-color: rgba(255, 68, 68, 0.3);\n}\n\n.input-hint {\n  font-size: 11px;\n  color: var(--text-tertiary);\n  margin-top: 4px;\n}\n\n.checkbox-label {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  cursor: pointer;\n  font-size: 13px;\n  color: var(--text-primary);\n}\n\n.checkbox-label input[type="checkbox"] {\n  width: 16px;\n  height: 16px;\n  cursor: pointer;\n}\n',"",{version:3,sources:["webpack://./src/renderer/components/Settings.css"],names:[],mappings:"AAAA;EACE,YAAY;EACZ,eAAe;EACf,gBAAgB;EAChB,aAAa;EACb,sBAAsB;AACxB;;AAEA;EACE,gBAAgB;EAChB,OAAO;EACP,iBAAiB;AACnB;;AAEA;EACE,aAAa;EACb,4CAA4C;EAC5C,eAAe;EACf,QAAQ;AACV;;AAEA;EACE,kBAAkB;EAClB,eAAe;EACf,gBAAgB;EAChB,4BAA4B;EAC5B,uBAAuB;EACvB,YAAY;EACZ,oCAAoC;EACpC,eAAe;EACf,iCAAiC;EACjC,mBAAmB;AACrB;;AAEA;EACE,0BAA0B;EAC1B,qCAAqC;AACvC;;AAEA;EACE,4BAA4B;EAC5B,0CAA0C;AAC5C;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,eAAe;EACf,gBAAgB;EAChB,0BAA0B;EAC1B,kBAAkB;AACpB;;AAEA;EACE,aAAa;EACb,SAAS;AACX;;AAEA;EACE,OAAO;AACT;;AAEA;EACE,aAAa;EACb,QAAQ;AACV;;AAEA;EACE,OAAO;AACT;;AAEA;EACE,yBAAyB;EACzB,uBAAuB;EACvB,yBAAyB;AAC3B;;AAEA;EACE,kCAAkC;EAClC,oCAAoC;AACtC;;AAEA;EACE,eAAe;EACf,2BAA2B;EAC3B,eAAe;AACjB;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,QAAQ;EACR,eAAe;EACf,eAAe;EACf,0BAA0B;AAC5B;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,eAAe;AACjB",sourcesContent:['.settings-modal {\r\n  width: 550px;\r\n  max-width: 90vw;\r\n  max-height: 80vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.settings-modal .modal-body {\r\n  overflow-y: auto;\r\n  flex: 1;\r\n  min-height: 300px;\r\n}\r\n\r\n.settings-tabs {\r\n  display: flex;\r\n  border-bottom: 1px solid var(--border-color);\r\n  padding: 0 20px;\r\n  gap: 4px;\r\n}\r\n\r\n.settings-tab {\r\n  padding: 10px 16px;\r\n  font-size: 13px;\r\n  font-weight: 500;\r\n  color: var(--text-secondary);\r\n  background: transparent;\r\n  border: none;\r\n  border-bottom: 2px solid transparent;\r\n  cursor: pointer;\r\n  transition: all var(--transition);\r\n  margin-bottom: -1px;\r\n}\r\n\r\n.settings-tab:hover {\r\n  color: var(--text-primary);\r\n  background: rgba(255, 255, 255, 0.03);\r\n}\r\n\r\n.settings-tab.active {\r\n  color: var(--accent-primary);\r\n  border-bottom-color: var(--accent-primary);\r\n}\r\n\r\n.settings-section {\r\n  padding: 8px 0;\r\n}\r\n\r\n.settings-section-title {\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n  color: var(--text-primary);\r\n  margin: 0 0 16px 0;\r\n}\r\n\r\n.settings-row {\r\n  display: flex;\r\n  gap: 16px;\r\n}\r\n\r\n.settings-row .input-group {\r\n  flex: 1;\r\n}\r\n\r\n.folder-input-row {\r\n  display: flex;\r\n  gap: 8px;\r\n}\r\n\r\n.folder-input-row .input {\r\n  flex: 1;\r\n}\r\n\r\n.btn-danger-subtle {\r\n  color: var(--error-light);\r\n  background: transparent;\r\n  border-color: transparent;\r\n}\r\n\r\n.btn-danger-subtle:hover {\r\n  background: rgba(255, 68, 68, 0.1);\r\n  border-color: rgba(255, 68, 68, 0.3);\r\n}\r\n\r\n.input-hint {\r\n  font-size: 11px;\r\n  color: var(--text-tertiary);\r\n  margin-top: 4px;\r\n}\r\n\r\n.checkbox-label {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  cursor: pointer;\r\n  font-size: 13px;\r\n  color: var(--text-primary);\r\n}\r\n\r\n.checkbox-label input[type="checkbox"] {\r\n  width: 16px;\r\n  height: 16px;\r\n  cursor: pointer;\r\n}\r\n'],sourceRoot:""}]);const s=o},8579(e){window,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=20)}([function(e,t,n){"use strict";var r=n(9),a=n.n(r),i=function(){function e(){}return e.e=function(t,n){t&&!e.FORCE_GLOBAL_TAG||(t=e.GLOBAL_TAG);var r="[".concat(t,"] > ").concat(n);e.ENABLE_CALLBACK&&e.emitter.emit("log","error",r),e.ENABLE_ERROR&&(console.error?console.error(r):console.warn?console.warn(r):console.log(r))},e.i=function(t,n){t&&!e.FORCE_GLOBAL_TAG||(t=e.GLOBAL_TAG);var r="[".concat(t,"] > ").concat(n);e.ENABLE_CALLBACK&&e.emitter.emit("log","info",r),e.ENABLE_INFO&&(console.info?console.info(r):console.log(r))},e.w=function(t,n){t&&!e.FORCE_GLOBAL_TAG||(t=e.GLOBAL_TAG);var r="[".concat(t,"] > ").concat(n);e.ENABLE_CALLBACK&&e.emitter.emit("log","warn",r),e.ENABLE_WARN&&(console.warn?console.warn(r):console.log(r))},e.d=function(t,n){t&&!e.FORCE_GLOBAL_TAG||(t=e.GLOBAL_TAG);var r="[".concat(t,"] > ").concat(n);e.ENABLE_CALLBACK&&e.emitter.emit("log","debug",r),e.ENABLE_DEBUG&&(console.debug?console.debug(r):console.log(r))},e.v=function(t,n){t&&!e.FORCE_GLOBAL_TAG||(t=e.GLOBAL_TAG);var r="[".concat(t,"] > ").concat(n);e.ENABLE_CALLBACK&&e.emitter.emit("log","verbose",r),e.ENABLE_VERBOSE&&console.log(r)},e}();i.GLOBAL_TAG="mpegts.js",i.FORCE_GLOBAL_TAG=!1,i.ENABLE_ERROR=!0,i.ENABLE_INFO=!0,i.ENABLE_WARN=!0,i.ENABLE_DEBUG=!0,i.ENABLE_VERBOSE=!0,i.ENABLE_CALLBACK=!1,i.emitter=new a.a,t.a=i},function(e,t,n){"use strict";var r;!function(e){e.IO_ERROR="io_error",e.DEMUX_ERROR="demux_error",e.INIT_SEGMENT="init_segment",e.MEDIA_SEGMENT="media_segment",e.LOADING_COMPLETE="loading_complete",e.RECOVERED_EARLY_EOF="recovered_early_eof",e.MEDIA_INFO="media_info",e.METADATA_ARRIVED="metadata_arrived",e.SCRIPTDATA_ARRIVED="scriptdata_arrived",e.TIMED_ID3_METADATA_ARRIVED="timed_id3_metadata_arrived",e.SYNCHRONOUS_KLV_METADATA_ARRIVED="synchronous_klv_metadata_arrived",e.ASYNCHRONOUS_KLV_METADATA_ARRIVED="asynchronous_klv_metadata_arrived",e.SMPTE2038_METADATA_ARRIVED="smpte2038_metadata_arrived",e.SCTE35_METADATA_ARRIVED="scte35_metadata_arrived",e.PES_PRIVATE_DATA_DESCRIPTOR="pes_private_data_descriptor",e.PES_PRIVATE_DATA_ARRIVED="pes_private_data_arrived",e.STATISTICS_INFO="statistics_info",e.RECOMMEND_SEEKPOINT="recommend_seekpoint"}(r||(r={})),t.a=r},function(e,t,n){"use strict";n.d(t,"c",function(){return a}),n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o});var r=n(3),a={kIdle:0,kConnecting:1,kBuffering:2,kError:3,kComplete:4},i={OK:"OK",EXCEPTION:"Exception",HTTP_STATUS_CODE_INVALID:"HttpStatusCodeInvalid",CONNECTING_TIMEOUT:"ConnectingTimeout",EARLY_EOF:"EarlyEof",UNRECOVERABLE_EARLY_EOF:"UnrecoverableEarlyEof"},o=function(){function e(e){this._type=e||"undefined",this._status=a.kIdle,this._needStash=!1,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null}return e.prototype.destroy=function(){this._status=a.kIdle,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null},e.prototype.isWorking=function(){return this._status===a.kConnecting||this._status===a.kBuffering},Object.defineProperty(e.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"needStashBuffer",{get:function(){return this._needStash},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onContentLengthKnown",{get:function(){return this._onContentLengthKnown},set:function(e){this._onContentLengthKnown=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onURLRedirect",{get:function(){return this._onURLRedirect},set:function(e){this._onURLRedirect=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onDataArrival",{get:function(){return this._onDataArrival},set:function(e){this._onDataArrival=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onError",{get:function(){return this._onError},set:function(e){this._onError=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onComplete",{get:function(){return this._onComplete},set:function(e){this._onComplete=e},enumerable:!1,configurable:!0}),e.prototype.open=function(e,t){throw new r.c("Unimplemented abstract function!")},e.prototype.abort=function(){throw new r.c("Unimplemented abstract function!")},e}()},function(e,t,n){"use strict";n.d(t,"d",function(){return i}),n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return l});var r,a=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=function(){function e(e){this._message=e}return Object.defineProperty(e.prototype,"name",{get:function(){return"RuntimeException"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"message",{get:function(){return this._message},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this.name+": "+this.message},e}(),o=function(e){function t(t){return e.call(this,t)||this}return a(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"IllegalStateException"},enumerable:!1,configurable:!0}),t}(i),s=function(e){function t(t){return e.call(this,t)||this}return a(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"InvalidArgumentException"},enumerable:!1,configurable:!0}),t}(i),l=function(e){function t(t){return e.call(this,t)||this}return a(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"NotImplementedException"},enumerable:!1,configurable:!0}),t}(i)},function(e,t,n){"use strict";var r;!function(e){e.ERROR="error",e.LOADING_COMPLETE="loading_complete",e.RECOVERED_EARLY_EOF="recovered_early_eof",e.MEDIA_INFO="media_info",e.METADATA_ARRIVED="metadata_arrived",e.SCRIPTDATA_ARRIVED="scriptdata_arrived",e.TIMED_ID3_METADATA_ARRIVED="timed_id3_metadata_arrived",e.SYNCHRONOUS_KLV_METADATA_ARRIVED="synchronous_klv_metadata_arrived",e.ASYNCHRONOUS_KLV_METADATA_ARRIVED="asynchronous_klv_metadata_arrived",e.SMPTE2038_METADATA_ARRIVED="smpte2038_metadata_arrived",e.SCTE35_METADATA_ARRIVED="scte35_metadata_arrived",e.PES_PRIVATE_DATA_DESCRIPTOR="pes_private_data_descriptor",e.PES_PRIVATE_DATA_ARRIVED="pes_private_data_arrived",e.STATISTICS_INFO="statistics_info",e.DESTROYING="destroying"}(r||(r={})),t.a=r},function(e,t,n){"use strict";var r={};!function(){var e=self.navigator.userAgent.toLowerCase(),t=/(edge)\/([\w.]+)/.exec(e)||/(opr)[\/]([\w.]+)/.exec(e)||/(chrome)[ \/]([\w.]+)/.exec(e)||/(iemobile)[\/]([\w.]+)/.exec(e)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(firefox)[ \/]([\w.]+)/.exec(e)||[],n=/(ipad)/.exec(e)||/(ipod)/.exec(e)||/(windows phone)/.exec(e)||/(iphone)/.exec(e)||/(kindle)/.exec(e)||/(android)/.exec(e)||/(windows)/.exec(e)||/(mac)/.exec(e)||/(linux)/.exec(e)||/(cros)/.exec(e)||[],a={browser:t[5]||t[3]||t[1]||"",version:t[2]||t[4]||"0",majorVersion:t[4]||t[2]||"0",platform:n[0]||""},i={};if(a.browser){i[a.browser]=!0;var o=a.majorVersion.split(".");i.version={major:parseInt(a.majorVersion,10),string:a.version},o.length>1&&(i.version.minor=parseInt(o[1],10)),o.length>2&&(i.version.build=parseInt(o[2],10))}for(var s in a.platform&&(i[a.platform]=!0),(i.chrome||i.opr||i.safari)&&(i.webkit=!0),(i.rv||i.iemobile)&&(i.rv&&delete i.rv,a.browser="msie",i.msie=!0),i.edge&&(delete i.edge,a.browser="msedge",i.msedge=!0),i.opr&&(a.browser="opera",i.opera=!0),i.safari&&i.android&&(a.browser="android",i.android=!0),i.name=a.browser,i.platform=a.platform,r)r.hasOwnProperty(s)&&delete r[s];Object.assign(r,i)}(),t.a=r},function(e,t,n){"use strict";t.a={OK:"OK",FORMAT_ERROR:"FormatError",FORMAT_UNSUPPORTED:"FormatUnsupported",CODEC_UNSUPPORTED:"CodecUnsupported"}},function(e,t,n){"use strict";var r;!function(e){e.ERROR="error",e.SOURCE_OPEN="source_open",e.UPDATE_END="update_end",e.BUFFER_FULL="buffer_full",e.START_STREAMING="start_streaming",e.END_STREAMING="end_streaming"}(r||(r={})),t.a=r},function(e,t,n){"use strict";var r=n(9),a=n.n(r),i=n(0),o=function(){function e(){}return Object.defineProperty(e,"forceGlobalTag",{get:function(){return i.a.FORCE_GLOBAL_TAG},set:function(t){i.a.FORCE_GLOBAL_TAG=t,e._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"globalTag",{get:function(){return i.a.GLOBAL_TAG},set:function(t){i.a.GLOBAL_TAG=t,e._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"enableAll",{get:function(){return i.a.ENABLE_VERBOSE&&i.a.ENABLE_DEBUG&&i.a.ENABLE_INFO&&i.a.ENABLE_WARN&&i.a.ENABLE_ERROR},set:function(t){i.a.ENABLE_VERBOSE=t,i.a.ENABLE_DEBUG=t,i.a.ENABLE_INFO=t,i.a.ENABLE_WARN=t,i.a.ENABLE_ERROR=t,e._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"enableDebug",{get:function(){return i.a.ENABLE_DEBUG},set:function(t){i.a.ENABLE_DEBUG=t,e._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"enableVerbose",{get:function(){return i.a.ENABLE_VERBOSE},set:function(t){i.a.ENABLE_VERBOSE=t,e._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"enableInfo",{get:function(){return i.a.ENABLE_INFO},set:function(t){i.a.ENABLE_INFO=t,e._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"enableWarn",{get:function(){return i.a.ENABLE_WARN},set:function(t){i.a.ENABLE_WARN=t,e._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"enableError",{get:function(){return i.a.ENABLE_ERROR},set:function(t){i.a.ENABLE_ERROR=t,e._notifyChange()},enumerable:!1,configurable:!0}),e.getConfig=function(){return{globalTag:i.a.GLOBAL_TAG,forceGlobalTag:i.a.FORCE_GLOBAL_TAG,enableVerbose:i.a.ENABLE_VERBOSE,enableDebug:i.a.ENABLE_DEBUG,enableInfo:i.a.ENABLE_INFO,enableWarn:i.a.ENABLE_WARN,enableError:i.a.ENABLE_ERROR,enableCallback:i.a.ENABLE_CALLBACK}},e.applyConfig=function(e){i.a.GLOBAL_TAG=e.globalTag,i.a.FORCE_GLOBAL_TAG=e.forceGlobalTag,i.a.ENABLE_VERBOSE=e.enableVerbose,i.a.ENABLE_DEBUG=e.enableDebug,i.a.ENABLE_INFO=e.enableInfo,i.a.ENABLE_WARN=e.enableWarn,i.a.ENABLE_ERROR=e.enableError,i.a.ENABLE_CALLBACK=e.enableCallback},e._notifyChange=function(){var t=e.emitter;if(t.listenerCount("change")>0){var n=e.getConfig();t.emit("change",n)}},e.registerListener=function(t){e.emitter.addListener("change",t)},e.removeListener=function(t){e.emitter.removeListener("change",t)},e.addLogListener=function(t){i.a.emitter.addListener("log",t),i.a.emitter.listenerCount("log")>0&&(i.a.ENABLE_CALLBACK=!0,e._notifyChange())},e.removeLogListener=function(t){i.a.emitter.removeListener("log",t),0===i.a.emitter.listenerCount("log")&&(i.a.ENABLE_CALLBACK=!1,e._notifyChange())},e}();o.emitter=new a.a,t.a=o},function(e,t,n){"use strict";var r,a="object"==typeof Reflect?Reflect:null,i=a&&"function"==typeof a.apply?a.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=a&&"function"==typeof a.ownKeys?a.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise(function(n,r){function a(n){e.removeListener(t,i),r(n)}function i(){"function"==typeof e.removeListener&&e.removeListener("error",a),n([].slice.call(arguments))}g(e,t,i,{once:!0}),"error"!==t&&function(e,t){"function"==typeof e.on&&g(e,"error",t,{once:!0})}(e,a)})},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var l=10;function c(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function d(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function u(e,t,n,r){var a,i,o,s;if(c(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),o=i[t]),void 0===o)o=i[t]=n,++e._eventsCount;else if("function"==typeof o?o=i[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),(a=d(e))>0&&o.length>a&&!o.warned){o.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=o.length,s=l,console&&console.warn&&console.warn(s)}return e}function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},a=p.bind(r);return a.listener=n,r.wrapFn=a,a}function m(e,t,n){var r=e._events;if(void 0===r)return[];var a=r[t];return void 0===a?[]:"function"==typeof a?n?[a.listener||a]:[a]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(a):A(a,a.length)}function f(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function A(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function g(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,function a(i){r.once&&e.removeEventListener(t,a),n(i)})}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return d(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,a=this._events;if(void 0!==a)r=r&&void 0===a.error;else if(!r)return!1;if(r){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var l=a[e];if(void 0===l)return!1;if("function"==typeof l)i(l,this,t);else{var c=l.length,d=A(l,c);for(n=0;n<c;++n)i(d[n],this,t)}return!0},s.prototype.addListener=function(e,t){return u(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return u(this,e,t,!0)},s.prototype.once=function(e,t){return c(t),this.on(e,h(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return c(t),this.prependListener(e,h(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,a,i,o;if(c(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(a=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){o=n[i].listener,a=i;break}if(a<0)return this;0===a?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,a),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,o||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var a,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(a=i[r])&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return m(this,e,!0)},s.prototype.rawListeners=function(e){return m(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},s.prototype.listenerCount=f,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o});var r=n(2),a=n(6),i={NETWORK_ERROR:"NetworkError",MEDIA_ERROR:"MediaError",OTHER_ERROR:"OtherError"},o={NETWORK_EXCEPTION:r.b.EXCEPTION,NETWORK_STATUS_CODE_INVALID:r.b.HTTP_STATUS_CODE_INVALID,NETWORK_TIMEOUT:r.b.CONNECTING_TIMEOUT,NETWORK_UNRECOVERABLE_EARLY_EOF:r.b.UNRECOVERABLE_EARLY_EOF,MEDIA_MSE_ERROR:"MediaMSEError",MEDIA_FORMAT_ERROR:a.a.FORMAT_ERROR,MEDIA_FORMAT_UNSUPPORTED:a.a.FORMAT_UNSUPPORTED,MEDIA_CODEC_UNSUPPORTED:a.a.CODEC_UNSUPPORTED}},function(e,t,n){"use strict";n.d(t,"d",function(){return r}),n.d(t,"b",function(){return a}),n.d(t,"a",function(){return i}),n.d(t,"c",function(){return o});var r=function(e,t,n,r,a){this.dts=e,this.pts=t,this.duration=n,this.originalDts=r,this.isSyncPoint=a,this.fileposition=null},a=function(){function e(){this.beginDts=0,this.endDts=0,this.beginPts=0,this.endPts=0,this.originalBeginDts=0,this.originalEndDts=0,this.syncPoints=[],this.firstSample=null,this.lastSample=null}return e.prototype.appendSyncPoint=function(e){e.isSyncPoint=!0,this.syncPoints.push(e)},e}(),i=function(){function e(){this._list=[]}return e.prototype.clear=function(){this._list=[]},e.prototype.appendArray=function(e){var t=this._list;0!==e.length&&(t.length>0&&e[0].originalDts<t[t.length-1].originalDts&&this.clear(),Array.prototype.push.apply(t,e))},e.prototype.getLastSyncPointBeforeDts=function(e){if(0==this._list.length)return null;var t=this._list,n=0,r=t.length-1,a=0,i=0,o=r;for(e<t[0].dts&&(n=0,i=o+1);i<=o;){if((a=i+Math.floor((o-i)/2))===r||e>=t[a].dts&&e<t[a+1].dts){n=a;break}t[a].dts<e?i=a+1:o=a-1}return this._list[n]},e}(),o=function(){function e(e){this._type=e,this._list=[],this._lastAppendLocation=-1}return Object.defineProperty(e.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._list.length},enumerable:!1,configurable:!0}),e.prototype.isEmpty=function(){return 0===this._list.length},e.prototype.clear=function(){this._list=[],this._lastAppendLocation=-1},e.prototype._searchNearestSegmentBefore=function(e){var t=this._list;if(0===t.length)return-2;var n=t.length-1,r=0,a=0,i=n,o=0;if(e<t[0].originalBeginDts)return-1;for(;a<=i;){if((r=a+Math.floor((i-a)/2))===n||e>t[r].lastSample.originalDts&&e<t[r+1].originalBeginDts){o=r;break}t[r].originalBeginDts<e?a=r+1:i=r-1}return o},e.prototype._searchNearestSegmentAfter=function(e){return this._searchNearestSegmentBefore(e)+1},e.prototype.append=function(e){var t=this._list,n=e,r=this._lastAppendLocation,a=0;-1!==r&&r<t.length&&n.originalBeginDts>=t[r].lastSample.originalDts&&(r===t.length-1||r<t.length-1&&n.originalBeginDts<t[r+1].originalBeginDts)?a=r+1:t.length>0&&(a=this._searchNearestSegmentBefore(n.originalBeginDts)+1),this._lastAppendLocation=a,this._list.splice(a,0,n)},e.prototype.getLastSegmentBefore=function(e){var t=this._searchNearestSegmentBefore(e);return t>=0?this._list[t]:null},e.prototype.getLastSampleBefore=function(e){var t=this.getLastSegmentBefore(e);return null!=t?t.lastSample:null},e.prototype.getLastSyncPointBefore=function(e){for(var t=this._searchNearestSegmentBefore(e),n=this._list[t].syncPoints;0===n.length&&t>0;)t--,n=this._list[t].syncPoints;return n.length>0?n[n.length-1]:null},e}()},function(e,t,n){"use strict";var r=function(){function e(){this.mimeType=null,this.duration=null,this.hasAudio=null,this.hasVideo=null,this.audioCodec=null,this.videoCodec=null,this.audioDataRate=null,this.videoDataRate=null,this.audioSampleRate=null,this.audioChannelCount=null,this.width=null,this.height=null,this.fps=null,this.profile=null,this.level=null,this.refFrames=null,this.chromaFormat=null,this.sarNum=null,this.sarDen=null,this.metadata=null,this.segments=null,this.segmentCount=null,this.hasKeyframesIndex=null,this.keyframesIndex=null}return e.prototype.isComplete=function(){var e=!1===this.hasAudio||!0===this.hasAudio&&null!=this.audioCodec&&null!=this.audioSampleRate&&null!=this.audioChannelCount,t=!1===this.hasVideo||!0===this.hasVideo&&null!=this.videoCodec&&null!=this.width&&null!=this.height&&null!=this.fps&&null!=this.profile&&null!=this.level&&null!=this.refFrames&&null!=this.chromaFormat&&null!=this.sarNum&&null!=this.sarDen;return null!=this.mimeType&&e&&t},e.prototype.isSeekable=function(){return!0===this.hasKeyframesIndex},e.prototype.getNearestKeyframe=function(e){if(null==this.keyframesIndex)return null;var t=this.keyframesIndex,n=this._search(t.times,e);return{index:n,milliseconds:t.times[n],fileposition:t.filepositions[n]}},e.prototype._search=function(e,t){var n=0,r=e.length-1,a=0,i=0,o=r;for(t<e[0]&&(n=0,i=o+1);i<=o;){if((a=i+Math.floor((o-i)/2))===r||t>=e[a]&&t<e[a+1]){n=a;break}e[a]<t?i=a+1:o=a-1}return n},e}();t.a=r},function(e,t,n){"use strict";var r=n(9),a=n.n(r),i=n(0),o=n(5),s=n(12);function l(e,t,n){var r=e;if(t+n<r.length){for(;n--;)if(128!=(192&r[++t]))return!1;return!0}return!1}var c,d=function(e){for(var t=[],n=e,r=0,a=e.length;r<a;)if(n[r]<128)t.push(String.fromCharCode(n[r])),++r;else{if(n[r]<192);else if(n[r]<224){if(l(n,r,1)&&(i=(31&n[r])<<6|63&n[r+1])>=128){t.push(String.fromCharCode(65535&i)),r+=2;continue}}else if(n[r]<240){if(l(n,r,2)&&(i=(15&n[r])<<12|(63&n[r+1])<<6|63&n[r+2])>=2048&&55296!=(63488&i)){t.push(String.fromCharCode(65535&i)),r+=3;continue}}else if(n[r]<248){var i;if(l(n,r,3)&&(i=(7&n[r])<<18|(63&n[r+1])<<12|(63&n[r+2])<<6|63&n[r+3])>65536&&i<1114112){i-=65536,t.push(String.fromCharCode(i>>>10|55296)),t.push(String.fromCharCode(1023&i|56320)),r+=4;continue}}t.push(String.fromCharCode(65533)),++r}return t.join("")},u=n(3),p=(c=new ArrayBuffer(2),new DataView(c).setInt16(0,256,!0),256===new Int16Array(c)[0]),h=function(){function e(){}return e.parseScriptData=function(t,n,r){var a={};try{var o=e.parseValue(t,n,r),s=e.parseValue(t,n+o.size,r-o.size);a[o.data]=s.data}catch(e){i.a.e("AMF",e.toString())}return a},e.parseObject=function(t,n,r){if(r<3)throw new u.a("Data not enough when parse ScriptDataObject");var a=e.parseString(t,n,r),i=e.parseValue(t,n+a.size,r-a.size),o=i.objectEnd;return{data:{name:a.data,value:i.data},size:a.size+i.size,objectEnd:o}},e.parseVariable=function(t,n,r){return e.parseObject(t,n,r)},e.parseString=function(e,t,n){if(n<2)throw new u.a("Data not enough when parse String");var r=new DataView(e,t,n).getUint16(0,!p);return{data:r>0?d(new Uint8Array(e,t+2,r)):"",size:2+r}},e.parseLongString=function(e,t,n){if(n<4)throw new u.a("Data not enough when parse LongString");var r=new DataView(e,t,n).getUint32(0,!p);return{data:r>0?d(new Uint8Array(e,t+4,r)):"",size:4+r}},e.parseDate=function(e,t,n){if(n<10)throw new u.a("Data size invalid when parse Date");var r=new DataView(e,t,n),a=r.getFloat64(0,!p),i=r.getInt16(8,!p);return{data:new Date(a+=60*i*1e3),size:10}},e.parseValue=function(t,n,r){if(r<1)throw new u.a("Data not enough when parse Value");var a,o=new DataView(t,n,r),s=1,l=o.getUint8(0),c=!1;try{switch(l){case 0:a=o.getFloat64(1,!p),s+=8;break;case 1:a=!!o.getUint8(1),s+=1;break;case 2:var d=e.parseString(t,n+1,r-1);a=d.data,s+=d.size;break;case 3:a={};var h=0;for(9==(16777215&o.getUint32(r-4,!p))&&(h=3);s<r-4;){var m=e.parseObject(t,n+s,r-s-h);if(m.objectEnd)break;a[m.data.name]=m.data.value,s+=m.size}s<=r-3&&9==(16777215&o.getUint32(s-1,!p))&&(s+=3);break;case 8:for(a={},s+=4,h=0,9==(16777215&o.getUint32(r-4,!p))&&(h=3);s<r-8;){var f=e.parseVariable(t,n+s,r-s-h);if(f.objectEnd)break;a[f.data.name]=f.data.value,s+=f.size}s<=r-3&&9==(16777215&o.getUint32(s-1,!p))&&(s+=3);break;case 9:a=void 0,s=1,c=!0;break;case 10:a=[];var A=o.getUint32(1,!p);s+=4;for(var g=0;g<A;g++){var _=e.parseValue(t,n+s,r-s);a.push(_.data),s+=_.size}break;case 11:var y=e.parseDate(t,n+1,r-1);a=y.data,s+=y.size;break;case 12:var v=e.parseString(t,n+1,r-1);a=v.data,s+=v.size;break;default:s=r,i.a.w("AMF","Unsupported AMF value type "+l)}}catch(e){i.a.e("AMF",e.toString())}return{data:a,size:s,objectEnd:c}},e}(),m=function(){function e(e){this.TAG="ExpGolomb",this._buffer=e,this._buffer_index=0,this._total_bytes=e.byteLength,this._total_bits=8*e.byteLength,this._current_word=0,this._current_word_bits_left=0}return e.prototype.destroy=function(){this._buffer=null},e.prototype._fillCurrentWord=function(){var e=this._total_bytes-this._buffer_index;if(e<=0)throw new u.a("ExpGolomb: _fillCurrentWord() but no bytes available");var t=Math.min(4,e),n=new Uint8Array(4);n.set(this._buffer.subarray(this._buffer_index,this._buffer_index+t)),this._current_word=new DataView(n.buffer).getUint32(0,!1),this._buffer_index+=t,this._current_word_bits_left=8*t},e.prototype.readBits=function(e){if(e>32)throw new u.b("ExpGolomb: readBits() bits exceeded max 32bits!");if(e<=this._current_word_bits_left){var t=this._current_word>>>32-e;return this._current_word<<=e,this._current_word_bits_left-=e,t}var n=this._current_word_bits_left?this._current_word:0;n>>>=32-this._current_word_bits_left;var r=e-this._current_word_bits_left;this._fillCurrentWord();var a=Math.min(r,this._current_word_bits_left),i=this._current_word>>>32-a;return this._current_word<<=a,this._current_word_bits_left-=a,n<<a|i},e.prototype.readBool=function(){return 1===this.readBits(1)},e.prototype.readByte=function(){return this.readBits(8)},e.prototype._skipLeadingZero=function(){var e;for(e=0;e<this._current_word_bits_left;e++)if(this._current_word&2147483648>>>e)return this._current_word<<=e,this._current_word_bits_left-=e,e;return this._fillCurrentWord(),e+this._skipLeadingZero()},e.prototype.readUEG=function(){var e=this._skipLeadingZero();return this.readBits(e+1)-1},e.prototype.readSEG=function(){var e=this.readUEG();return 1&e?e+1>>>1:-1*(e>>>1)},e}(),f=function(){function e(){}return e._ebsp2rbsp=function(e){for(var t=e,n=t.byteLength,r=new Uint8Array(n),a=0,i=0;i<n;i++)i>=2&&3===t[i]&&0===t[i-1]&&0===t[i-2]||(r[a]=t[i],a++);return new Uint8Array(r.buffer,0,a)},e.parseSPS=function(t){for(var n=t.subarray(1,4),r="avc1.",a=0;a<3;a++){var i=n[a].toString(16);i.length<2&&(i="0"+i),r+=i}var o=e._ebsp2rbsp(t),s=new m(o);s.readByte();var l=s.readByte();s.readByte();var c=s.readByte();s.readUEG();var d=e.getProfileString(l),u=e.getLevelString(c),p=1,h=420,f=8,A=8;if((100===l||110===l||122===l||244===l||44===l||83===l||86===l||118===l||128===l||138===l||144===l)&&(3===(p=s.readUEG())&&s.readBits(1),p<=3&&(h=[0,420,422,444][p]),f=s.readUEG()+8,A=s.readUEG()+8,s.readBits(1),s.readBool()))for(var g=3!==p?8:12,_=0;_<g;_++)s.readBool()&&(_<6?e._skipScalingList(s,16):e._skipScalingList(s,64));s.readUEG();var y=s.readUEG();if(0===y)s.readUEG();else if(1===y){s.readBits(1),s.readSEG(),s.readSEG();var v=s.readUEG();for(_=0;_<v;_++)s.readSEG()}var E=s.readUEG();s.readBits(1);var C=s.readUEG(),b=s.readUEG(),x=s.readBits(1);0===x&&s.readBits(1),s.readBits(1);var w=0,B=0,S=0,k=0;s.readBool()&&(w=s.readUEG(),B=s.readUEG(),S=s.readUEG(),k=s.readUEG());var T=1,I=1,R=0,L=!0,D=0,O=0;if(s.readBool()){if(s.readBool()){var N=s.readByte();N>0&&N<16?(T=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2][N-1],I=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1][N-1]):255===N&&(T=s.readByte()<<8|s.readByte(),I=s.readByte()<<8|s.readByte())}if(s.readBool()&&s.readBool(),s.readBool()&&(s.readBits(4),s.readBool()&&s.readBits(24)),s.readBool()&&(s.readUEG(),s.readUEG()),s.readBool()){var P=s.readBits(32),M=s.readBits(32);L=s.readBool(),R=(D=M)/(O=2*P)}}var U=1;1===T&&1===I||(U=T/I);var F=0,z=0;0===p?(F=1,z=2-x):(F=3===p?1:2,z=(1===p?2:1)*(2-x));var j=16*(C+1),V=16*(b+1)*(2-x);j-=(w+B)*F,V-=(S+k)*z;var G=Math.ceil(j*U);return s.destroy(),s=null,{codec_mimetype:r,profile_idc:l,level_idc:c,profile_string:d,level_string:u,chroma_format_idc:p,bit_depth:f,bit_depth_luma:f,bit_depth_chroma:A,ref_frames:E,chroma_format:h,chroma_format_string:e.getChromaFormatString(h),frame_rate:{fixed:L,fps:R,fps_den:O,fps_num:D},sar_ratio:{width:T,height:I},codec_size:{width:j,height:V},present_size:{width:G,height:V}}},e._skipScalingList=function(e,t){for(var n=8,r=8,a=0;a<t;a++)0!==r&&(r=(n+e.readSEG()+256)%256),n=0===r?n:r},e.getProfileString=function(e){switch(e){case 66:return"Baseline";case 77:return"Main";case 88:return"Extended";case 100:return"High";case 110:return"High10";case 122:return"High422";case 244:return"High444";default:return"Unknown"}},e.getLevelString=function(e){return(e/10).toFixed(1)},e.getChromaFormatString=function(e){switch(e){case 420:return"4:2:0";case 422:return"4:2:2";case 444:return"4:4:4";default:return"Unknown"}},e}(),A=n(6),g=function(){function e(){}return e._ebsp2rbsp=function(e){for(var t=e,n=t.byteLength,r=new Uint8Array(n),a=0,i=0;i<n;i++)i>=2&&3===t[i]&&0===t[i-1]&&0===t[i-2]||(r[a]=t[i],a++);return new Uint8Array(r.buffer,0,a)},e.parseVPS=function(t){var n=e._ebsp2rbsp(t),r=new m(n);return r.readByte(),r.readByte(),r.readBits(4),r.readBits(2),r.readBits(6),{num_temporal_layers:r.readBits(3)+1,temporal_id_nested:r.readBool()}},e.parseSPS=function(t){var n=e._ebsp2rbsp(t),r=new m(n);r.readByte(),r.readByte();for(var a=0,i=0,o=0,s=0,l=(r.readBits(4),r.readBits(3)),c=(r.readBool(),r.readBits(2)),d=r.readBool(),u=r.readBits(5),p=r.readByte(),h=r.readByte(),f=r.readByte(),A=r.readByte(),g=r.readByte(),_=r.readByte(),y=r.readByte(),v=r.readByte(),E=r.readByte(),C=r.readByte(),b=r.readByte(),x=[],w=[],B=0;B<l;B++)x.push(r.readBool()),w.push(r.readBool());if(l>0)for(B=l;B<8;B++)r.readBits(2);for(B=0;B<l;B++)x[B]&&(r.readByte(),r.readByte(),r.readByte(),r.readByte(),r.readByte(),r.readByte(),r.readByte(),r.readByte(),r.readByte(),r.readByte(),r.readByte()),w[B]&&r.readByte();r.readUEG();var S=r.readUEG();3==S&&r.readBits(1);var k=r.readUEG(),T=r.readUEG();r.readBool()&&(a+=r.readUEG(),i+=r.readUEG(),o+=r.readUEG(),s+=r.readUEG());var I=r.readUEG(),R=r.readUEG(),L=r.readUEG();for(B=r.readBool()?0:l;B<=l;B++)r.readUEG(),r.readUEG(),r.readUEG();if(r.readUEG(),r.readUEG(),r.readUEG(),r.readUEG(),r.readUEG(),r.readUEG(),r.readBool()&&r.readBool())for(var D=0;D<4;D++)for(var O=0;O<(3===D?2:6);O++)if(r.readBool()){var N=Math.min(64,1<<4+(D<<1));for(D>1&&r.readSEG(),B=0;B<N;B++)r.readSEG()}else r.readUEG();r.readBool(),r.readBool(),r.readBool()&&(r.readByte(),r.readUEG(),r.readUEG(),r.readBool());var P=r.readUEG(),M=0;for(B=0;B<P;B++){var U=!1;if(0!==B&&(U=r.readBool()),U){B===P&&r.readUEG(),r.readBool(),r.readUEG();for(var F=0,z=0;z<=M;z++){var j=r.readBool(),V=!1;j||(V=r.readBool()),(j||V)&&F++}M=F}else{var G=r.readUEG(),q=r.readUEG();for(M=G+q,z=0;z<G;z++)r.readUEG(),r.readBool();for(z=0;z<q;z++)r.readUEG(),r.readBool()}}if(r.readBool()){var W=r.readUEG();for(B=0;B<W;B++){for(z=0;z<L+4;z++)r.readBits(1);r.readBits(1)}}var H=0,Y=1,Q=1,K=!1,$=1,X=1;if(r.readBool(),r.readBool(),r.readBool()){if(r.readBool()){var Z=r.readByte();Z>0&&Z<=16?(Y=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2][Z-1],Q=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1][Z-1]):255===Z&&(Y=r.readBits(16),Q=r.readBits(16))}if(r.readBool()&&r.readBool(),r.readBool()&&(r.readBits(3),r.readBool(),r.readBool()&&(r.readByte(),r.readByte(),r.readByte())),r.readBool()&&(r.readUEG(),r.readUEG()),r.readBool(),r.readBool(),r.readBool(),r.readBool()&&(r.readUEG(),r.readUEG(),r.readUEG(),r.readUEG()),r.readBool()&&($=r.readBits(32),X=r.readBits(32),r.readBool()&&r.readUEG(),r.readBool())){var J,ee,te=!1;for(J=r.readBool(),ee=r.readBool(),(J||ee)&&((te=r.readBool())&&(r.readByte(),r.readBits(5),r.readBool(),r.readBits(5)),r.readBits(4),r.readBits(4),te&&r.readBits(4),r.readBits(5),r.readBits(5),r.readBits(5)),B=0;B<=l;B++){var ne=r.readBool();K=ne;var re=!0,ae=1;ne||(re=r.readBool());var ie=!1;if(re?r.readUEG():ie=r.readBool(),ie||(ae=r.readUEG()+1),J){for(z=0;z<ae;z++)r.readUEG(),r.readUEG(),te&&(r.readUEG(),r.readUEG());r.readBool()}if(ee){for(z=0;z<ae;z++)r.readUEG(),r.readUEG(),te&&(r.readUEG(),r.readUEG());r.readBool()}}}r.readBool()&&(r.readBool(),r.readBool(),r.readBool(),H=r.readUEG(),r.readUEG(),r.readUEG(),r.readUEG(),r.readUEG())}r.readBool();var oe="hvc1.".concat(u,".1.L").concat(b,".B0"),se=k-(a+i)*(1===S||2===S?2:1),le=T-(o+s)*(1===S?2:1),ce=1;return 1!==Y&&1!==Q&&(ce=Y/Q),r.destroy(),r=null,{codec_mimetype:oe,profile_string:e.getProfileString(u),level_string:e.getLevelString(b),profile_idc:u,bit_depth:I+8,ref_frames:1,chroma_format:S,chroma_format_string:e.getChromaFormatString(S),general_level_idc:b,general_profile_space:c,general_tier_flag:d,general_profile_idc:u,general_profile_compatibility_flags_1:p,general_profile_compatibility_flags_2:h,general_profile_compatibility_flags_3:f,general_profile_compatibility_flags_4:A,general_constraint_indicator_flags_1:g,general_constraint_indicator_flags_2:_,general_constraint_indicator_flags_3:y,general_constraint_indicator_flags_4:v,general_constraint_indicator_flags_5:E,general_constraint_indicator_flags_6:C,min_spatial_segmentation_idc:H,constant_frame_rate:0,chroma_format_idc:S,bit_depth_luma_minus8:I,bit_depth_chroma_minus8:R,frame_rate:{fixed:K,fps:X/$,fps_den:$,fps_num:X},sar_ratio:{width:Y,height:Q},codec_size:{width:se,height:le},present_size:{width:se*ce,height:le}}},e.parsePPS=function(t){var n=e._ebsp2rbsp(t),r=new m(n);r.readByte(),r.readByte(),r.readUEG(),r.readUEG(),r.readBool(),r.readBool(),r.readBits(3),r.readBool(),r.readBool(),r.readUEG(),r.readUEG(),r.readSEG(),r.readBool(),r.readBool(),r.readBool()&&r.readUEG(),r.readSEG(),r.readSEG(),r.readBool(),r.readBool(),r.readBool(),r.readBool();var a=r.readBool(),i=r.readBool(),o=1;return i&&a?o=0:i?o=3:a&&(o=2),{parallelismType:o}},e.getChromaFormatString=function(e){switch(e){case 0:return"4:0:0";case 1:return"4:2:0";case 2:return"4:2:2";case 3:return"4:4:4";default:return"Unknown"}},e.getProfileString=function(e){switch(e){case 1:return"Main";case 2:return"Main10";case 3:return"MainSP";case 4:return"Rext";case 9:return"SCC";default:return"Unknown"}},e.getLevelString=function(e){return(e/30).toFixed(1)},e}();function _(e){return e.byteOffset%2==0&&e.byteLength%2==0}function y(e){return e.byteOffset%4==0&&e.byteLength%4==0}function v(e,t){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}var E,C=function(e,t){return e.byteLength===t.byteLength&&(y(e)&&y(t)?function(e,t){return v(new Uint32Array(e.buffer,e.byteOffset,e.byteLength/4),new Uint32Array(t.buffer,t.byteOffset,t.byteLength/4))}(e,t):_(e)&&_(t)?function(e,t){return v(new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2),new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2))}(e,t):function(e,t){return v(e,t)}(e,t))},b=function(){return(b=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},x=function(){function e(){}return e.parseOBUs=function(t,n){for(var r=0;r<t.byteLength;){var a=r,i=(t[r],(120&t[r])>>3),o=!!(4&t[r]),s=!!(2&t[r]);t[r],r+=1,o&&(r+=1);var l=Number.POSITIVE_INFINITY;if(s){l=0;for(var c=0;;c++){var d=t[r++];if(l|=(127&d)<<7*c,!(128&d))break}}console.log(i),1===i?n=b(b({},e.parseSeuqneceHeader(t.subarray(r,r+l))),{sequence_header_data:t.subarray(a,r+l)}):(3==i&&n||6==i&&n)&&(n=e.parseOBUFrameHeader(t.subarray(r,r+l),0,0,n)),r+=l}return n},e.parseSeuqneceHeader=function(t){var n=new m(t),r=n.readBits(3),a=(n.readBool(),n.readBool()),i=!0,o=0,s=1,l=void 0,c=[];if(a)c.push({operating_point_idc:0,level:n.readBits(5),tier:0});else{if(n.readBool()){var d=n.readBits(32),u=n.readBits(32),p=n.readBool();if(p){for(var h=0;0===n.readBits(1);)h+=1;h>=32||n.readBits(h)}o=u,s=d,i=p,n.readBool()&&(n.readBits(5),n.readBits(32),l=n.readBits(5),n.readBits(5))}for(var f=n.readBool(),A=n.readBits(5),g=0;g<=A;g++){var _=n.readBits(12),y=n.readBits(5),v=y>7?n.readBits(1):0;c.push({operating_point_idc:_,level:y,tier:v}),f&&n.readBool()&&n.readBits(4)}}var E=c[0],C=E.level,b=E.tier,x=n.readBits(4),w=n.readBits(4),B=n.readBits(x+1)+1,S=n.readBits(w+1)+1,k=!1;a||(k=n.readBool()),k&&(n.readBits(4),n.readBits(4)),n.readBool(),n.readBool(),n.readBool();var T=!1,I=2,R=2,L=0;a||(n.readBool(),n.readBool(),n.readBool(),n.readBool(),(T=n.readBool())&&(n.readBool(),n.readBool()),R=(I=n.readBool()?2:n.readBits(1))?n.readBool()?2:n.readBits(1):2,L=T?n.readBits(3)+1:0);var D=n.readBool(),O=(n.readBool(),n.readBool(),n.readBool()),N=8;N=2===r&&O?n.readBool()?12:10:O?10:8;var P=!1;1!==r&&(P=n.readBool()),n.readBool()&&(n.readBits(8),n.readBits(8),n.readBits(8));var M=1,U=1;return P?(n.readBits(1),M=1,U=1):(n.readBits(1),0==r?(M=1,U=1):1==r?(M=0,U=0):12==N?n.readBits(1)&&n.readBits(1):(M=1,U=0),M&&U&&n.readBits(2),n.readBits(1)),n.readBool(),n.destroy(),n=null,{codec_mimetype:"av01.".concat(r,".").concat(e.getLevelString(C,b),".").concat(N.toString(10).padStart(2,"0")),level:C,tier:b,level_string:e.getLevelString(C,b),profile_idc:r,profile_string:"".concat(r),bit_depth:N,ref_frames:1,chroma_format:e.getChromaFormat(P,M,U),chroma_format_string:e.getChromaFormatString(P,M,U),sequence_header:{frame_id_numbers_present_flag:k,additional_frame_id_length_minus_1:void 0,delta_frame_id_length_minus_2:void 0,reduced_still_picture_header:a,decoder_model_info_present_flag:!1,operating_points:c,buffer_removal_time_length_minus_1:l,equal_picture_interval:i,seq_force_screen_content_tools:I,seq_force_integer_mv:R,enable_order_hint:T,order_hint_bits:L,enable_superres:D,frame_width_bit:x+1,frame_height_bit:w+1,max_frame_width:B,max_frame_height:S},keyframe:void 0,frame_rate:{fixed:i,fps:o/s,fps_den:s,fps_num:o}}},e.parseOBUFrameHeader=function(t,n,r,a){var i=a.sequence_header,o=new m(t),s=(i.max_frame_width,i.max_frame_height,0);i.frame_id_numbers_present_flag&&(s=i.additional_frame_id_length_minus_1+i.delta_frame_id_length_minus_2+3);var l=0,c=!0,d=!0,u=!1;if(!i.reduced_still_picture_header){if(o.readBool())return a;c=2===(l=o.readBits(2))||0===l,(d=o.readBool())&&i.decoder_model_info_present_flag&&i.equal_picture_interval,d&&o.readBool(),u=!!(3===l||0===l&&d)||o.readBool()}a.keyframe=c,o.readBool();var p=i.seq_force_screen_content_tools;2===i.seq_force_screen_content_tools&&(p=o.readBits(1)),p&&(i.seq_force_integer_mv,2==i.seq_force_integer_mv&&o.readBits(1)),i.frame_id_numbers_present_flag&&o.readBits(s);var h;if(h=3==l||!i.reduced_still_picture_header&&o.readBool(),o.readBits(i.order_hint_bits),c||u||o.readBits(3),i.decoder_model_info_present_flag&&o.readBool())for(var f=0;f<=i.operating_points_cnt_minus_1;f++)if(i.operating_points[f].decoder_model_present_for_this_op[f]){var A=i.operating_points[f].operating_point_idc;(0===A||A>>n&1&&A>>r+8&1)&&o.readBits(i.buffer_removal_time_length_minus_1+1)}var g=255;if(3===l||0==l&&d||(g=o.readBits(8)),(c||255!==g)&&u&&i.enable_order_hint)for(var _=0;_<8;_++)o.readBits(i.order_hint_bits);if(c){var y=e.frameSizeAndRenderSize(o,h,i);a.codec_size={width:y.FrameWidth,height:y.FrameHeight},a.present_size={width:y.RenderWidth,height:y.RenderHeight},a.sar_ratio={width:y.RenderWidth/y.FrameWidth,height:y.RenderHeight/y.FrameHeight}}return o.destroy(),o=null,a},e.frameSizeAndRenderSize=function(e,t,n){var r=n.max_frame_width,a=n.max_frame_height;t&&(r=e.readBits(n.frame_width_bit)+1,a=e.readBits(n.frame_height_bit)+1);var i=!1;n.enable_superres&&(i=e.readBool());var o=8;i&&(o=e.readBits(3)+9);var s=r;r=Math.floor((8*s+o/2)/o);var l=s,c=a;if(e.readBool()){var d=e.readBits(16)+1,u=e.readBits(16)+1;l=e.readBits(d)+1,c=e.readBits(u)+1}return{UpscaledWidth:s,FrameWidth:r,FrameHeight:a,RenderWidth:l,RenderHeight:c}},e.getLevelString=function(e,t){return"".concat(e.toString(10).padStart(2,"0")).concat(0===t?"M":"H")},e.getChromaFormat=function(e,t,n){return e?0:0===t&&0===n?3:1===t&&0===n?2:1===t&&1===n?1:Number.NaN},e.getChromaFormatString=function(e,t,n){return e?"4:0:0":0===t&&0===n?"4:4:4":1===t&&0===n?"4:2:2":1===t&&1===n?"4:2:0":"Unknown"},e}(),w=function(){function e(e,t){this.TAG="FLVDemuxer",this._config=t,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null,this._dataOffset=e.dataOffset,this._firstParse=!0,this._dispatch=!1,this._hasAudio=e.hasAudioTrack,this._hasVideo=e.hasVideoTrack,this._hasAudioFlagOverrided=!1,this._hasVideoFlagOverrided=!1,this._audioInitialMetadataDispatched=!1,this._videoInitialMetadataDispatched=!1,this._mediaInfo=new s.a,this._mediaInfo.hasAudio=this._hasAudio,this._mediaInfo.hasVideo=this._hasVideo,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._naluLengthSize=4,this._timestampBase=0,this._timescale=1e3,this._duration=0,this._durationOverrided=!1,this._referenceFrameRate={fixed:!0,fps:23.976,fps_num:23976,fps_den:1e3},this._flvSoundRateTable=[5500,11025,22050,44100,48e3],this._mpegSamplingRates=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],this._mpegAudioV10SampleRateTable=[44100,48e3,32e3,0],this._mpegAudioV20SampleRateTable=[22050,24e3,16e3,0],this._mpegAudioV25SampleRateTable=[11025,12e3,8e3,0],this._mpegAudioL1BitRateTable=[0,32,64,96,128,160,192,224,256,288,320,352,384,416,448,-1],this._mpegAudioL2BitRateTable=[0,32,48,56,64,80,96,112,128,160,192,224,256,320,384,-1],this._mpegAudioL3BitRateTable=[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],this._videoTrack={type:"video",id:1,sequenceNumber:0,samples:[],length:0},this._audioTrack={type:"audio",id:2,sequenceNumber:0,samples:[],length:0},this._littleEndian=function(){var e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),256===new Int16Array(e)[0]}()}return e.prototype.destroy=function(){this._mediaInfo=null,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._videoTrack=null,this._audioTrack=null,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null},e.probe=function(e){var t=new Uint8Array(e);if(t.byteLength<9)return{needMoreData:!0};var n={match:!1};if(70!==t[0]||76!==t[1]||86!==t[2]||1!==t[3])return n;var r,a=(4&t[4])>>>2!=0,i=!!(1&t[4]),o=(r=t)[5]<<24|r[6]<<16|r[7]<<8|r[8];return o<9?n:{match:!0,consumed:o,dataOffset:o,hasAudioTrack:a,hasVideoTrack:i}},e.prototype.bindDataSource=function(e){return e.onDataArrival=this.parseChunks.bind(this),this},Object.defineProperty(e.prototype,"onTrackMetadata",{get:function(){return this._onTrackMetadata},set:function(e){this._onTrackMetadata=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onMediaInfo",{get:function(){return this._onMediaInfo},set:function(e){this._onMediaInfo=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onMetaDataArrived",{get:function(){return this._onMetaDataArrived},set:function(e){this._onMetaDataArrived=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onScriptDataArrived",{get:function(){return this._onScriptDataArrived},set:function(e){this._onScriptDataArrived=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onError",{get:function(){return this._onError},set:function(e){this._onError=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onDataAvailable",{get:function(){return this._onDataAvailable},set:function(e){this._onDataAvailable=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"timestampBase",{get:function(){return this._timestampBase},set:function(e){this._timestampBase=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"overridedDuration",{get:function(){return this._duration},set:function(e){this._durationOverrided=!0,this._duration=e,this._mediaInfo.duration=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"overridedHasAudio",{set:function(e){this._hasAudioFlagOverrided=!0,this._hasAudio=e,this._mediaInfo.hasAudio=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"overridedHasVideo",{set:function(e){this._hasVideoFlagOverrided=!0,this._hasVideo=e,this._mediaInfo.hasVideo=e},enumerable:!1,configurable:!0}),e.prototype.resetMediaInfo=function(){this._mediaInfo=new s.a},e.prototype._isInitialMetadataDispatched=function(){return this._hasAudio&&this._hasVideo?this._audioInitialMetadataDispatched&&this._videoInitialMetadataDispatched:this._hasAudio&&!this._hasVideo?this._audioInitialMetadataDispatched:!(this._hasAudio||!this._hasVideo)&&this._videoInitialMetadataDispatched},e.prototype.parseChunks=function(t,n){if(!(this._onError&&this._onMediaInfo&&this._onTrackMetadata&&this._onDataAvailable))throw new u.a("Flv: onError & onMediaInfo & onTrackMetadata & onDataAvailable callback must be specified");var r=0,a=this._littleEndian;if(0===n){if(!(t.byteLength>13))return 0;r=e.probe(t).dataOffset}for(this._firstParse&&(this._firstParse=!1,n+r!==this._dataOffset&&i.a.w(this.TAG,"First time parsing but chunk byteStart invalid!"),0!==(o=new DataView(t,r)).getUint32(0,!a)&&i.a.w(this.TAG,"PrevTagSize0 !== 0 !!!"),r+=4);r<t.byteLength;){this._dispatch=!0;var o=new DataView(t,r);if(r+11+4>t.byteLength)break;var s=o.getUint8(0),l=16777215&o.getUint32(0,!a);if(r+11+l+4>t.byteLength)break;if(8===s||9===s||18===s){var c=o.getUint8(4),d=o.getUint8(5),p=o.getUint8(6)|d<<8|c<<16|o.getUint8(7)<<24;16777215&o.getUint32(7,!a)&&i.a.w(this.TAG,"Meet tag which has StreamID != 0!");var h=r+11;switch(s){case 8:this._parseAudioData(t,h,l,p);break;case 9:this._parseVideoData(t,h,l,p,n+r);break;case 18:this._parseScriptData(t,h,l)}var m=o.getUint32(11+l,!a);m!==11+l&&i.a.w(this.TAG,"Invalid PrevTagSize ".concat(m)),r+=11+l+4}else i.a.w(this.TAG,"Unsupported tag type ".concat(s,", skipped")),r+=11+l+4}return this._isInitialMetadataDispatched()&&this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack),r},e.prototype._parseScriptData=function(e,t,n){var r=h.parseScriptData(e,t,n);if(r.hasOwnProperty("onMetaData")){if(null==r.onMetaData||"object"!=typeof r.onMetaData)return void i.a.w(this.TAG,"Invalid onMetaData structure!");this._metadata&&i.a.w(this.TAG,"Found another onMetaData tag!"),this._metadata=r;var a=this._metadata.onMetaData;if(this._onMetaDataArrived&&this._onMetaDataArrived(Object.assign({},a)),"boolean"==typeof a.hasAudio&&!1===this._hasAudioFlagOverrided&&(this._hasAudio=a.hasAudio,this._mediaInfo.hasAudio=this._hasAudio),"boolean"==typeof a.hasVideo&&!1===this._hasVideoFlagOverrided&&(this._hasVideo=a.hasVideo,this._mediaInfo.hasVideo=this._hasVideo),"number"==typeof a.audiodatarate&&(this._mediaInfo.audioDataRate=a.audiodatarate),"number"==typeof a.videodatarate&&(this._mediaInfo.videoDataRate=a.videodatarate),"number"==typeof a.width&&(this._mediaInfo.width=a.width),"number"==typeof a.height&&(this._mediaInfo.height=a.height),"number"==typeof a.duration){if(!this._durationOverrided){var o=Math.floor(a.duration*this._timescale);this._duration=o,this._mediaInfo.duration=o}}else this._mediaInfo.duration=0;if("number"==typeof a.framerate){var s=Math.floor(1e3*a.framerate);if(s>0){var l=s/1e3;this._referenceFrameRate.fixed=!0,this._referenceFrameRate.fps=l,this._referenceFrameRate.fps_num=s,this._referenceFrameRate.fps_den=1e3,this._mediaInfo.fps=l}}if("object"==typeof a.keyframes){this._mediaInfo.hasKeyframesIndex=!0;var c=a.keyframes;this._mediaInfo.keyframesIndex=this._parseKeyframesIndex(c),a.keyframes=null}else this._mediaInfo.hasKeyframesIndex=!1;this._dispatch=!1,this._mediaInfo.metadata=a,i.a.v(this.TAG,"Parsed onMetaData"),this._mediaInfo.isComplete()&&this._onMediaInfo(this._mediaInfo)}Object.keys(r).length>0&&this._onScriptDataArrived&&this._onScriptDataArrived(Object.assign({},r))},e.prototype._parseKeyframesIndex=function(e){for(var t=[],n=[],r=1;r<e.times.length;r++){var a=this._timestampBase+Math.floor(1e3*e.times[r]);t.push(a),n.push(e.filepositions[r])}return{times:t,filepositions:n}},e.prototype._parseAudioData=function(e,t,n,r){if(n<=1)i.a.w(this.TAG,"Flv: Invalid audio packet, missing SoundData payload!");else if(!0!==this._hasAudioFlagOverrided||!1!==this._hasAudio){this._littleEndian;var a=new DataView(e,t,n).getUint8(0),o=a>>>4;if(9!==o)if(2===o||10===o){var s=0,l=(12&a)>>>2;if(l>=0&&l<=4){s=this._flvSoundRateTable[l];var c=1&a,d=this._audioMetadata,u=this._audioTrack;if(d||(!1===this._hasAudio&&!1===this._hasAudioFlagOverrided&&(this._hasAudio=!0,this._mediaInfo.hasAudio=!0),(d=this._audioMetadata={}).type="audio",d.id=u.id,d.timescale=this._timescale,d.duration=this._duration,d.audioSampleRate=s,d.channelCount=0===c?1:2),10===o){var p=this._parseAACAudioData(e,t+1,n-1);if(null==p)return;if(0===p.packetType){if(d.config){if(C(p.data.config,d.config))return;i.a.w(this.TAG,"AudioSpecificConfig has been changed, re-generate initialization segment")}var h=p.data;d.audioSampleRate=h.samplingRate,d.channelCount=h.channelCount,d.codec=h.codec,d.originalCodec=h.originalCodec,d.config=h.config,d.refSampleDuration=1024/d.audioSampleRate*d.timescale,i.a.v(this.TAG,"Parsed AudioSpecificConfig"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._audioInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("audio",d),(g=this._mediaInfo).audioCodec=d.originalCodec,g.audioSampleRate=d.audioSampleRate,g.audioChannelCount=d.channelCount,g.hasVideo?null!=g.videoCodec&&(g.mimeType='video/x-flv; codecs="'+g.videoCodec+","+g.audioCodec+'"'):g.mimeType='video/x-flv; codecs="'+g.audioCodec+'"',g.isComplete()&&this._onMediaInfo(g)}else if(1===p.packetType){var m=this._timestampBase+r,f={unit:p.data,length:p.data.byteLength,dts:m,pts:m};u.samples.push(f),u.length+=p.data.length}else i.a.e(this.TAG,"Flv: Unsupported AAC data type ".concat(p.packetType))}else if(2===o){if(!d.codec){var g;if(null==(h=this._parseMP3AudioData(e,t+1,n-1,!0)))return;d.audioSampleRate=h.samplingRate,d.channelCount=h.channelCount,d.codec=h.codec,d.originalCodec=h.originalCodec,d.refSampleDuration=1152/d.audioSampleRate*d.timescale,i.a.v(this.TAG,"Parsed MPEG Audio Frame Header"),this._audioInitialMetadataDispatched=!0,this._onTrackMetadata("audio",d),(g=this._mediaInfo).audioCodec=d.codec,g.audioSampleRate=d.audioSampleRate,g.audioChannelCount=d.channelCount,g.audioDataRate=h.bitRate,g.hasVideo?null!=g.videoCodec&&(g.mimeType='video/x-flv; codecs="'+g.videoCodec+","+g.audioCodec+'"'):g.mimeType='video/x-flv; codecs="'+g.audioCodec+'"',g.isComplete()&&this._onMediaInfo(g)}var _=this._parseMP3AudioData(e,t+1,n-1,!1);if(null==_)return;m=this._timestampBase+r;var y={unit:_,length:_.byteLength,dts:m,pts:m};u.samples.push(y),u.length+=_.length}}else this._onError(A.a.FORMAT_ERROR,"Flv: Invalid audio sample rate idx: "+l)}else this._onError(A.a.CODEC_UNSUPPORTED,"Flv: Unsupported audio codec idx: "+o);else{if(n<=5)return void i.a.w(this.TAG,"Flv: Invalid audio packet, missing AudioFourCC in Ehnanced FLV payload!");var v=15&a,E=String.fromCharCode.apply(String,new Uint8Array(e,t,n).slice(1,5));switch(E){case"Opus":this._parseOpusAudioPacket(e,t+5,n-5,r,v);break;case"fLaC":this._parseFlacAudioPacket(e,t+5,n-5,r,v);break;default:this._onError(A.a.CODEC_UNSUPPORTED,"Flv: Unsupported audio codec: "+E)}}}},e.prototype._parseAACAudioData=function(e,t,n){if(!(n<=1)){var r={},a=new Uint8Array(e,t,n);return r.packetType=a[0],0===a[0]?r.data=this._parseAACAudioSpecificConfig(e,t+1,n-1):r.data=a.subarray(1),r}i.a.w(this.TAG,"Flv: Invalid AAC packet, missing AACPacketType or/and Data!")},e.prototype._parseAACAudioSpecificConfig=function(e,t,n){var r,a,i=new Uint8Array(e,t,n),o=null,s=0,l=null;if(s=r=i[0]>>>3,(a=(7&i[0])<<1|i[1]>>>7)<0||a>=this._mpegSamplingRates.length)this._onError(A.a.FORMAT_ERROR,"Flv: AAC invalid sampling frequency index!");else{var c=this._mpegSamplingRates[a],d=(120&i[1])>>>3;if(!(d<0||d>=8)){5===s&&(l=(7&i[1])<<1|i[2]>>>7,i[2]);var u=self.navigator.userAgent.toLowerCase();return-1!==u.indexOf("firefox")?a>=6?(s=5,o=new Array(4),l=a-3):(s=2,o=new Array(2),l=a):-1!==u.indexOf("android")?(s=2,o=new Array(2),l=a):(s=5,l=a,o=new Array(4),a>=6?l=a-3:1===d&&(s=2,o=new Array(2),l=a)),o[0]=s<<3,o[0]|=(15&a)>>>1,o[1]=(15&a)<<7,o[1]|=(15&d)<<3,5===s&&(o[1]|=(15&l)>>>1,o[2]=(1&l)<<7,o[2]|=8,o[3]=0),{config:o,samplingRate:c,channelCount:d,codec:"mp4a.40."+s,originalCodec:"mp4a.40."+r}}this._onError(A.a.FORMAT_ERROR,"Flv: AAC invalid channel configuration")}},e.prototype._parseMP3AudioData=function(e,t,n,r){if(!(n<4)){this._littleEndian;var a=new Uint8Array(e,t,n),o=null;if(r){if(255!==a[0])return;var s=a[1]>>>3&3,l=(6&a[1])>>1,c=(240&a[2])>>>4,d=(12&a[2])>>>2,u=3&~(a[3]>>>6)?2:1,p=0,h=0;switch(s){case 0:p=this._mpegAudioV25SampleRateTable[d];break;case 2:p=this._mpegAudioV20SampleRateTable[d];break;case 3:p=this._mpegAudioV10SampleRateTable[d]}switch(l){case 1:c<this._mpegAudioL3BitRateTable.length&&(h=this._mpegAudioL3BitRateTable[c]);break;case 2:c<this._mpegAudioL2BitRateTable.length&&(h=this._mpegAudioL2BitRateTable[c]);break;case 3:c<this._mpegAudioL1BitRateTable.length&&(h=this._mpegAudioL1BitRateTable[c])}o={bitRate:h,samplingRate:p,channelCount:u,codec:"mp3",originalCodec:"mp3"}}else o=a;return o}i.a.w(this.TAG,"Flv: Invalid MP3 packet, header missing!")},e.prototype._parseOpusAudioPacket=function(e,t,n,r,a){if(0===a)this._parseOpusSequenceHeader(e,t,n);else if(1===a)this._parseOpusAudioData(e,t,n,r);else if(2!==a)return void this._onError(A.a.FORMAT_ERROR,"Flv: Invalid video packet type ".concat(a))},e.prototype._parseOpusSequenceHeader=function(e,t,n){if(n<=16)i.a.w(this.TAG,"Flv: Invalid OpusSequenceHeader, lack of data!");else{var r=this._audioMetadata,a=this._audioTrack;r||(!1===this._hasAudio&&!1===this._hasAudioFlagOverrided&&(this._hasAudio=!0,this._mediaInfo.hasAudio=!0),(r=this._audioMetadata={}).type="audio",r.id=a.id,r.timescale=this._timescale,r.duration=this._duration);var o=new DataView(e,t,n);o.setUint8(8,0);var s=o.getUint8(9);o.setUint16(10,o.getUint16(10,!0),!1);var l=o.getUint32(12,!0);o.setUint32(12,o.getUint32(12,!0),!1);var c={config:new Uint8Array(e,t+8,n-8),channelCount:s,samplingFrequence:l,codec:"opus",originalCodec:"opus"};if(r.config){if(C(c.config,r.config))return;i.a.w(this.TAG,"OpusSequenceHeader has been changed, re-generate initialization segment")}r.audioSampleRate=c.samplingFrequence,r.channelCount=c.channelCount,r.codec=c.codec,r.originalCodec=c.originalCodec,r.config=c.config,r.refSampleDuration=20,i.a.v(this.TAG,"Parsed OpusSequenceHeader"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._audioInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("audio",r);var d=this._mediaInfo;d.audioCodec=r.originalCodec,d.audioSampleRate=r.audioSampleRate,d.audioChannelCount=r.channelCount,d.hasVideo?null!=d.videoCodec&&(d.mimeType='video/x-flv; codecs="'+d.videoCodec+","+d.audioCodec+'"'):d.mimeType='video/x-flv; codecs="'+d.audioCodec+'"',d.isComplete()&&this._onMediaInfo(d)}},e.prototype._parseOpusAudioData=function(e,t,n,r){var a=this._audioTrack,i=new Uint8Array(e,t,n),o=this._timestampBase+r,s={unit:i,length:i.byteLength,dts:o,pts:o};a.samples.push(s),a.length+=i.length},e.prototype._parseFlacAudioPacket=function(e,t,n,r,a){if(0===a)this._parseFlacSequenceHeader(e,t,n);else if(1===a)this._parseFlacAudioData(e,t,n,r);else if(2!==a)return void this._onError(A.a.FORMAT_ERROR,"Flv: Invalid Flac audio packet type ".concat(a))},e.prototype._parseFlacSequenceHeader=function(e,t,n){var r=this._audioMetadata,a=this._audioTrack;r||(!1===this._hasAudio&&!1===this._hasAudioFlagOverrided&&(this._hasAudio=!0,this._mediaInfo.hasAudio=!0),(r=this._audioMetadata={}).type="audio",r.id=a.id,r.timescale=this._timescale,r.duration=this._duration);var o=new Uint8Array(e,t+4,n-4),s=new m(o),l=s.readBits(16),c=s.readBits(16),d=c===l?c:null;s.readBits(24),s.readBits(24);var u=s.readBits(20),p=s.readBits(3)+1,h=s.readBits(5)+1;s.destroy();var f=new Uint8Array(o.byteLength+4);f.set(o,4),f[0]=128,f[1]=o.byteLength>>>16&255,f[2]=o.byteLength>>>8&255,f[3]=o.byteLength>>>0&255;var A={config:f,channelCount:p,samplingFrequence:u,sampleSize:h,codec:"flac",originalCodec:"flac"};if(r.config){if(C(A.config,r.config))return;i.a.w(this.TAG,"FlacSequenceHeader has been changed, re-generate initialization segment")}r.audioSampleRate=A.samplingFrequence,r.channelCount=A.channelCount,r.sampleSize=A.sampleSize,r.codec=A.codec,r.originalCodec=A.originalCodec,r.config=A.config,r.refSampleDuration=null!=d?1e3*d/A.samplingFrequence:null,i.a.v(this.TAG,"Parsed FlacSequenceHeader"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._audioInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("audio",r);var g=this._mediaInfo;g.audioCodec=r.originalCodec,g.audioSampleRate=r.audioSampleRate,g.audioChannelCount=r.channelCount,g.hasVideo?null!=g.videoCodec&&(g.mimeType='video/x-flv; codecs="'+g.videoCodec+","+g.audioCodec+'"'):g.mimeType='video/x-flv; codecs="'+g.audioCodec+'"',g.isComplete()&&this._onMediaInfo(g)},e.prototype._parseFlacAudioData=function(e,t,n,r){var a=this._audioTrack,i=new Uint8Array(e,t,n),o=this._timestampBase+r,s={unit:i,length:i.byteLength,dts:o,pts:o};a.samples.push(s),a.length+=i.length},e.prototype._parseVideoData=function(e,t,n,r,a){if(n<=1)i.a.w(this.TAG,"Flv: Invalid video packet, missing VideoData payload!");else if(!0!==this._hasVideoFlagOverrided||!1!==this._hasVideo){var o=new Uint8Array(e,t,n)[0],s=(112&o)>>>4;if(128&o){var l=15&o,c=String.fromCharCode.apply(String,new Uint8Array(e,t,n).slice(1,5));if("hvc1"===c)this._parseEnhancedHEVCVideoPacket(e,t+5,n-5,r,a,s,l);else{if("av01"!==c)return void this._onError(A.a.CODEC_UNSUPPORTED,"Flv: Unsupported codec in video frame: ".concat(c));this._parseEnhancedAV1VideoPacket(e,t+5,n-5,r,a,s,l)}}else{var d=15&o;if(7===d)this._parseAVCVideoPacket(e,t+1,n-1,r,a,s);else{if(12!==d)return void this._onError(A.a.CODEC_UNSUPPORTED,"Flv: Unsupported codec in video frame: ".concat(d));this._parseHEVCVideoPacket(e,t+1,n-1,r,a,s)}}}},e.prototype._parseAVCVideoPacket=function(e,t,n,r,a,o){if(n<4)i.a.w(this.TAG,"Flv: Invalid AVC packet, missing AVCPacketType or/and CompositionTime");else{var s=this._littleEndian,l=new DataView(e,t,n),c=l.getUint8(0),d=(16777215&l.getUint32(0,!s))<<8>>8;if(0===c)this._parseAVCDecoderConfigurationRecord(e,t+4,n-4);else if(1===c)this._parseAVCVideoData(e,t+4,n-4,r,a,o,d);else if(2!==c)return void this._onError(A.a.FORMAT_ERROR,"Flv: Invalid video packet type ".concat(c))}},e.prototype._parseHEVCVideoPacket=function(e,t,n,r,a,o){if(n<4)i.a.w(this.TAG,"Flv: Invalid HEVC packet, missing HEVCPacketType or/and CompositionTime");else{var s=this._littleEndian,l=new DataView(e,t,n),c=l.getUint8(0),d=(16777215&l.getUint32(0,!s))<<8>>8;if(0===c)this._parseHEVCDecoderConfigurationRecord(e,t+4,n-4);else if(1===c)this._parseHEVCVideoData(e,t+4,n-4,r,a,o,d);else if(2!==c)return void this._onError(A.a.FORMAT_ERROR,"Flv: Invalid video packet type ".concat(c))}},e.prototype._parseEnhancedHEVCVideoPacket=function(e,t,n,r,a,i,o){var s=this._littleEndian,l=new DataView(e,t,n);if(0===o)this._parseHEVCDecoderConfigurationRecord(e,t,n);else if(1===o){var c=(4294967040&l.getUint32(0,!s))>>8;this._parseHEVCVideoData(e,t+3,n-3,r,a,i,c)}else if(3===o)this._parseHEVCVideoData(e,t,n,r,a,i,0);else if(2!==o)return void this._onError(A.a.FORMAT_ERROR,"Flv: Invalid video packet type ".concat(o))},e.prototype._parseEnhancedAV1VideoPacket=function(e,t,n,r,a,i,o){if(this._littleEndian,new DataView(e,t,n),0===o)this._parseAV1CodecConfigurationRecord(e,t,n);else if(1===o)this._parseAV1VideoData(e,t,n,r,a,i,0);else{if(5===o)return void this._onError(A.a.FORMAT_ERROR,"Flv: Not Supported MP2T AV1 video packet type ".concat(o));if(2!==o)return void this._onError(A.a.FORMAT_ERROR,"Flv: Invalid video packet type ".concat(o))}},e.prototype._parseAVCDecoderConfigurationRecord=function(e,t,n){if(n<7)i.a.w(this.TAG,"Flv: Invalid AVCDecoderConfigurationRecord, lack of data!");else{var r=this._videoMetadata,a=this._videoTrack,o=this._littleEndian,s=new DataView(e,t,n);if(r){if(void 0!==r.avcc){var l=new Uint8Array(e,t,n);if(C(l,r.avcc))return;i.a.w(this.TAG,"AVCDecoderConfigurationRecord has been changed, re-generate initialization segment")}}else!1===this._hasVideo&&!1===this._hasVideoFlagOverrided&&(this._hasVideo=!0,this._mediaInfo.hasVideo=!0),(r=this._videoMetadata={}).type="video",r.id=a.id,r.timescale=this._timescale,r.duration=this._duration;var c=s.getUint8(0),d=s.getUint8(1);if(s.getUint8(2),s.getUint8(3),1===c&&0!==d)if(this._naluLengthSize=1+(3&s.getUint8(4)),3===this._naluLengthSize||4===this._naluLengthSize){var u=31&s.getUint8(5);if(0!==u){u>1&&i.a.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: SPS Count = ".concat(u));for(var p=6,h=0;h<u;h++){var m=s.getUint16(p,!o);if(p+=2,0!==m){var g=new Uint8Array(e,t+p,m);p+=m;var _=f.parseSPS(g);if(0===h){r.codecWidth=_.codec_size.width,r.codecHeight=_.codec_size.height,r.presentWidth=_.present_size.width,r.presentHeight=_.present_size.height,r.profile=_.profile_string,r.level=_.level_string,r.bitDepth=_.bit_depth,r.chromaFormat=_.chroma_format,r.sarRatio=_.sar_ratio,r.frameRate=_.frame_rate,!1!==_.frame_rate.fixed&&0!==_.frame_rate.fps_num&&0!==_.frame_rate.fps_den||(r.frameRate=this._referenceFrameRate);var y=r.frameRate.fps_den,v=r.frameRate.fps_num;r.refSampleDuration=r.timescale*(y/v);for(var E=g.subarray(1,4),b="avc1.",x=0;x<3;x++){var w=E[x].toString(16);w.length<2&&(w="0"+w),b+=w}r.codec=b;var B=this._mediaInfo;B.width=r.codecWidth,B.height=r.codecHeight,B.fps=r.frameRate.fps,B.profile=r.profile,B.level=r.level,B.refFrames=_.ref_frames,B.chromaFormat=_.chroma_format_string,B.sarNum=r.sarRatio.width,B.sarDen=r.sarRatio.height,B.videoCodec=b,B.hasAudio?null!=B.audioCodec&&(B.mimeType='video/x-flv; codecs="'+B.videoCodec+","+B.audioCodec+'"'):B.mimeType='video/x-flv; codecs="'+B.videoCodec+'"',B.isComplete()&&this._onMediaInfo(B)}}}var S=s.getUint8(p);if(0!==S){for(S>1&&i.a.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: PPS Count = ".concat(S)),p++,h=0;h<S;h++)m=s.getUint16(p,!o),p+=2,0!==m&&(p+=m);r.avcc=new Uint8Array(n),r.avcc.set(new Uint8Array(e,t,n),0),i.a.v(this.TAG,"Parsed AVCDecoderConfigurationRecord"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._videoInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("video",r)}else this._onError(A.a.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No PPS")}else this._onError(A.a.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No SPS")}else this._onError(A.a.FORMAT_ERROR,"Flv: Strange NaluLengthSizeMinusOne: ".concat(this._naluLengthSize-1));else this._onError(A.a.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord")}},e.prototype._parseHEVCDecoderConfigurationRecord=function(e,t,n){if(n<22)i.a.w(this.TAG,"Flv: Invalid HEVCDecoderConfigurationRecord, lack of data!");else{var r=this._videoMetadata,a=this._videoTrack,o=this._littleEndian,s=new DataView(e,t,n);if(r){if(void 0!==r.hvcc){var l=new Uint8Array(e,t,n);if(C(l,r.hvcc))return;i.a.w(this.TAG,"HEVCDecoderConfigurationRecord has been changed, re-generate initialization segment")}}else!1===this._hasVideo&&!1===this._hasVideoFlagOverrided&&(this._hasVideo=!0,this._mediaInfo.hasVideo=!0),(r=this._videoMetadata={}).type="video",r.id=a.id,r.timescale=this._timescale,r.duration=this._duration;var c=s.getUint8(0),d=31&s.getUint8(1);if(0!==c&&1!==c||0===d)this._onError(A.a.FORMAT_ERROR,"Flv: Invalid HEVCDecoderConfigurationRecord");else if(this._naluLengthSize=1+(3&s.getUint8(21)),3===this._naluLengthSize||4===this._naluLengthSize){for(var u=s.getUint8(22),p=0,h=23;p<u;p++){var m=63&s.getUint8(h+0),f=s.getUint16(h+1,!o);h+=3;for(var _=0;_<f;_++){var y=s.getUint16(h+0,!o);if(0===_)if(33===m){h+=2;var v=new Uint8Array(e,t+h,y),E=g.parseSPS(v);r.codecWidth=E.codec_size.width,r.codecHeight=E.codec_size.height,r.presentWidth=E.present_size.width,r.presentHeight=E.present_size.height,r.profile=E.profile_string,r.level=E.level_string,r.bitDepth=E.bit_depth,r.chromaFormat=E.chroma_format,r.sarRatio=E.sar_ratio,r.frameRate=E.frame_rate,!1!==E.frame_rate.fixed&&0!==E.frame_rate.fps_num&&0!==E.frame_rate.fps_den||(r.frameRate=this._referenceFrameRate);var b=r.frameRate.fps_den,x=r.frameRate.fps_num;r.refSampleDuration=r.timescale*(b/x),r.codec=E.codec_mimetype;var w=this._mediaInfo;w.width=r.codecWidth,w.height=r.codecHeight,w.fps=r.frameRate.fps,w.profile=r.profile,w.level=r.level,w.refFrames=E.ref_frames,w.chromaFormat=E.chroma_format_string,w.sarNum=r.sarRatio.width,w.sarDen=r.sarRatio.height,w.videoCodec=E.codec_mimetype,w.hasAudio?null!=w.audioCodec&&(w.mimeType='video/x-flv; codecs="'+w.videoCodec+","+w.audioCodec+'"'):w.mimeType='video/x-flv; codecs="'+w.videoCodec+'"',w.isComplete()&&this._onMediaInfo(w),h+=y}else h+=2+y;else h+=2+y}}r.hvcc=new Uint8Array(n),r.hvcc.set(new Uint8Array(e,t,n),0),i.a.v(this.TAG,"Parsed HEVCDecoderConfigurationRecord"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._videoInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("video",r)}else this._onError(A.a.FORMAT_ERROR,"Flv: Strange NaluLengthSizeMinusOne: ".concat(this._naluLengthSize-1))}},e.prototype._parseAV1CodecConfigurationRecord=function(e,t,n){if(n<4)i.a.w(this.TAG,"Flv: Invalid AV1CodecConfigurationRecord, lack of data!");else{var r=this._videoMetadata,a=this._videoTrack,o=(this._littleEndian,new DataView(e,t,n));r?void 0!==r.av1c&&i.a.w(this.TAG,"Found another AV1CodecConfigurationRecord!"):(!1===this._hasVideo&&!1===this._hasVideoFlagOverrided&&(this._hasVideo=!0,this._mediaInfo.hasVideo=!0),(r=this._videoMetadata={}).type="video",r.id=a.id,r.timescale=this._timescale,r.duration=this._duration);var s=127&o.getUint8(0);if(o.getUint8(1),o.getUint8(1),o.getUint8(2),1===s){var l=x.parseOBUs(new Uint8Array(e,t+4,n-4));if(null!=l){r.profile=l.profile_string,r.level=l.level_string,r.bitDepth=l.bit_depth,r.chromaFormat=l.chroma_format,r.frameRate=l.frame_rate,!1!==l.frame_rate.fixed&&0!==l.frame_rate.fps_num&&0!==l.frame_rate.fps_den||(r.frameRate=this._referenceFrameRate);var c=r.frameRate.fps_den,d=r.frameRate.fps_num;r.refSampleDuration=r.timescale*(c/d),r.codec=l.codec_mimetype,r.extra=l;var u=this._mediaInfo;u.fps=r.frameRate.fps,u.profile=r.profile,u.level=r.level,u.refFrames=l.ref_frames,u.chromaFormat=l.chroma_format_string,u.videoCodec=l.codec_mimetype,u.hasAudio?null!=u.audioCodec&&(u.mimeType='video/x-flv; codecs="'+u.videoCodec+","+u.audioCodec+'"'):u.mimeType='video/x-flv; codecs="'+u.videoCodec+'"',u.isComplete()&&this._onMediaInfo(u),r.av1c=new Uint8Array(n),r.av1c.set(new Uint8Array(e,t,n),0),i.a.v(this.TAG,"Preparing AV1CodecConfigurationRecord")}else this._onError(A.a.FORMAT_ERROR,"Flv: Invalid AV1CodecConfigurationRecord")}else this._onError(A.a.FORMAT_ERROR,"Flv: Invalid AV1CodecConfigurationRecord")}},e.prototype._parseAVCVideoData=function(e,t,n,r,a,o,s){for(var l=this._littleEndian,c=new DataView(e,t,n),d=[],u=0,p=0,h=this._naluLengthSize,m=this._timestampBase+r,f=1===o;p<n;){if(p+4>=n){i.a.w(this.TAG,"Malformed Nalu near timestamp ".concat(m,", offset = ").concat(p,", dataSize = ").concat(n));break}var A=c.getUint32(p,!l);if(3===h&&(A>>>=8),A>n-h)return void i.a.w(this.TAG,"Malformed Nalus near timestamp ".concat(m,", NaluSize > DataSize!"));var g=31&c.getUint8(p+h);5===g&&(f=!0);var _=new Uint8Array(e,t+p,h+A),y={type:g,data:_};d.push(y),u+=_.byteLength,p+=h+A}if(d.length){var v=this._videoTrack,E={units:d,length:u,isKeyframe:f,dts:m,cts:s,pts:m+s};f&&(E.fileposition=a),v.samples.push(E),v.length+=u}},e.prototype._parseHEVCVideoData=function(e,t,n,r,a,o,s){for(var l=this._littleEndian,c=new DataView(e,t,n),d=[],u=0,p=0,h=this._naluLengthSize,m=this._timestampBase+r,f=1===o;p<n;){if(p+4>=n){i.a.w(this.TAG,"Malformed Nalu near timestamp ".concat(m,", offset = ").concat(p,", dataSize = ").concat(n));break}var A=c.getUint32(p,!l);if(3===h&&(A>>>=8),A>n-h)return void i.a.w(this.TAG,"Malformed Nalus near timestamp ".concat(m,", NaluSize > DataSize!"));var g=c.getUint8(p+h)>>1&63;19!==g&&20!==g&&21!==g||(f=!0);var _=new Uint8Array(e,t+p,h+A),y={type:g,data:_};d.push(y),u+=_.byteLength,p+=h+A}if(d.length){var v=this._videoTrack,E={units:d,length:u,isKeyframe:f,dts:m,cts:s,pts:m+s};f&&(E.fileposition=a),v.samples.push(E),v.length+=u}},e.prototype._parseAV1VideoData=function(e,t,n,r,a,o,s){this._littleEndian,new DataView(e,t,n);var l,c=[],d=this._timestampBase+r,u=1===o;if(u){var p=this._videoMetadata,h=x.parseOBUs(new Uint8Array(e,t,n),p.extra);if(null==h)return void this._onError(A.a.FORMAT_ERROR,"Flv: Invalid AV1 VideoData");console.log(h),p.codecWidth=h.codec_size.width,p.codecHeight=h.codec_size.height,p.presentWidth=h.present_size.width,p.presentHeight=h.present_size.height,p.sarRatio=h.sar_ratio;var m=this._mediaInfo;m.width=p.codecWidth,m.height=p.codecHeight,m.sarNum=p.sarRatio.width,m.sarDen=p.sarRatio.height,i.a.v(this.TAG,"Parsed AV1DecoderConfigurationRecord"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._videoInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("video",p)}if(l=n,c.push({unitType:0,data:new Uint8Array(e,t+0,n)}),c.length){var f=this._videoTrack,g={units:c,length:l,isKeyframe:u,dts:d,cts:s,pts:d+s};u&&(g.fileposition=a),f.samples.push(g),f.length+=l}},e}(),B=function(){function e(){}return e.prototype.destroy=function(){this.onError=null,this.onMediaInfo=null,this.onMetaDataArrived=null,this.onTrackMetadata=null,this.onDataAvailable=null,this.onTimedID3Metadata=null,this.onSynchronousKLVMetadata=null,this.onAsynchronousKLVMetadata=null,this.onSMPTE2038Metadata=null,this.onSCTE35Metadata=null,this.onPESPrivateData=null,this.onPESPrivateDataDescriptor=null},e}(),S=function(){this.program_pmt_pid={}};!function(e){e[e.kMPEG1Audio=3]="kMPEG1Audio",e[e.kMPEG2Audio=4]="kMPEG2Audio",e[e.kPESPrivateData=6]="kPESPrivateData",e[e.kADTSAAC=15]="kADTSAAC",e[e.kLOASAAC=17]="kLOASAAC",e[e.kAC3=129]="kAC3",e[e.kEAC3=135]="kEAC3",e[e.kMetadata=21]="kMetadata",e[e.kSCTE35=134]="kSCTE35",e[e.kH264=27]="kH264",e[e.kH265=36]="kH265"}(E||(E={}));var k,T=function(){this.pid_stream_type={},this.common_pids={h264:void 0,h265:void 0,av1:void 0,adts_aac:void 0,loas_aac:void 0,opus:void 0,ac3:void 0,eac3:void 0,mp3:void 0},this.pes_private_data_pids={},this.timed_id3_pids={},this.synchronous_klv_pids={},this.asynchronous_klv_pids={},this.scte_35_pids={},this.smpte2038_pids={}},I=function(){},R=function(){},L=function(){this.slices=[],this.total_length=0,this.expected_length=0,this.file_position=0};!function(e){e[e.kUnspecified=0]="kUnspecified",e[e.kSliceNonIDR=1]="kSliceNonIDR",e[e.kSliceDPA=2]="kSliceDPA",e[e.kSliceDPB=3]="kSliceDPB",e[e.kSliceDPC=4]="kSliceDPC",e[e.kSliceIDR=5]="kSliceIDR",e[e.kSliceSEI=6]="kSliceSEI",e[e.kSliceSPS=7]="kSliceSPS",e[e.kSlicePPS=8]="kSlicePPS",e[e.kSliceAUD=9]="kSliceAUD",e[e.kEndOfSequence=10]="kEndOfSequence",e[e.kEndOfStream=11]="kEndOfStream",e[e.kFiller=12]="kFiller",e[e.kSPSExt=13]="kSPSExt",e[e.kReserved0=14]="kReserved0"}(k||(k={}));var D,O,N=function(){},P=function(e){var t=e.data.byteLength;this.type=e.type,this.data=new Uint8Array(4+t),new DataView(this.data.buffer).setUint32(0,t),this.data.set(e.data,4)},M=function(){function e(e){this.TAG="H264AnnexBParser",this.current_startcode_offset_=0,this.eof_flag_=!1,this.data_=e,this.current_startcode_offset_=this.findNextStartCodeOffset(0),this.eof_flag_&&i.a.e(this.TAG,"Could not find H264 startcode until payload end!")}return e.prototype.findNextStartCodeOffset=function(e){for(var t=e,n=this.data_;;){if(t+3>=n.byteLength)return this.eof_flag_=!0,n.byteLength;var r=n[t+0]<<24|n[t+1]<<16|n[t+2]<<8|n[t+3],a=n[t+0]<<16|n[t+1]<<8|n[t+2];if(1===r||1===a)return t;t++}},e.prototype.readNextNaluPayload=function(){for(var e=this.data_,t=null;null==t&&!this.eof_flag_;){var n=this.current_startcode_offset_,r=31&e[n+=1==(e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3])?4:3],a=(128&e[n])>>>7,i=this.findNextStartCodeOffset(n);if(this.current_startcode_offset_=i,!(r>=k.kReserved0)&&0===a){var o=e.subarray(n,i);(t=new N).type=r,t.data=o}}return t},e}(),U=function(){function e(e,t,n){var r=8+e.byteLength+1+2+t.byteLength,a=!1;66!==e[3]&&77!==e[3]&&88!==e[3]&&(a=!0,r+=4);var i=this.data=new Uint8Array(r);i[0]=1,i[1]=e[1],i[2]=e[2],i[3]=e[3],i[4]=255,i[5]=225;var o=e.byteLength;i[6]=o>>>8,i[7]=255&o;var s=8;i.set(e,8),i[s+=o]=1;var l=t.byteLength;i[s+1]=l>>>8,i[s+2]=255&l,i.set(t,s+3),s+=3+l,a&&(i[s]=252|n.chroma_format_idc,i[s+1]=248|n.bit_depth_luma-8,i[s+2]=248|n.bit_depth_chroma-8,i[s+3]=0,s+=4)}return e.prototype.getData=function(){return this.data},e}();!function(e){e[e.kNull=0]="kNull",e[e.kAACMain=1]="kAACMain",e[e.kAAC_LC=2]="kAAC_LC",e[e.kAAC_SSR=3]="kAAC_SSR",e[e.kAAC_LTP=4]="kAAC_LTP",e[e.kAAC_SBR=5]="kAAC_SBR",e[e.kAAC_Scalable=6]="kAAC_Scalable",e[e.kLayer1=32]="kLayer1",e[e.kLayer2=33]="kLayer2",e[e.kLayer3=34]="kLayer3"}(D||(D={})),function(e){e[e.k96000Hz=0]="k96000Hz",e[e.k88200Hz=1]="k88200Hz",e[e.k64000Hz=2]="k64000Hz",e[e.k48000Hz=3]="k48000Hz",e[e.k44100Hz=4]="k44100Hz",e[e.k32000Hz=5]="k32000Hz",e[e.k24000Hz=6]="k24000Hz",e[e.k22050Hz=7]="k22050Hz",e[e.k16000Hz=8]="k16000Hz",e[e.k12000Hz=9]="k12000Hz",e[e.k11025Hz=10]="k11025Hz",e[e.k8000Hz=11]="k8000Hz",e[e.k7350Hz=12]="k7350Hz"}(O||(O={}));var F,z,j=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],V=(F=function(e,t){return(F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}F(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),G=function(){},q=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return V(t,e),t}(G),W=function(){function e(e){this.TAG="AACADTSParser",this.data_=e,this.current_syncword_offset_=this.findNextSyncwordOffset(0),this.eof_flag_&&i.a.e(this.TAG,"Could not found ADTS syncword until payload end")}return e.prototype.findNextSyncwordOffset=function(e){for(var t=e,n=this.data_;;){if(t+7>=n.byteLength)return this.eof_flag_=!0,n.byteLength;if(4095==(n[t+0]<<8|n[t+1])>>>4)return t;t++}},e.prototype.readNextAACFrame=function(){for(var e=this.data_,t=null;null==t&&!this.eof_flag_;){var n=this.current_syncword_offset_,r=(8&e[n+1])>>>3,a=(6&e[n+1])>>>1,i=1&e[n+1],o=(192&e[n+2])>>>6,s=(60&e[n+2])>>>2,l=(1&e[n+2])<<2|(192&e[n+3])>>>6,c=(3&e[n+3])<<11|e[n+4]<<3|(224&e[n+5])>>>5;if(e[n+6],n+c>this.data_.byteLength){this.eof_flag_=!0,this.has_last_incomplete_data=!0;break}var d=1===i?7:9,u=c-d;n+=d;var p=this.findNextSyncwordOffset(n+u);if(this.current_syncword_offset_=p,(0===r||1===r)&&0===a){var h=e.subarray(n,n+u);(t=new G).audio_object_type=o+1,t.sampling_freq_index=s,t.sampling_frequency=j[s],t.channel_config=l,t.data=h}}return t},e.prototype.hasIncompleteData=function(){return this.has_last_incomplete_data},e.prototype.getIncompleteData=function(){return this.has_last_incomplete_data?this.data_.subarray(this.current_syncword_offset_):null},e}(),H=function(){function e(e){this.TAG="AACLOASParser",this.data_=e,this.current_syncword_offset_=this.findNextSyncwordOffset(0),this.eof_flag_&&i.a.e(this.TAG,"Could not found LOAS syncword until payload end")}return e.prototype.findNextSyncwordOffset=function(e){for(var t=e,n=this.data_;;){if(t+1>=n.byteLength)return this.eof_flag_=!0,n.byteLength;if(695==(n[t+0]<<3|n[t+1]>>>5))return t;t++}},e.prototype.getLATMValue=function(e){for(var t=e.readBits(2),n=0,r=0;r<=t;r++)n<<=8,n|=e.readByte();return n},e.prototype.readNextAACFrame=function(e){for(var t=this.data_,n=null;null==n&&!this.eof_flag_;){var r=this.current_syncword_offset_,a=(31&t[r+1])<<8|t[r+2];if(r+3+a>=this.data_.byteLength){this.eof_flag_=!0,this.has_last_incomplete_data=!0;break}var o=new m(t.subarray(r+3,r+3+a)),s=null;if(o.readBool()){if(null==e){i.a.w(this.TAG,"StreamMuxConfig Missing"),this.current_syncword_offset_=this.findNextSyncwordOffset(r+3+a),o.destroy();continue}s=e}else{var l=o.readBool();if(l&&o.readBool()){i.a.e(this.TAG,"audioMuxVersionA is Not Supported"),o.destroy();break}if(l&&this.getLATMValue(o),!o.readBool()){i.a.e(this.TAG,"allStreamsSameTimeFraming zero is Not Supported"),o.destroy();break}if(0!==o.readBits(6)){i.a.e(this.TAG,"more than 2 numSubFrames Not Supported"),o.destroy();break}if(0!==o.readBits(4)){i.a.e(this.TAG,"more than 2 numProgram Not Supported"),o.destroy();break}if(0!==o.readBits(3)){i.a.e(this.TAG,"more than 2 numLayer Not Supported"),o.destroy();break}var c=l?this.getLATMValue(o):0,d=o.readBits(5);c-=5;var u=o.readBits(4);c-=4;var p=o.readBits(4);c-=4,o.readBits(3),(c-=3)>0&&o.readBits(c);var h=o.readBits(3);if(0!==h){i.a.e(this.TAG,"frameLengthType = ".concat(h,". Only frameLengthType = 0 Supported")),o.destroy();break}o.readByte();var f=o.readBool();if(f)if(l)this.getLATMValue(o);else{for(var A=0;;){A<<=8;var g=o.readBool();if(A+=o.readByte(),!g)break}console.log(A)}o.readBool()&&o.readByte(),(s=new q).audio_object_type=d,s.sampling_freq_index=u,s.sampling_frequency=j[s.sampling_freq_index],s.channel_config=p,s.other_data_present=f}for(var _=0;;){var y=o.readByte();if(_+=y,255!==y)break}for(var v=new Uint8Array(_),E=0;E<_;E++)v[E]=o.readByte();(n=new q).audio_object_type=s.audio_object_type,n.sampling_freq_index=s.sampling_freq_index,n.sampling_frequency=j[s.sampling_freq_index],n.channel_config=s.channel_config,n.other_data_present=s.other_data_present,n.data=v,this.current_syncword_offset_=this.findNextSyncwordOffset(r+3+a)}return n},e.prototype.hasIncompleteData=function(){return this.has_last_incomplete_data},e.prototype.getIncompleteData=function(){return this.has_last_incomplete_data?this.data_.subarray(this.current_syncword_offset_):null},e}(),Y=function(e){var t=null,n=e.audio_object_type,r=e.audio_object_type,a=e.sampling_freq_index,i=e.channel_config,o=0,s=navigator.userAgent.toLowerCase();-1!==s.indexOf("firefox")?a>=6?(r=5,t=new Array(4),o=a-3):(r=2,t=new Array(2),o=a):-1!==s.indexOf("android")?(r=2,t=new Array(2),o=a):(r=5,o=a,t=new Array(4),a>=6?o=a-3:1===i&&(r=2,t=new Array(2),o=a)),t[0]=r<<3,t[0]|=(15&a)>>>1,t[1]=(15&a)<<7,t[1]|=(15&i)<<3,5===r&&(t[1]|=(15&o)>>>1,t[2]=(1&o)<<7,t[2]|=8,t[3]=0),this.config=t,this.sampling_rate=j[a],this.channel_count=i,this.codec_mimetype="mp4a.40."+r,this.original_codec_mimetype="mp4a.40."+n},Q=function(){},K=function(){};!function(e){e[e.kSpliceNull=0]="kSpliceNull",e[e.kSpliceSchedule=4]="kSpliceSchedule",e[e.kSpliceInsert=5]="kSpliceInsert",e[e.kTimeSignal=6]="kTimeSignal",e[e.kBandwidthReservation=7]="kBandwidthReservation",e[e.kPrivateCommand=255]="kPrivateCommand"}(z||(z={}));var $,X=function(e){var t=e.readBool();return t?(e.readBits(6),{time_specified_flag:t,pts_time:4*e.readBits(31)+e.readBits(2)}):(e.readBits(7),{time_specified_flag:t})},Z=function(e){var t=e.readBool();return e.readBits(6),{auto_return:t,duration:4*e.readBits(31)+e.readBits(2)}},J=function(e,t){var n=t.readBits(8);return e?{component_tag:n}:{component_tag:n,splice_time:X(t)}},ee=function(e){return{component_tag:e.readBits(8),utc_splice_time:e.readBits(32)}},te=function(e){var t=e.readBits(32),n=e.readBool();e.readBits(7);var r={splice_event_id:t,splice_event_cancel_indicator:n};if(n)return r;if(r.out_of_network_indicator=e.readBool(),r.program_splice_flag=e.readBool(),r.duration_flag=e.readBool(),e.readBits(5),r.program_splice_flag)r.utc_splice_time=e.readBits(32);else{r.component_count=e.readBits(8),r.components=[];for(var a=0;a<r.component_count;a++)r.components.push(ee(e))}return r.duration_flag&&(r.break_duration=Z(e)),r.unique_program_id=e.readBits(16),r.avail_num=e.readBits(8),r.avails_expected=e.readBits(8),r},ne=function(e,t,n,r){return{descriptor_tag:e,descriptor_length:t,identifier:n,provider_avail_id:r.readBits(32)}},re=function(e,t,n,r){var a=r.readBits(8),i=r.readBits(3);r.readBits(5);for(var o="",s=0;s<i;s++)o+=String.fromCharCode(r.readBits(8));return{descriptor_tag:e,descriptor_length:t,identifier:n,preroll:a,dtmf_count:i,DTMF_char:o}},ae=function(e){var t=e.readBits(8);return e.readBits(7),{component_tag:t,pts_offset:4*e.readBits(31)+e.readBits(2)}},ie=function(e,t,n,r){var a=r.readBits(32),i=r.readBool();r.readBits(7);var o={descriptor_tag:e,descriptor_length:t,identifier:n,segmentation_event_id:a,segmentation_event_cancel_indicator:i};if(i)return o;if(o.program_segmentation_flag=r.readBool(),o.segmentation_duration_flag=r.readBool(),o.delivery_not_restricted_flag=r.readBool(),o.delivery_not_restricted_flag?r.readBits(5):(o.web_delivery_allowed_flag=r.readBool(),o.no_regional_blackout_flag=r.readBool(),o.archive_allowed_flag=r.readBool(),o.device_restrictions=r.readBits(2)),!o.program_segmentation_flag){o.component_count=r.readBits(8),o.components=[];for(var s=0;s<o.component_count;s++)o.components.push(ae(r))}o.segmentation_duration_flag&&(o.segmentation_duration=r.readBits(40)),o.segmentation_upid_type=r.readBits(8),o.segmentation_upid_length=r.readBits(8);var l=new Uint8Array(o.segmentation_upid_length);for(s=0;s<o.segmentation_upid_length;s++)l[s]=r.readBits(8);return o.segmentation_upid=l.buffer,o.segmentation_type_id=r.readBits(8),o.segment_num=r.readBits(8),o.segments_expected=r.readBits(8),52!==o.segmentation_type_id&&54!==o.segmentation_type_id&&56!==o.segmentation_type_id&&58!==o.segmentation_type_id||(o.sub_segment_num=r.readBits(8),o.sub_segments_expected=r.readBits(8)),o},oe=function(e,t,n,r){return{descriptor_tag:e,descriptor_length:t,identifier:n,TAI_seconds:r.readBits(48),TAI_ns:r.readBits(32),UTC_offset:r.readBits(16)}},se=function(e){return{component_tag:e.readBits(8),ISO_code:String.fromCharCode(e.readBits(8),e.readBits(8),e.readBits(8)),Bit_Stream_Mode:e.readBits(3),Num_Channels:e.readBits(4),Full_Srvc_Audio:e.readBool()}},le=function(e,t,n,r){for(var a=r.readBits(4),i=[],o=0;o<a;o++)i.push(se(r));return{descriptor_tag:e,descriptor_length:t,identifier:n,audio_count:a,components:i}};!function(e){e[e.kSliceIDR_W_RADL=19]="kSliceIDR_W_RADL",e[e.kSliceIDR_N_LP=20]="kSliceIDR_N_LP",e[e.kSliceCRA_NUT=21]="kSliceCRA_NUT",e[e.kSliceVPS=32]="kSliceVPS",e[e.kSliceSPS=33]="kSliceSPS",e[e.kSlicePPS=34]="kSlicePPS",e[e.kSliceAUD=35]="kSliceAUD"}($||($={}));var ce=function(){},de=function(e){var t=e.data.byteLength;this.type=e.type,this.data=new Uint8Array(4+t),new DataView(this.data.buffer).setUint32(0,t),this.data.set(e.data,4)},ue=function(){function e(e){this.TAG="H265AnnexBParser",this.current_startcode_offset_=0,this.eof_flag_=!1,this.data_=e,this.current_startcode_offset_=this.findNextStartCodeOffset(0),this.eof_flag_&&i.a.e(this.TAG,"Could not find H265 startcode until payload end!")}return e.prototype.findNextStartCodeOffset=function(e){for(var t=e,n=this.data_;;){if(t+3>=n.byteLength)return this.eof_flag_=!0,n.byteLength;var r=n[t+0]<<24|n[t+1]<<16|n[t+2]<<8|n[t+3],a=n[t+0]<<16|n[t+1]<<8|n[t+2];if(1===r||1===a)return t;t++}},e.prototype.readNextNaluPayload=function(){for(var e=this.data_,t=null;null==t&&!this.eof_flag_;){var n=this.current_startcode_offset_,r=e[n+=1==(e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3])?4:3]>>1&63,a=(128&e[n])>>>7,i=this.findNextStartCodeOffset(n);if(this.current_startcode_offset_=i,0===a){var o=e.subarray(n,i);(t=new ce).type=r,t.data=o}}return t},e}(),pe=function(){function e(e,t,n,r){var a=23+(5+e.byteLength)+(5+t.byteLength)+(5+n.byteLength),i=this.data=new Uint8Array(a);i[0]=1,i[1]=(3&r.general_profile_space)<<6|(r.general_tier_flag?1:0)<<5|31&r.general_profile_idc,i[2]=r.general_profile_compatibility_flags_1,i[3]=r.general_profile_compatibility_flags_2,i[4]=r.general_profile_compatibility_flags_3,i[5]=r.general_profile_compatibility_flags_4,i[6]=r.general_constraint_indicator_flags_1,i[7]=r.general_constraint_indicator_flags_2,i[8]=r.general_constraint_indicator_flags_3,i[9]=r.general_constraint_indicator_flags_4,i[10]=r.general_constraint_indicator_flags_5,i[11]=r.general_constraint_indicator_flags_6,i[12]=r.general_level_idc,i[13]=240|(3840&r.min_spatial_segmentation_idc)>>8,i[14]=255&r.min_spatial_segmentation_idc,i[15]=252|3&r.parallelismType,i[16]=252|3&r.chroma_format_idc,i[17]=248|7&r.bit_depth_luma_minus8,i[18]=248|7&r.bit_depth_chroma_minus8,i[19]=0,i[20]=0,i[21]=(3&r.constant_frame_rate)<<6|(7&r.num_temporal_layers)<<3|(r.temporal_id_nested?1:0)<<2|3,i[22]=3,i[23]=128|$.kSliceVPS,i[24]=0,i[25]=1,i[26]=(65280&e.byteLength)>>8,i[27]=255&e.byteLength,i.set(e,28),i[23+(5+e.byteLength)+0]=128|$.kSliceSPS,i[23+(5+e.byteLength)+1]=0,i[23+(5+e.byteLength)+2]=1,i[23+(5+e.byteLength)+3]=(65280&t.byteLength)>>8,i[23+(5+e.byteLength)+4]=255&t.byteLength,i.set(t,23+(5+e.byteLength)+5),i[23+(5+e.byteLength+5+t.byteLength)+0]=128|$.kSlicePPS,i[23+(5+e.byteLength+5+t.byteLength)+1]=0,i[23+(5+e.byteLength+5+t.byteLength)+2]=1,i[23+(5+e.byteLength+5+t.byteLength)+3]=(65280&n.byteLength)>>8,i[23+(5+e.byteLength+5+t.byteLength)+4]=255&n.byteLength,i.set(n,23+(5+e.byteLength+5+t.byteLength)+5)}return e.prototype.getData=function(){return this.data},e}(),he=function(){},me=function(){},fe=function(){},Ae=[[64,64,80,80,96,96,112,112,128,128,160,160,192,192,224,224,256,256,320,320,384,384,448,448,512,512,640,640,768,768,896,896,1024,1024,1152,1152,1280,1280],[69,70,87,88,104,105,121,122,139,140,174,175,208,209,243,244,278,279,348,349,417,418,487,488,557,558,696,697,835,836,975,976,1114,1115,1253,1254,1393,1394],[96,96,120,120,144,144,168,168,192,192,240,240,288,288,336,336,384,384,480,480,576,576,672,672,768,768,960,960,1152,1152,1344,1344,1536,1536,1728,1728,1920,1920]],ge=function(){function e(e){this.TAG="AC3Parser",this.data_=e,this.current_syncword_offset_=this.findNextSyncwordOffset(0),this.eof_flag_&&i.a.e(this.TAG,"Could not found AC3 syncword until payload end")}return e.prototype.findNextSyncwordOffset=function(e){for(var t=e,n=this.data_;;){if(t+7>=n.byteLength)return this.eof_flag_=!0,n.byteLength;if(2935==(n[t+0]<<8|n[t+1]))return t;t++}},e.prototype.readNextAC3Frame=function(){for(var e=this.data_,t=null;null==t&&!this.eof_flag_;){var n=this.current_syncword_offset_,r=e[n+4]>>6,a=[48e3,44200,33e3][r],i=63&e[n+4],o=2*Ae[r][i];if(isNaN(o)||n+o>this.data_.byteLength){this.eof_flag_=!0,this.has_last_incomplete_data=!0;break}var s=this.findNextSyncwordOffset(n+o);this.current_syncword_offset_=s;var l=e[n+5]>>3,c=7&e[n+5],d=e[n+6]>>5,u=0;!!(1&d)&&1!==d&&(u+=2),!!(4&d)&&(u+=2),2===d&&(u+=2);var p=(e[n+6]<<8|e[n+7])>>12-u&1,h=[2,1,2,3,3,4,4,5][d]+p;(t=new fe).sampling_frequency=a,t.channel_count=h,t.channel_mode=d,t.bit_stream_identification=l,t.low_frequency_effects_channel_on=p,t.bit_stream_mode=c,t.frame_size_code=i,t.data=e.subarray(n,n+o)}return t},e.prototype.hasIncompleteData=function(){return this.has_last_incomplete_data},e.prototype.getIncompleteData=function(){return this.has_last_incomplete_data?this.data_.subarray(this.current_syncword_offset_):null},e}(),_e=function(e){var t;t=[e.sampling_rate_code<<6|e.bit_stream_identification<<1|e.bit_stream_mode>>2,(3&e.bit_stream_mode)<<6|e.channel_mode<<3|e.low_frequency_effects_channel_on<<2|e.frame_size_code>>4,e.frame_size_code<<4&224],this.config=t,this.sampling_rate=e.sampling_frequency,this.bit_stream_identification=e.bit_stream_identification,this.bit_stream_mode=e.bit_stream_mode,this.low_frequency_effects_channel_on=e.low_frequency_effects_channel_on,this.channel_count=e.channel_count,this.channel_mode=e.channel_mode,this.codec_mimetype="ac-3",this.original_codec_mimetype="ac-3"},ye=function(){},ve=function(){function e(e){this.TAG="EAC3Parser",this.data_=e,this.current_syncword_offset_=this.findNextSyncwordOffset(0),this.eof_flag_&&i.a.e(this.TAG,"Could not found AC3 syncword until payload end")}return e.prototype.findNextSyncwordOffset=function(e){for(var t=e,n=this.data_;;){if(t+7>=n.byteLength)return this.eof_flag_=!0,n.byteLength;if(2935==(n[t+0]<<8|n[t+1]))return t;t++}},e.prototype.readNextEAC3Frame=function(){for(var e=this.data_,t=null;null==t&&!this.eof_flag_;){var n=this.current_syncword_offset_,r=new m(e.subarray(n+2)),a=(r.readBits(2),r.readBits(3),r.readBits(11)+1<<1),i=r.readBits(2),o=null,s=null;3===i?(o=[24e3,22060,16e3][i=r.readBits(2)],s=3):(o=[48e3,44100,32e3][i],s=r.readBits(2));var l=r.readBits(3),c=r.readBits(1),d=r.readBits(5);if(n+a>this.data_.byteLength){this.eof_flag_=!0,this.has_last_incomplete_data=!0;break}var u=this.findNextSyncwordOffset(n+a);this.current_syncword_offset_=u;var p=[2,1,2,3,3,4,4,5][l]+c;r.destroy(),(t=new ye).sampling_frequency=o,t.channel_count=p,t.channel_mode=l,t.bit_stream_identification=d,t.low_frequency_effects_channel_on=c,t.frame_size=a,t.num_blks=[1,2,3,6][s],t.data=e.subarray(n,n+a)}return t},e.prototype.hasIncompleteData=function(){return this.has_last_incomplete_data},e.prototype.getIncompleteData=function(){return this.has_last_incomplete_data?this.data_.subarray(this.current_syncword_offset_):null},e}(),Ee=function(e){var t,n=Math.floor(e.frame_size*e.sampling_frequency/(16*e.num_blks));t=[255&n,248&n,e.sampling_rate_code<<6|e.bit_stream_identification<<1,e.channel_mode<<1|e.low_frequency_effects_channel_on,0],this.config=t,this.sampling_rate=e.sampling_frequency,this.bit_stream_identification=e.bit_stream_identification,this.num_blks=e.num_blks,this.low_frequency_effects_channel_on=e.low_frequency_effects_channel_on,this.channel_count=e.channel_count,this.channel_mode=e.channel_mode,this.codec_mimetype="ec-3",this.original_codec_mimetype="ec-3"},Ce=function(){},be=function(){function e(e){this.TAG="AV1OBUInMpegTsParser",this.current_startcode_offset_=0,this.eof_flag_=!1,this.data_=e,this.current_startcode_offset_=this.findNextStartCodeOffset(0),this.eof_flag_&&i.a.e(this.TAG,"Could not find AV1 startcode until payload end!")}return e._ebsp2rbsp=function(e){for(var t=e,n=t.byteLength,r=new Uint8Array(n),a=0,i=0;i<n;i++)i>=2&&3===t[i]&&0===t[i-1]&&0===t[i-2]||(r[a]=t[i],a++);return new Uint8Array(r.buffer,0,a)},e.prototype.findNextStartCodeOffset=function(e){for(var t=e,n=this.data_;;){if(t+2>=n.byteLength)return this.eof_flag_=!0,n.byteLength;if(1==(n[t+0]<<16|n[t+1]<<8|n[t+2]))return t;t++}},e.prototype.readNextOBUPayload=function(){for(var t=this.data_,n=null;null==n&&!this.eof_flag_;){var r=this.current_startcode_offset_+3,a=this.findNextStartCodeOffset(r);this.current_startcode_offset_=a,n=e._ebsp2rbsp(t.subarray(r,a))}return n},e}(),xe=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),we=function(){return(we=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Be=function(e){function t(t,n){var r=e.call(this)||this;return r.TAG="TSDemuxer",r.first_parse_=!0,r.media_info_=new s.a,r.timescale_=90,r.duration_=0,r.current_pmt_pid_=-1,r.program_pmt_map_={},r.pes_slice_queues_={},r.section_slice_queues_={},r.video_metadata_={vps:void 0,sps:void 0,pps:void 0,av1c:void 0,details:void 0},r.audio_metadata_={codec:void 0,audio_object_type:void 0,sampling_freq_index:void 0,sampling_frequency:void 0,channel_config:void 0},r.last_pcr_base_=NaN,r.timestamp_offset_=0,r.audio_last_sample_pts_=void 0,r.aac_last_incomplete_data_=null,r.has_video_=!1,r.has_audio_=!1,r.video_init_segment_dispatched_=!1,r.audio_init_segment_dispatched_=!1,r.video_metadata_changed_=!1,r.audio_metadata_changed_=!1,r.loas_previous_frame=null,r.video_track_={type:"video",id:1,sequenceNumber:0,samples:[],length:0},r.audio_track_={type:"audio",id:2,sequenceNumber:0,samples:[],length:0},r.ts_packet_size_=t.ts_packet_size,r.sync_offset_=t.sync_offset,r.config_=n,r}return xe(t,e),t.prototype.destroy=function(){this.media_info_=null,this.pes_slice_queues_=null,this.section_slice_queues_=null,this.video_metadata_=null,this.audio_metadata_=null,this.aac_last_incomplete_data_=null,this.video_track_=null,this.audio_track_=null,e.prototype.destroy.call(this)},t.probe=function(e){var t=new Uint8Array(e),n=-1,r=188;if(t.byteLength<=3*r)return{needMoreData:!0};for(;-1===n;){for(var a=Math.min(1e3,t.byteLength-3*r),o=0;o<a;){if(71===t[o]&&71===t[o+r]&&71===t[o+2*r]){n=o;break}o++}if(-1===n)if(188===r)r=192;else{if(192!==r)break;r=204}}return-1===n?{match:!1}:(192===r&&n>=4?(i.a.v("TSDemuxer","ts_packet_size = 192, m2ts mode"),n-=4):204===r&&i.a.v("TSDemuxer","ts_packet_size = 204, RS encoded MPEG2-TS stream"),{match:!0,consumed:0,ts_packet_size:r,sync_offset:n})},t.prototype.bindDataSource=function(e){return e.onDataArrival=this.parseChunks.bind(this),this},t.prototype.resetMediaInfo=function(){this.media_info_=new s.a},t.prototype.parseChunks=function(e,t){if(!(this.onError&&this.onMediaInfo&&this.onTrackMetadata&&this.onDataAvailable))throw new u.a("onError & onMediaInfo & onTrackMetadata & onDataAvailable callback must be specified");var n=0;for(this.first_parse_&&(this.first_parse_=!1,n=this.sync_offset_);n+this.ts_packet_size_<=e.byteLength;){var r=t+n;192===this.ts_packet_size_&&(n+=4);var a=new Uint8Array(e,n,188),o=a[0];if(71!==o){i.a.e(this.TAG,"sync_byte = ".concat(o,", not 0x47"));break}var s=(64&a[1])>>>6,l=(a[1],(31&a[1])<<8|a[2]),c=(48&a[3])>>>4,d=15&a[3],p=!(!this.pmt_||this.pmt_.pcr_pid!==l),h={},m=4;if(2==c||3==c){var f=a[4];if(f>0&&(p||3==c)&&(h.discontinuity_indicator=(128&a[5])>>>7,h.random_access_indicator=(64&a[5])>>>6,h.elementary_stream_priority_indicator=(32&a[5])>>>5,(16&a[5])>>>4)){var A=300*this.getPcrBase(a)+((1&a[10])<<8|a[11]);this.last_pcr_=A}if(2==c||5+f===188){n+=188,204===this.ts_packet_size_&&(n+=16);continue}m=5+f}if(1==c||3==c)if(0===l||l===this.current_pmt_pid_||null!=this.pmt_&&this.pmt_.pid_stream_type[l]===E.kSCTE35){var g=188-m;this.handleSectionSlice(e,n+m,g,{pid:l,file_position:r,payload_unit_start_indicator:s,continuity_conunter:d,random_access_indicator:h.random_access_indicator})}else if(null!=this.pmt_&&null!=this.pmt_.pid_stream_type[l]){g=188-m;var _=this.pmt_.pid_stream_type[l];l!==this.pmt_.common_pids.h264&&l!==this.pmt_.common_pids.h265&&l!==this.pmt_.common_pids.av1&&l!==this.pmt_.common_pids.adts_aac&&l!==this.pmt_.common_pids.loas_aac&&l!==this.pmt_.common_pids.ac3&&l!==this.pmt_.common_pids.eac3&&l!==this.pmt_.common_pids.opus&&l!==this.pmt_.common_pids.mp3&&!0!==this.pmt_.pes_private_data_pids[l]&&!0!==this.pmt_.timed_id3_pids[l]&&!0!==this.pmt_.synchronous_klv_pids[l]&&!0!==this.pmt_.asynchronous_klv_pids[l]||this.handlePESSlice(e,n+m,g,{pid:l,stream_type:_,file_position:r,payload_unit_start_indicator:s,continuity_conunter:d,random_access_indicator:h.random_access_indicator})}n+=188,204===this.ts_packet_size_&&(n+=16)}return this.dispatchAudioVideoMediaSegment(),n},t.prototype.handleSectionSlice=function(e,t,n,r){var a=new Uint8Array(e,t,n),i=this.section_slice_queues_[r.pid];if(r.payload_unit_start_indicator){var o=a[0];if(null!=i&&0!==i.total_length){var s=new Uint8Array(e,t+1,Math.min(n,o));i.slices.push(s),i.total_length+=s.byteLength,i.total_length===i.expected_length?this.emitSectionSlices(i,r):this.clearSlices(i,r)}for(var l=1+o;l<a.byteLength&&255!==a[l+0];){var c=(15&a[l+1])<<8|a[l+2];this.section_slice_queues_[r.pid]=new L,(i=this.section_slice_queues_[r.pid]).expected_length=c+3,i.file_position=r.file_position,i.random_access_indicator=r.random_access_indicator,s=new Uint8Array(e,t+l,Math.min(n-l,i.expected_length-i.total_length)),i.slices.push(s),i.total_length+=s.byteLength,i.total_length===i.expected_length?this.emitSectionSlices(i,r):i.total_length>=i.expected_length&&this.clearSlices(i,r),l+=s.byteLength}}else null!=i&&0!==i.total_length&&(s=new Uint8Array(e,t,Math.min(n,i.expected_length-i.total_length)),i.slices.push(s),i.total_length+=s.byteLength,i.total_length===i.expected_length?this.emitSectionSlices(i,r):i.total_length>=i.expected_length&&this.clearSlices(i,r))},t.prototype.handlePESSlice=function(e,t,n,r){var a=new Uint8Array(e,t,n),o=a[0]<<16|a[1]<<8|a[2],s=(a[3],a[4]<<8|a[5]);if(r.payload_unit_start_indicator){if(1!==o)return void i.a.e(this.TAG,"handlePESSlice: packet_start_code_prefix should be 1 but with value ".concat(o));var l=this.pes_slice_queues_[r.pid];l&&(0===l.expected_length||l.expected_length===l.total_length?this.emitPESSlices(l,r):this.clearSlices(l,r)),this.pes_slice_queues_[r.pid]=new L,this.pes_slice_queues_[r.pid].file_position=r.file_position,this.pes_slice_queues_[r.pid].random_access_indicator=r.random_access_indicator}if(null!=this.pes_slice_queues_[r.pid]){var c=this.pes_slice_queues_[r.pid];c.slices.push(a),r.payload_unit_start_indicator&&(c.expected_length=0===s?0:s+6),c.total_length+=a.byteLength,c.expected_length>0&&c.expected_length===c.total_length?this.emitPESSlices(c,r):c.expected_length>0&&c.expected_length<c.total_length&&this.clearSlices(c,r)}},t.prototype.emitSectionSlices=function(e,t){for(var n=new Uint8Array(e.total_length),r=0,a=0;r<e.slices.length;r++){var i=e.slices[r];n.set(i,a),a+=i.byteLength}e.slices=[],e.expected_length=-1,e.total_length=0;var o=new R;o.pid=t.pid,o.data=n,o.file_position=e.file_position,o.random_access_indicator=e.random_access_indicator,this.parseSection(o)},t.prototype.emitPESSlices=function(e,t){for(var n=new Uint8Array(e.total_length),r=0,a=0;r<e.slices.length;r++){var i=e.slices[r];n.set(i,a),a+=i.byteLength}e.slices=[],e.expected_length=-1,e.total_length=0;var o=new I;o.pid=t.pid,o.data=n,o.stream_type=t.stream_type,o.file_position=e.file_position,o.random_access_indicator=e.random_access_indicator,this.parsePES(o)},t.prototype.clearSlices=function(e,t){e.slices=[],e.expected_length=-1,e.total_length=0},t.prototype.parseSection=function(e){var t=e.data,n=e.pid;0===n?this.parsePAT(t):n===this.current_pmt_pid_?this.parsePMT(t):null!=this.pmt_&&this.pmt_.scte_35_pids[n]&&this.parseSCTE35(t)},t.prototype.parsePES=function(e){var t=e.data,n=t[0]<<16|t[1]<<8|t[2],r=t[3],a=t[4]<<8|t[5];if(1===n)if(188!==r&&190!==r&&191!==r&&240!==r&&241!==r&&255!==r&&242!==r&&248!==r){t[6];var o=(192&t[7])>>>6,s=t[8],l=void 0,c=void 0;2!==o&&3!==o||(l=this.getTimestamp(t,9),c=3===o?this.getTimestamp(t,14):l);var d=9+s,u=void 0;if(0!==a){if(a<3+s)return void i.a.v(this.TAG,"Malformed PES: PES_packet_length < 3 + PES_header_data_length");u=a-3-s}else u=t.byteLength-d;var p=t.subarray(d,d+u);switch(e.stream_type){case E.kMPEG1Audio:case E.kMPEG2Audio:this.parseMP3Payload(p,l);break;case E.kPESPrivateData:this.pmt_.common_pids.av1===e.pid?this.parseAV1Payload(p,l,c,e.file_position,e.random_access_indicator):this.pmt_.common_pids.opus===e.pid?this.parseOpusPayload(p,l):this.pmt_.common_pids.ac3===e.pid?this.parseAC3Payload(p,l):this.pmt_.common_pids.eac3===e.pid?this.parseEAC3Payload(p,l):this.pmt_.asynchronous_klv_pids[e.pid]?this.parseAsynchronousKLVMetadataPayload(p,e.pid,r):this.pmt_.smpte2038_pids[e.pid]?this.parseSMPTE2038MetadataPayload(p,l,c,e.pid,r):this.parsePESPrivateDataPayload(p,l,c,e.pid,r);break;case E.kADTSAAC:this.parseADTSAACPayload(p,l);break;case E.kLOASAAC:this.parseLOASAACPayload(p,l);break;case E.kAC3:this.parseAC3Payload(p,l);break;case E.kEAC3:this.parseEAC3Payload(p,l);break;case E.kMetadata:this.pmt_.timed_id3_pids[e.pid]?this.parseTimedID3MetadataPayload(p,l,c,e.pid,r):this.pmt_.synchronous_klv_pids[e.pid]&&this.parseSynchronousKLVMetadataPayload(p,l,c,e.pid,r);break;case E.kH264:this.parseH264Payload(p,l,c,e.file_position,e.random_access_indicator);break;case E.kH265:this.parseH265Payload(p,l,c,e.file_position,e.random_access_indicator)}}else 188!==r&&191!==r&&240!==r&&241!==r&&255!==r&&242!==r&&248!==r||e.stream_type!==E.kPESPrivateData||(d=6,u=void 0,u=0!==a?a:t.byteLength-d,p=t.subarray(d,d+u),this.parsePESPrivateDataPayload(p,void 0,void 0,e.pid,r));else i.a.e(this.TAG,"parsePES: packet_start_code_prefix should be 1 but with value ".concat(n))},t.prototype.parsePAT=function(e){var t=e[0];if(0===t){var n=(15&e[1])<<8|e[2],r=(e[3],e[4],(62&e[5])>>>1),a=1&e[5],o=e[6],s=(e[7],null);if(1===a&&0===o)(s=new S).version_number=r;else if(null==(s=this.pat_))return;for(var l=n-5-4,c=-1,d=-1,u=8;u<8+l;u+=4){var p=e[u]<<8|e[u+1],h=(31&e[u+2])<<8|e[u+3];0===p?s.network_pid=h:(s.program_pmt_pid[p]=h,-1===c&&(c=p),-1===d&&(d=h))}1===a&&0===o&&(null==this.pat_&&i.a.v(this.TAG,"Parsed first PAT: ".concat(JSON.stringify(s))),this.pat_=s,this.current_program_=c,this.current_pmt_pid_=d)}else i.a.e(this.TAG,"parsePAT: table_id ".concat(t," is not corresponded to PAT!"))},t.prototype.parsePMT=function(e){var t=e[0];if(2===t){var n=(15&e[1])<<8|e[2],r=e[3]<<8|e[4],a=(62&e[5])>>>1,o=1&e[5],s=e[6],l=(e[7],null);if(1===o&&0===s)(l=new T).program_number=r,l.version_number=a,this.program_pmt_map_[r]=l;else if(null==(l=this.program_pmt_map_[r]))return;l.pcr_pid=(31&e[8])<<8|e[9];for(var c=(15&e[10])<<8|e[11],d=12+c,u=n-9-c-4,p=d;p<d+u;){var h=e[p],m=(31&e[p+1])<<8|e[p+2],f=(15&e[p+3])<<8|e[p+4];l.pid_stream_type[m]=h;var A=l.common_pids.h264||l.common_pids.h265,g=l.common_pids.adts_aac||l.common_pids.loas_aac||l.common_pids.ac3||l.common_pids.eac3||l.common_pids.opus||l.common_pids.mp3;if(h!==E.kH264||A)if(h!==E.kH265||A)if(h!==E.kADTSAAC||g)if(h!==E.kLOASAAC||g)if(h!==E.kAC3||g)if(h!==E.kEAC3||g)if(h!==E.kMPEG1Audio&&h!==E.kMPEG2Audio||g)if(h===E.kPESPrivateData){if(l.pes_private_data_pids[m]=!0,f>0){for(var _=p+5;_<p+5+f;){var y=e[_+0],v=e[_+1];if(5===y){var C=String.fromCharCode.apply(String,Array.from(e.subarray(_+2,_+2+v)));"VANC"===C?l.smpte2038_pids[m]=!0:"AV01"===C?l.common_pids.av1=m:"Opus"===C?l.common_pids.opus=m:"KLVA"===C&&(l.asynchronous_klv_pids[m]=!0)}else if(127===y){if(m===l.common_pids.opus){var b=null;if(128===e[_+2]&&(b=e[_+3]),null==b){i.a.e(this.TAG,"Not Supported Opus channel count.");continue}var x={codec:"opus",channel_count:15&b?15&b:2,channel_config_code:b,sample_rate:48e3},w={codec:"opus",meta:x};0==this.audio_init_segment_dispatched_?(this.audio_metadata_=x,this.dispatchAudioInitSegment(w)):this.detectAudioMetadataChange(w)&&(this.dispatchAudioMediaSegment(),this.dispatchAudioInitSegment(w))}}else 128===y&&m===l.common_pids.av1&&(this.video_metadata_.av1c=e.subarray(_+2,_+2+v));_+=2+v}var B=e.subarray(p+5,p+5+f);this.dispatchPESPrivateDataDescriptor(m,h,B)}}else if(h===E.kMetadata){if(f>0)for(_=p+5;_<p+5+f;){y=e[_+0];var S=e[_+1];if(38===y){var k=e[_+2]<<8|e[_+3],I=null;65535===k&&(I=String.fromCharCode.apply(String,Array.from(e.subarray(_+4,_+4+4))));var R=null;if(255===e[_+4+(65535===k?4:0)]){var L=4+(65535===k?4:0)+1;R=String.fromCharCode.apply(String,Array.from(e.subarray(_+L,_+L+4)))}"ID3 "===I&&"ID3 "===R?l.timed_id3_pids[m]=!0:"KLVA"===R&&(l.synchronous_klv_pids[m]=!0)}_+=2+S}}else h===E.kSCTE35&&(l.scte_35_pids[m]=!0);else l.common_pids.mp3=m;else l.common_pids.eac3=m;else l.common_pids.ac3=m;else l.common_pids.loas_aac=m;else l.common_pids.adts_aac=m;else l.common_pids.h265=m;else l.common_pids.h264=m;p+=5+f}r===this.current_program_&&(null==this.pmt_&&i.a.v(this.TAG,"Parsed first PMT: ".concat(JSON.stringify(l))),this.pmt_=l,(l.common_pids.h264||l.common_pids.h265||l.common_pids.av1)&&(this.has_video_=!0),(l.common_pids.adts_aac||l.common_pids.loas_aac||l.common_pids.ac3||l.common_pids.opus||l.common_pids.mp3)&&(this.has_audio_=!0))}else i.a.e(this.TAG,"parsePMT: table_id ".concat(t," is not corresponded to PMT!"))},t.prototype.parseSCTE35=function(e){var t=function(e){var t=new m(e),n=t.readBits(8),r=t.readBool(),a=t.readBool();t.readBits(2);var i=t.readBits(12),o=t.readBits(8),s=t.readBool(),l=t.readBits(6),c=4*t.readBits(31)+t.readBits(2),d=t.readBits(8),u=t.readBits(12),p=t.readBits(12),h=t.readBits(8),f=null;h===z.kSpliceNull?f={}:h===z.kSpliceSchedule?f=function(e){for(var t=e.readBits(8),n=[],r=0;r<t;r++)n.push(te(e));return{splice_count:t,events:n}}(t):h===z.kSpliceInsert?f=function(e){var t=e.readBits(32),n=e.readBool();e.readBits(7);var r={splice_event_id:t,splice_event_cancel_indicator:n};if(n)return r;if(r.out_of_network_indicator=e.readBool(),r.program_splice_flag=e.readBool(),r.duration_flag=e.readBool(),r.splice_immediate_flag=e.readBool(),e.readBits(4),r.program_splice_flag&&!r.splice_immediate_flag&&(r.splice_time=X(e)),!r.program_splice_flag){r.component_count=e.readBits(8),r.components=[];for(var a=0;a<r.component_count;a++)r.components.push(J(r.splice_immediate_flag,e))}return r.duration_flag&&(r.break_duration=Z(e)),r.unique_program_id=e.readBits(16),r.avail_num=e.readBits(8),r.avails_expected=e.readBits(8),r}(t):h===z.kTimeSignal?f=function(e){return{splice_time:X(e)}}(t):h===z.kBandwidthReservation?f={}:h===z.kPrivateCommand?f=function(e,t){for(var n=String.fromCharCode(t.readBits(8),t.readBits(8),t.readBits(8),t.readBits(8)),r=new Uint8Array(e-4),a=0;a<e-4;a++)r[a]=t.readBits(8);return{identifier:n,private_data:r.buffer}}(p,t):t.readBits(8*p);for(var A=[],g=t.readBits(16),_=0;_<g;){var y=t.readBits(8),v=t.readBits(8),E=String.fromCharCode(t.readBits(8),t.readBits(8),t.readBits(8),t.readBits(8));0===y?A.push(ne(y,v,E,t)):1===y?A.push(re(y,v,E,t)):2===y?A.push(ie(y,v,E,t)):3===y?A.push(oe(y,v,E,t)):4===y?A.push(le(y,v,E,t)):t.readBits(8*(v-4)),_+=2+v}var C={table_id:n,section_syntax_indicator:r,private_indicator:a,section_length:i,protocol_version:o,encrypted_packet:s,encryption_algorithm:l,pts_adjustment:c,cw_index:d,tier:u,splice_command_length:p,splice_command_type:h,splice_command:f,descriptor_loop_length:g,splice_descriptors:A,E_CRC32:s?t.readBits(32):void 0,CRC32:t.readBits(32)};if(h===z.kSpliceInsert){var b=f;if(b.splice_event_cancel_indicator)return{splice_command_type:h,detail:C,data:e};if(b.program_splice_flag&&!b.splice_immediate_flag){var x=b.duration_flag?b.break_duration.auto_return:void 0,w=b.duration_flag?b.break_duration.duration/90:void 0;return b.splice_time.time_specified_flag?{splice_command_type:h,pts:(c+b.splice_time.pts_time)%Math.pow(2,33),auto_return:x,duraiton:w,detail:C,data:e}:{splice_command_type:h,auto_return:x,duraiton:w,detail:C,data:e}}return{splice_command_type:h,auto_return:x=b.duration_flag?b.break_duration.auto_return:void 0,duraiton:w=b.duration_flag?b.break_duration.duration/90:void 0,detail:C,data:e}}if(h===z.kTimeSignal){var B=f;return B.splice_time.time_specified_flag?{splice_command_type:h,pts:(c+B.splice_time.pts_time)%Math.pow(2,33),detail:C,data:e}:{splice_command_type:h,detail:C,data:e}}return{splice_command_type:h,detail:C,data:e}}(e);if(null!=t.pts){var n=Math.floor(t.pts/this.timescale_);t.pts=n}else t.nearest_pts=this.getNearestTimestampMilliseconds();this.onSCTE35Metadata&&this.onSCTE35Metadata(t)},t.prototype.parseAV1Payload=function(e,t,n,r,a){for(var i=new be(e),o=null,s=[],l=0,c=!1,d=null;null!=(o=i.readNextOBUPayload());){if((d=x.parseOBUs(o,this.video_metadata_.details))&&!0===d.keyframe)if(this.video_init_segment_dispatched_){var u;!0===this.detectVideoMetadataChange(null,d)&&(this.video_metadata_changed_=!0,this.dispatchVideoMediaSegment(),(u=new Uint8Array(new ArrayBuffer(this.video_metadata_.av1c.byteLength+d.sequence_header_data.byteLength))).set(this.video_metadata_.av1c,0),u.set(d.sequence_header_data,this.video_metadata_.av1c.byteLength),d.av1c=u,this.dispatchVideoInitSegment())}else(u=new Uint8Array(new ArrayBuffer(this.video_metadata_.av1c.byteLength+d.sequence_header_data.byteLength))).set(this.video_metadata_.av1c,0),u.set(d.sequence_header_data,this.video_metadata_.av1c.byteLength),d.av1c=u,this.video_metadata_.details=d,this.dispatchVideoInitSegment();this.video_metadata_.details=d,c||(c=d.keyframe),s.push({data:o}),l+=o.byteLength}var p=Math.floor(t/this.timescale_),h=Math.floor(n/this.timescale_);if(s.length){var m=this.video_track_,f={units:s,length:l,isKeyframe:c,dts:h,pts:p,cts:p-h,file_position:r};m.samples.push(f),m.length+=l}},t.prototype.parseH264Payload=function(e,t,n,r,a){for(var o=new M(e),s=null,l=[],c=0,d=!1;null!=(s=o.readNextNaluPayload());){var u=new P(s);if(u.type===k.kSliceSPS){var p=f.parseSPS(s.data);this.video_init_segment_dispatched_?!0===this.detectVideoMetadataChange(u,p)&&(i.a.v(this.TAG,"H264: Critical h264 metadata has been changed, attempt to re-generate InitSegment"),this.video_metadata_changed_=!0,this.video_metadata_={vps:void 0,sps:u,pps:void 0,av1c:void 0,details:p}):(this.video_metadata_.sps=u,this.video_metadata_.details=p)}else u.type===k.kSlicePPS?this.video_init_segment_dispatched_&&!this.video_metadata_changed_||(this.video_metadata_.pps=u,this.video_metadata_.sps&&this.video_metadata_.pps&&(this.video_metadata_changed_&&this.dispatchVideoMediaSegment(),this.dispatchVideoInitSegment())):(u.type===k.kSliceIDR||u.type===k.kSliceNonIDR&&1===a)&&(d=!0);this.video_init_segment_dispatched_&&(l.push(u),c+=u.data.byteLength)}var h=Math.floor(t/this.timescale_),m=Math.floor(n/this.timescale_);if(l.length){var A=this.video_track_,g={units:l,length:c,isKeyframe:d,dts:m,pts:h,cts:h-m,file_position:r};A.samples.push(g),A.length+=c}},t.prototype.parseH265Payload=function(e,t,n,r,a){for(var o=new ue(e),s=null,l=[],c=0,d=!1;null!=(s=o.readNextNaluPayload());){var u=new de(s);if(u.type===$.kSliceVPS){if(!this.video_init_segment_dispatched_){var p=g.parseVPS(s.data);this.video_metadata_.vps=u,this.video_metadata_.details=we(we({},this.video_metadata_.details),p)}}else u.type===$.kSliceSPS?(p=g.parseSPS(s.data),this.video_init_segment_dispatched_?!0===this.detectVideoMetadataChange(u,p)&&(i.a.v(this.TAG,"H265: Critical h265 metadata has been changed, attempt to re-generate InitSegment"),this.video_metadata_changed_=!0,this.video_metadata_={vps:void 0,sps:u,pps:void 0,av1c:void 0,details:p}):(this.video_metadata_.sps=u,this.video_metadata_.details=we(we({},this.video_metadata_.details),p))):u.type===$.kSlicePPS?this.video_init_segment_dispatched_&&!this.video_metadata_changed_||(p=g.parsePPS(s.data),this.video_metadata_.pps=u,this.video_metadata_.details=we(we({},this.video_metadata_.details),p),this.video_metadata_.vps&&this.video_metadata_.sps&&this.video_metadata_.pps&&(this.video_metadata_changed_&&this.dispatchVideoMediaSegment(),this.dispatchVideoInitSegment())):u.type!==$.kSliceIDR_W_RADL&&u.type!==$.kSliceIDR_N_LP&&u.type!==$.kSliceCRA_NUT||(d=!0);this.video_init_segment_dispatched_&&(l.push(u),c+=u.data.byteLength)}var h=Math.floor(t/this.timescale_),m=Math.floor(n/this.timescale_);if(l.length){var f=this.video_track_,A={units:l,length:c,isKeyframe:d,dts:m,pts:h,cts:h-m,file_position:r};f.samples.push(A),f.length+=c}},t.prototype.detectVideoMetadataChange=function(e,t){if(t.codec_mimetype!==this.video_metadata_.details.codec_mimetype)return i.a.v(this.TAG,"Video: Codec mimeType changed from "+"".concat(this.video_metadata_.details.codec_mimetype," to ").concat(t.codec_mimetype)),!0;if(t.codec_size.width!==this.video_metadata_.details.codec_size.width||t.codec_size.height!==this.video_metadata_.details.codec_size.height){var n=this.video_metadata_.details.codec_size,r=t.codec_size;return i.a.v(this.TAG,"Video: Coded Resolution changed from "+"".concat(n.width,"x").concat(n.height," to ").concat(r.width,"x").concat(r.height)),!0}return t.present_size.width!==this.video_metadata_.details.present_size.width&&(i.a.v(this.TAG,"Video: Present resolution width changed from "+"".concat(this.video_metadata_.details.present_size.width," to ").concat(t.present_size.width)),!0)},t.prototype.isInitSegmentDispatched=function(){return this.has_video_&&this.has_audio_?this.video_init_segment_dispatched_&&this.audio_init_segment_dispatched_:this.has_video_&&!this.has_audio_?this.video_init_segment_dispatched_:!(this.has_video_||!this.has_audio_)&&this.audio_init_segment_dispatched_},t.prototype.dispatchVideoInitSegment=function(){var e=this.video_metadata_.details,t={type:"video"};t.id=this.video_track_.id,t.timescale=1e3,t.duration=this.duration_,t.codecWidth=e.codec_size.width,t.codecHeight=e.codec_size.height,t.presentWidth=e.present_size.width,t.presentHeight=e.present_size.height,t.profile=e.profile_string,t.level=e.level_string,t.bitDepth=e.bit_depth,t.chromaFormat=e.chroma_format,t.sarRatio=e.sar_ratio,t.frameRate=e.frame_rate;var n=t.frameRate.fps_den,r=t.frameRate.fps_num;if(t.refSampleDuration=n/r*1e3,t.codec=e.codec_mimetype,this.video_metadata_.av1c)t.av1c=this.video_metadata_.av1c,0==this.video_init_segment_dispatched_&&i.a.v(this.TAG,"Generated first AV1 for mimeType: ".concat(t.codec));else if(this.video_metadata_.vps){var a=this.video_metadata_.vps.data.subarray(4),o=this.video_metadata_.sps.data.subarray(4),s=this.video_metadata_.pps.data.subarray(4),l=new pe(a,o,s,e);t.hvcc=l.getData(),0==this.video_init_segment_dispatched_&&i.a.v(this.TAG,"Generated first HEVCDecoderConfigurationRecord for mimeType: ".concat(t.codec))}else{o=this.video_metadata_.sps.data.subarray(4),s=this.video_metadata_.pps.data.subarray(4);var c=new U(o,s,e);t.avcc=c.getData(),0==this.video_init_segment_dispatched_&&i.a.v(this.TAG,"Generated first AVCDecoderConfigurationRecord for mimeType: ".concat(t.codec))}this.onTrackMetadata("video",t),this.video_init_segment_dispatched_=!0,this.video_metadata_changed_=!1;var d=this.media_info_;d.hasVideo=!0,d.width=t.codecWidth,d.height=t.codecHeight,d.fps=t.frameRate.fps,d.profile=t.profile,d.level=t.level,d.refFrames=e.ref_frames,d.chromaFormat=e.chroma_format_string,d.sarNum=t.sarRatio.width,d.sarDen=t.sarRatio.height,d.videoCodec=t.codec,d.hasAudio&&d.audioCodec?d.mimeType='video/mp2t; codecs="'.concat(d.videoCodec,",").concat(d.audioCodec,'"'):d.mimeType='video/mp2t; codecs="'.concat(d.videoCodec,'"'),d.isComplete()&&this.onMediaInfo(d)},t.prototype.dispatchVideoMediaSegment=function(){this.isInitSegmentDispatched()&&this.video_track_.length&&this.onDataAvailable(null,this.video_track_)},t.prototype.dispatchAudioMediaSegment=function(){this.isInitSegmentDispatched()&&this.audio_track_.length&&this.onDataAvailable(this.audio_track_,null)},t.prototype.dispatchAudioVideoMediaSegment=function(){this.isInitSegmentDispatched()&&(this.audio_track_.length||this.video_track_.length)&&this.onDataAvailable(this.audio_track_,this.video_track_)},t.prototype.parseADTSAACPayload=function(e,t){if(!this.has_video_||this.video_init_segment_dispatched_){if(this.aac_last_incomplete_data_){var n=new Uint8Array(e.byteLength+this.aac_last_incomplete_data_.byteLength);n.set(this.aac_last_incomplete_data_,0),n.set(e,this.aac_last_incomplete_data_.byteLength),e=n}var r,a;if(null!=t&&(a=t/this.timescale_),"aac"===this.audio_metadata_.codec){if(null==t&&null!=this.audio_last_sample_pts_)r=1024/this.audio_metadata_.sampling_frequency*1e3,a=this.audio_last_sample_pts_+r;else if(null==t)return void i.a.w(this.TAG,"AAC: Unknown pts");if(this.aac_last_incomplete_data_&&this.audio_last_sample_pts_){r=1024/this.audio_metadata_.sampling_frequency*1e3;var o=this.audio_last_sample_pts_+r;Math.abs(o-a)>1&&(i.a.w(this.TAG,"AAC: Detected pts overlapped, "+"expected: ".concat(o,"ms, PES pts: ").concat(a,"ms")),a=o)}}for(var s,l=new W(e),c=null,d=a;null!=(c=l.readNextAACFrame());){r=1024/c.sampling_frequency*1e3;var u={codec:"aac",data:c};0==this.audio_init_segment_dispatched_?(this.audio_metadata_={codec:"aac",audio_object_type:c.audio_object_type,sampling_freq_index:c.sampling_freq_index,sampling_frequency:c.sampling_frequency,channel_config:c.channel_config},this.dispatchAudioInitSegment(u)):this.detectAudioMetadataChange(u)&&(this.dispatchAudioMediaSegment(),this.dispatchAudioInitSegment(u)),s=d;var p=Math.floor(d),h={unit:c.data,length:c.data.byteLength,pts:p,dts:p};this.audio_track_.samples.push(h),this.audio_track_.length+=c.data.byteLength,d+=r}l.hasIncompleteData()&&(this.aac_last_incomplete_data_=l.getIncompleteData()),s&&(this.audio_last_sample_pts_=s)}},t.prototype.parseLOASAACPayload=function(e,t){var n;if(!this.has_video_||this.video_init_segment_dispatched_){if(this.aac_last_incomplete_data_){var r=new Uint8Array(e.byteLength+this.aac_last_incomplete_data_.byteLength);r.set(this.aac_last_incomplete_data_,0),r.set(e,this.aac_last_incomplete_data_.byteLength),e=r}var a,o;if(null!=t&&(o=t/this.timescale_),"aac"===this.audio_metadata_.codec){if(null==t&&null!=this.audio_last_sample_pts_)a=1024/this.audio_metadata_.sampling_frequency*1e3,o=this.audio_last_sample_pts_+a;else if(null==t)return void i.a.w(this.TAG,"AAC: Unknown pts");if(this.aac_last_incomplete_data_&&this.audio_last_sample_pts_){a=1024/this.audio_metadata_.sampling_frequency*1e3;var s=this.audio_last_sample_pts_+a;Math.abs(s-o)>1&&(i.a.w(this.TAG,"AAC: Detected pts overlapped, "+"expected: ".concat(s,"ms, PES pts: ").concat(o,"ms")),o=s)}}for(var l,c=new H(e),d=null,u=o;null!=(d=c.readNextAACFrame(null!==(n=this.loas_previous_frame)&&void 0!==n?n:void 0));){this.loas_previous_frame=d,a=1024/d.sampling_frequency*1e3;var p={codec:"aac",data:d};0==this.audio_init_segment_dispatched_?(this.audio_metadata_={codec:"aac",audio_object_type:d.audio_object_type,sampling_freq_index:d.sampling_freq_index,sampling_frequency:d.sampling_frequency,channel_config:d.channel_config},this.dispatchAudioInitSegment(p)):this.detectAudioMetadataChange(p)&&(this.dispatchAudioMediaSegment(),this.dispatchAudioInitSegment(p)),l=u;var h=Math.floor(u),m={unit:d.data,length:d.data.byteLength,pts:h,dts:h};this.audio_track_.samples.push(m),this.audio_track_.length+=d.data.byteLength,u+=a}c.hasIncompleteData()&&(this.aac_last_incomplete_data_=c.getIncompleteData()),l&&(this.audio_last_sample_pts_=l)}},t.prototype.parseAC3Payload=function(e,t){if(!this.has_video_||this.video_init_segment_dispatched_){var n,r;if(null!=t&&(r=t/this.timescale_),"ac-3"===this.audio_metadata_.codec)if(null==t&&null!=this.audio_last_sample_pts_)n=1536/this.audio_metadata_.sampling_frequency*1e3,r=this.audio_last_sample_pts_+n;else if(null==t)return void i.a.w(this.TAG,"AC3: Unknown pts");for(var a,o=new ge(e),s=null,l=r;null!=(s=o.readNextAC3Frame());){n=1536/s.sampling_frequency*1e3;var c={codec:"ac-3",data:s};0==this.audio_init_segment_dispatched_?(this.audio_metadata_={codec:"ac-3",sampling_frequency:s.sampling_frequency,bit_stream_identification:s.bit_stream_identification,bit_stream_mode:s.bit_stream_mode,low_frequency_effects_channel_on:s.low_frequency_effects_channel_on,channel_mode:s.channel_mode},this.dispatchAudioInitSegment(c)):this.detectAudioMetadataChange(c)&&(this.dispatchAudioMediaSegment(),this.dispatchAudioInitSegment(c)),a=l;var d=Math.floor(l),u={unit:s.data,length:s.data.byteLength,pts:d,dts:d};this.audio_track_.samples.push(u),this.audio_track_.length+=s.data.byteLength,l+=n}a&&(this.audio_last_sample_pts_=a)}},t.prototype.parseEAC3Payload=function(e,t){if(!this.has_video_||this.video_init_segment_dispatched_){var n,r;if(null!=t&&(r=t/this.timescale_),"ec-3"===this.audio_metadata_.codec)if(null==t&&null!=this.audio_last_sample_pts_)n=256*this.audio_metadata_.num_blks/this.audio_metadata_.sampling_frequency*1e3,r=this.audio_last_sample_pts_+n;else if(null==t)return void i.a.w(this.TAG,"EAC3: Unknown pts");for(var a,o=new ve(e),s=null,l=r;null!=(s=o.readNextEAC3Frame());){n=1536/s.sampling_frequency*1e3;var c={codec:"ec-3",data:s};0==this.audio_init_segment_dispatched_?(this.audio_metadata_={codec:"ec-3",sampling_frequency:s.sampling_frequency,bit_stream_identification:s.bit_stream_identification,low_frequency_effects_channel_on:s.low_frequency_effects_channel_on,num_blks:s.num_blks,channel_mode:s.channel_mode},this.dispatchAudioInitSegment(c)):this.detectAudioMetadataChange(c)&&(this.dispatchAudioMediaSegment(),this.dispatchAudioInitSegment(c)),a=l;var d=Math.floor(l),u={unit:s.data,length:s.data.byteLength,pts:d,dts:d};this.audio_track_.samples.push(u),this.audio_track_.length+=s.data.byteLength,l+=n}a&&(this.audio_last_sample_pts_=a)}},t.prototype.parseOpusPayload=function(e,t){if(!this.has_video_||this.video_init_segment_dispatched_){var n,r;if(null!=t&&(r=t/this.timescale_),"opus"===this.audio_metadata_.codec)if(null==t&&null!=this.audio_last_sample_pts_)n=20,r=this.audio_last_sample_pts_+n;else if(null==t)return void i.a.w(this.TAG,"Opus: Unknown pts");for(var a,o=r,s=0;s<e.length;){n=20;for(var l=!!(16&e[s+1]),c=!!(8&e[s+1]),d=s+2,u=0;255===e[d];)u+=255,d+=1;u+=e[d],d+=1,d+=l?2:0,d+=c?2:0,a=o;var p=Math.floor(o),h=e.slice(d,d+u),m={unit:h,length:h.byteLength,pts:p,dts:p};this.audio_track_.samples.push(m),this.audio_track_.length+=h.byteLength,o+=n,s=d+u}a&&(this.audio_last_sample_pts_=a)}},t.prototype.parseMP3Payload=function(e,t){if(!this.has_video_||this.video_init_segment_dispatched_){var n=e[1]>>>3&3,r=(6&e[1])>>1,a=(e[2],(12&e[2])>>>2),i=3&~(e[3]>>>6)?2:1,o=0,s=34;switch(n){case 0:o=[11025,12e3,8e3,0][a];break;case 2:o=[22050,24e3,16e3,0][a];break;case 3:o=[44100,48e3,32e3,0][a]}switch(r){case 1:s=34;break;case 2:s=33;break;case 3:s=32}var l=new me;l.object_type=s,l.sample_rate=o,l.channel_count=i,l.data=e;var c={codec:"mp3",data:l};0==this.audio_init_segment_dispatched_?(this.audio_metadata_={codec:"mp3",object_type:s,sample_rate:o,channel_count:i},this.dispatchAudioInitSegment(c)):this.detectAudioMetadataChange(c)&&(this.dispatchAudioMediaSegment(),this.dispatchAudioInitSegment(c));var d={unit:e,length:e.byteLength,pts:t/this.timescale_,dts:t/this.timescale_};this.audio_track_.samples.push(d),this.audio_track_.length+=e.byteLength}},t.prototype.detectAudioMetadataChange=function(e){if(e.codec!==this.audio_metadata_.codec)return i.a.v(this.TAG,"Audio: Audio Codecs changed from "+"".concat(this.audio_metadata_.codec," to ").concat(e.codec)),!0;if("aac"===e.codec&&"aac"===this.audio_metadata_.codec){if((t=e.data).audio_object_type!==this.audio_metadata_.audio_object_type)return i.a.v(this.TAG,"AAC: AudioObjectType changed from "+"".concat(this.audio_metadata_.audio_object_type," to ").concat(t.audio_object_type)),!0;if(t.sampling_freq_index!==this.audio_metadata_.sampling_freq_index)return i.a.v(this.TAG,"AAC: SamplingFrequencyIndex changed from "+"".concat(this.audio_metadata_.sampling_freq_index," to ").concat(t.sampling_freq_index)),!0;if(t.channel_config!==this.audio_metadata_.channel_config)return i.a.v(this.TAG,"AAC: Channel configuration changed from "+"".concat(this.audio_metadata_.channel_config," to ").concat(t.channel_config)),!0}else if("ac-3"===e.codec&&"ac-3"===this.audio_metadata_.codec){var t;if((t=e.data).sampling_frequency!==this.audio_metadata_.sampling_frequency)return i.a.v(this.TAG,"AC3: Sampling Frequency changed from "+"".concat(this.audio_metadata_.sampling_frequency," to ").concat(t.sampling_frequency)),!0;if(t.bit_stream_identification!==this.audio_metadata_.bit_stream_identification)return i.a.v(this.TAG,"AC3: Bit Stream Identification changed from "+"".concat(this.audio_metadata_.bit_stream_identification," to ").concat(t.bit_stream_identification)),!0;if(t.bit_stream_mode!==this.audio_metadata_.bit_stream_mode)return i.a.v(this.TAG,"AC3: BitStream Mode changed from "+"".concat(this.audio_metadata_.bit_stream_mode," to ").concat(t.bit_stream_mode)),!0;if(t.channel_mode!==this.audio_metadata_.channel_mode)return i.a.v(this.TAG,"AC3: Channel Mode changed from "+"".concat(this.audio_metadata_.channel_mode," to ").concat(t.channel_mode)),!0;if(t.low_frequency_effects_channel_on!==this.audio_metadata_.low_frequency_effects_channel_on)return i.a.v(this.TAG,"AC3: Low Frequency Effects Channel On changed from "+"".concat(this.audio_metadata_.low_frequency_effects_channel_on," to ").concat(t.low_frequency_effects_channel_on)),!0}else if("opus"===e.codec&&"opus"===this.audio_metadata_.codec){if((n=e.meta).sample_rate!==this.audio_metadata_.sample_rate)return i.a.v(this.TAG,"Opus: SamplingFrequencyIndex changed from "+"".concat(this.audio_metadata_.sample_rate," to ").concat(n.sample_rate)),!0;if(n.channel_count!==this.audio_metadata_.channel_count)return i.a.v(this.TAG,"Opus: Channel count changed from "+"".concat(this.audio_metadata_.channel_count," to ").concat(n.channel_count)),!0}else if("mp3"===e.codec&&"mp3"===this.audio_metadata_.codec){var n;if((n=e.data).object_type!==this.audio_metadata_.object_type)return i.a.v(this.TAG,"MP3: AudioObjectType changed from "+"".concat(this.audio_metadata_.object_type," to ").concat(n.object_type)),!0;if(n.sample_rate!==this.audio_metadata_.sample_rate)return i.a.v(this.TAG,"MP3: SamplingFrequencyIndex changed from "+"".concat(this.audio_metadata_.sample_rate," to ").concat(n.sample_rate)),!0;if(n.channel_count!==this.audio_metadata_.channel_count)return i.a.v(this.TAG,"MP3: Channel count changed from "+"".concat(this.audio_metadata_.channel_count," to ").concat(n.channel_count)),!0}return!1},t.prototype.dispatchAudioInitSegment=function(e){var t={type:"audio"};if(t.id=this.audio_track_.id,t.timescale=1e3,t.duration=this.duration_,"aac"===this.audio_metadata_.codec){var n="aac"===e.codec?e.data:null,r=new Y(n);t.audioSampleRate=r.sampling_rate,t.channelCount=r.channel_count,t.codec=r.codec_mimetype,t.originalCodec=r.original_codec_mimetype,t.config=r.config,t.refSampleDuration=1024/t.audioSampleRate*t.timescale}else if("ac-3"===this.audio_metadata_.codec){var a="ac-3"===e.codec?e.data:null,o=new _e(a);t.audioSampleRate=o.sampling_rate,t.channelCount=o.channel_count,t.codec=o.codec_mimetype,t.originalCodec=o.original_codec_mimetype,t.config=o.config,t.refSampleDuration=1536/t.audioSampleRate*t.timescale}else if("ec-3"===this.audio_metadata_.codec){var s="ec-3"===e.codec?e.data:null,l=new Ee(s);t.audioSampleRate=l.sampling_rate,t.channelCount=l.channel_count,t.codec=l.codec_mimetype,t.originalCodec=l.original_codec_mimetype,t.config=l.config,t.refSampleDuration=256*l.num_blks/t.audioSampleRate*t.timescale}else"opus"===this.audio_metadata_.codec?(t.audioSampleRate=this.audio_metadata_.sample_rate,t.channelCount=this.audio_metadata_.channel_count,t.channelConfigCode=this.audio_metadata_.channel_config_code,t.codec="opus",t.originalCodec="opus",t.config=void 0,t.refSampleDuration=20):"mp3"===this.audio_metadata_.codec&&(t.audioSampleRate=this.audio_metadata_.sample_rate,t.channelCount=this.audio_metadata_.channel_count,t.codec="mp3",t.originalCodec="mp3",t.config=void 0);0==this.audio_init_segment_dispatched_&&i.a.v(this.TAG,"Generated first AudioSpecificConfig for mimeType: ".concat(t.codec)),this.onTrackMetadata("audio",t),this.audio_init_segment_dispatched_=!0,this.video_metadata_changed_=!1;var c=this.media_info_;c.hasAudio=!0,c.audioCodec=t.originalCodec,c.audioSampleRate=t.audioSampleRate,c.audioChannelCount=t.channelCount,c.hasVideo&&c.videoCodec?c.mimeType='video/mp2t; codecs="'.concat(c.videoCodec,",").concat(c.audioCodec,'"'):c.mimeType='video/mp2t; codecs="'.concat(c.audioCodec,'"'),c.isComplete()&&this.onMediaInfo(c)},t.prototype.dispatchPESPrivateDataDescriptor=function(e,t,n){var r=new K;r.pid=e,r.stream_type=t,r.descriptor=n,this.onPESPrivateDataDescriptor&&this.onPESPrivateDataDescriptor(r)},t.prototype.parsePESPrivateDataPayload=function(e,t,n,r,a){var i=new Q;if(i.pid=r,i.stream_id=a,i.len=e.byteLength,i.data=e,null!=t){var o=Math.floor(t/this.timescale_);i.pts=o}else i.nearest_pts=this.getNearestTimestampMilliseconds();if(null!=n){var s=Math.floor(n/this.timescale_);i.dts=s}this.onPESPrivateData&&this.onPESPrivateData(i)},t.prototype.parseTimedID3MetadataPayload=function(e,t,n,r,a){var i=new Q;if(i.pid=r,i.stream_id=a,i.len=e.byteLength,i.data=e,null!=t){var o=Math.floor(t/this.timescale_);i.pts=o}if(null!=n){var s=Math.floor(n/this.timescale_);i.dts=s}this.onTimedID3Metadata&&this.onTimedID3Metadata(i)},t.prototype.parseSynchronousKLVMetadataPayload=function(e,t,n,r,a){var i=new Ce;if(i.pid=r,i.stream_id=a,i.len=e.byteLength,i.data=e,null!=t){var o=Math.floor(t/this.timescale_);i.pts=o}if(null!=n){var s=Math.floor(n/this.timescale_);i.dts=s}i.access_units=function(e){for(var t=[],n=0;n+5<e.byteLength;){var r=e[n+0],a=e[n+1],i=e[n+2],o=e[n+3]<<8|e[n+4],s=e.slice(n+5,n+5+o);t.push({service_id:r,sequence_number:a,flags:i,data:s}),n+=5+o}return t}(e),this.onSynchronousKLVMetadata&&this.onSynchronousKLVMetadata(i)},t.prototype.parseAsynchronousKLVMetadataPayload=function(e,t,n){var r=new Q;r.pid=t,r.stream_id=n,r.len=e.byteLength,r.data=e,this.onAsynchronousKLVMetadata&&this.onAsynchronousKLVMetadata(r)},t.prototype.parseSMPTE2038MetadataPayload=function(e,t,n,r,a){var i=new he;if(i.pid=r,i.stream_id=a,i.len=e.byteLength,i.data=e,null!=t){var o=Math.floor(t/this.timescale_);i.pts=o}if(i.nearest_pts=this.getNearestTimestampMilliseconds(),null!=n){var s=Math.floor(n/this.timescale_);i.dts=s}i.ancillaries=function(e){for(var t=new m(e),n=0,r=[];n+=6,0===t.readBits(6);){var a=t.readBool();n+=1;var i=t.readBits(11);n+=11;var o=t.readBits(12);n+=12;var s=255&t.readBits(10);n+=10;var l=255&t.readBits(10);n+=10;var c=255&t.readBits(10);n+=10;for(var d=new Uint8Array(c),u=0;u<c;u++){var p=255&t.readBits(10);n+=10,d[u]=p}t.readBits(10),n+=10;var h="User Defined";65===s?7===l&&(h="SCTE-104"):95===s?220===l?h="ARIB STD-B37 (1SEG)":221===l?h="ARIB STD-B37 (ANALOG)":222===l?h="ARIB STD-B37 (SD)":223===l&&(h="ARIB STD-B37 (HD)"):97===s&&(1===l?h="EIA-708":2===l&&(h="EIA-608")),r.push({yc_indicator:a,line_number:i,horizontal_offset:o,did:s,sdid:l,user_data:d,description:h,information:{}}),t.readBits(8-(n-Math.floor(n/8))%8),n+=(8-(n-Math.floor(n/8)))%8}return t.destroy(),t=null,r}(e),this.onSMPTE2038Metadata&&this.onSMPTE2038Metadata(i)},t.prototype.getNearestTimestampMilliseconds=function(){return null!=this.audio_last_sample_pts_?Math.floor(this.audio_last_sample_pts_):null!=this.last_pcr_?Math.floor(this.last_pcr_/300/this.timescale_):void 0},t.prototype.getPcrBase=function(e){var t=33554432*e[6]+131072*e[7]+512*e[8]+2*e[9]+(128&e[10])/128+this.timestamp_offset_;return t+4294967296<this.last_pcr_base_&&(t+=8589934592,this.timestamp_offset_+=8589934592),this.last_pcr_base_=t,t},t.prototype.getTimestamp=function(e,t){var n=536870912*(14&e[t])+4194304*(255&e[t+1])+16384*(254&e[t+2])+128*(255&e[t+3])+(254&e[t+4])/2+this.timestamp_offset_;return n+4294967296<this.last_pcr_base_&&(n+=8589934592),n},t}(B),Se=function(e,t,n){if(n||2===arguments.length)for(var r,a=0,i=t.length;a<i;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))},ke=function(){function e(){}return e.init=function(){for(var t in e.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],hvc1:[],hvcC:[],av01:[],av1C:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[],".mp3":[],Opus:[],dOps:[],"ac-3":[],dac3:[],"ec-3":[],dec3:[],fLaC:[],dfLa:[]},e.types)e.types.hasOwnProperty(t)&&(e.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);var n=e.constants={};n.FTYP=new Uint8Array([105,115,111,109,0,0,0,1,105,115,111,109,97,118,99,49]),n.STSD_PREFIX=new Uint8Array([0,0,0,0,0,0,0,1]),n.STTS=new Uint8Array([0,0,0,0,0,0,0,0]),n.STSC=n.STCO=n.STTS,n.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),n.HDLR_VIDEO=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),n.HDLR_AUDIO=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),n.DREF=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),n.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),n.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])},e.box=function(e){for(var t=8,n=null,r=Array.prototype.slice.call(arguments,1),a=r.length,i=0;i<a;i++)t+=r[i].byteLength;(n=new Uint8Array(t))[0]=t>>>24&255,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n.set(e,4);var o=8;for(i=0;i<a;i++)n.set(r[i],o),o+=r[i].byteLength;return n},e.generateInitSegment=function(t){var n=e.box(e.types.ftyp,e.constants.FTYP),r=e.moov(t),a=new Uint8Array(n.byteLength+r.byteLength);return a.set(n,0),a.set(r,n.byteLength),a},e.moov=function(t){var n=e.mvhd(t.timescale,t.duration),r=e.trak(t),a=e.mvex(t);return e.box(e.types.moov,n,r,a)},e.mvhd=function(t,n){return e.box(e.types.mvhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,t>>>24&255,t>>>16&255,t>>>8&255,255&t,n>>>24&255,n>>>16&255,n>>>8&255,255&n,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]))},e.trak=function(t){return e.box(e.types.trak,e.tkhd(t),e.mdia(t))},e.tkhd=function(t){var n=t.id,r=t.duration,a=t.presentWidth,i=t.presentHeight;return e.box(e.types.tkhd,new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,n>>>24&255,n>>>16&255,n>>>8&255,255&n,0,0,0,0,r>>>24&255,r>>>16&255,r>>>8&255,255&r,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,a>>>8&255,255&a,0,0,i>>>8&255,255&i,0,0]))},e.mdia=function(t){return e.box(e.types.mdia,e.mdhd(t),e.hdlr(t),e.minf(t))},e.mdhd=function(t){var n=t.timescale,r=t.duration;return e.box(e.types.mdhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,n>>>24&255,n>>>16&255,n>>>8&255,255&n,r>>>24&255,r>>>16&255,r>>>8&255,255&r,85,196,0,0]))},e.hdlr=function(t){var n;return n="audio"===t.type?e.constants.HDLR_AUDIO:e.constants.HDLR_VIDEO,e.box(e.types.hdlr,n)},e.minf=function(t){var n;return n="audio"===t.type?e.box(e.types.smhd,e.constants.SMHD):e.box(e.types.vmhd,e.constants.VMHD),e.box(e.types.minf,n,e.dinf(),e.stbl(t))},e.dinf=function(){return e.box(e.types.dinf,e.box(e.types.dref,e.constants.DREF))},e.stbl=function(t){return e.box(e.types.stbl,e.stsd(t),e.box(e.types.stts,e.constants.STTS),e.box(e.types.stsc,e.constants.STSC),e.box(e.types.stsz,e.constants.STSZ),e.box(e.types.stco,e.constants.STCO))},e.stsd=function(t){return"audio"===t.type?"mp3"===t.codec?e.box(e.types.stsd,e.constants.STSD_PREFIX,e.mp3(t)):"ac-3"===t.codec?e.box(e.types.stsd,e.constants.STSD_PREFIX,e.ac3(t)):"ec-3"===t.codec?e.box(e.types.stsd,e.constants.STSD_PREFIX,e.ec3(t)):"opus"===t.codec?e.box(e.types.stsd,e.constants.STSD_PREFIX,e.Opus(t)):"flac"==t.codec?e.box(e.types.stsd,e.constants.STSD_PREFIX,e.fLaC(t)):e.box(e.types.stsd,e.constants.STSD_PREFIX,e.mp4a(t)):"video"===t.type&&t.codec.startsWith("hvc1")?e.box(e.types.stsd,e.constants.STSD_PREFIX,e.hvc1(t)):"video"===t.type&&t.codec.startsWith("av01")?e.box(e.types.stsd,e.constants.STSD_PREFIX,e.av01(t)):e.box(e.types.stsd,e.constants.STSD_PREFIX,e.avc1(t))},e.mp3=function(t){var n=t.channelCount,r=t.audioSampleRate,a=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,n,0,16,0,0,0,0,r>>>8&255,255&r,0,0]);return e.box(e.types[".mp3"],a)},e.mp4a=function(t){var n=t.channelCount,r=t.audioSampleRate,a=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,n,0,16,0,0,0,0,r>>>8&255,255&r,0,0]);return e.box(e.types.mp4a,a,e.esds(t))},e.ac3=function(t){var n=t.channelCount,r=t.audioSampleRate,a=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,n,0,16,0,0,0,0,r>>>8&255,255&r,0,0]);return e.box(e.types["ac-3"],a,e.box(e.types.dac3,new Uint8Array(t.config)))},e.ec3=function(t){var n=t.channelCount,r=t.audioSampleRate,a=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,n,0,16,0,0,0,0,r>>>8&255,255&r,0,0]);return e.box(e.types["ec-3"],a,e.box(e.types.dec3,new Uint8Array(t.config)))},e.esds=function(t){var n=t.config||[],r=n.length,a=new Uint8Array([0,0,0,0,3,23+r,0,1,0,4,15+r,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([r]).concat(n).concat([6,1,2]));return e.box(e.types.esds,a)},e.Opus=function(t){var n=t.channelCount,r=t.audioSampleRate,a=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,n,0,16,0,0,0,0,r>>>8&255,255&r,0,0]);return e.box(e.types.Opus,a,e.dOps(t))},e.dOps=function(t){var n=t.channelCount,r=t.channelConfigCode,a=t.audioSampleRate;if(t.config)return e.box(e.types.dOps,t.config);var i=[];switch(r){case 1:case 2:i=[0];break;case 0:i=[255,1,1,0,1];break;case 128:i=[255,2,0,0,1];break;case 3:i=[1,2,1,0,2,1];break;case 4:i=[1,2,2,0,1,2,3];break;case 5:i=[1,3,2,0,4,1,2,3];break;case 6:i=[1,4,2,0,4,1,2,3,5];break;case 7:i=[1,4,2,0,4,1,2,3,5,6];break;case 8:i=[1,5,3,0,6,1,2,3,4,5,7];break;case 130:i=[1,1,2,0,1];break;case 131:i=[1,1,3,0,1,2];break;case 132:i=[1,1,4,0,1,2,3];break;case 133:i=[1,1,5,0,1,2,3,4];break;case 134:i=[1,1,6,0,1,2,3,4,5];break;case 135:i=[1,1,7,0,1,2,3,4,5,6];break;case 136:i=[1,1,8,0,1,2,3,4,5,6,7]}var o=new Uint8Array(Se([0,n,0,0,a>>>24&255,a>>>17&255,a>>>8&255,a>>>0&255,0,0],i,!0));return e.box(e.types.dOps,o)},e.fLaC=function(t){var n=t.channelCount,r=Math.min(t.audioSampleRate,65535),a=t.sampleSize,i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,n,0,a,0,0,0,0,r>>>8&255,255&r,0,0]);return e.box(e.types.fLaC,i,e.dfLa(t))},e.dfLa=function(t){var n=new Uint8Array(Se([0,0,0,0],t.config,!0));return e.box(e.types.dfLa,n)},e.avc1=function(t){var n=t.avcc,r=t.codecWidth,a=t.codecHeight,i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,r>>>8&255,255&r,a>>>8&255,255&a,0,72,0,0,0,72,0,0,0,0,0,0,0,1,10,120,113,113,47,102,108,118,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return e.box(e.types.avc1,i,e.box(e.types.avcC,n))},e.hvc1=function(t){var n=t.hvcc,r=t.codecWidth,a=t.codecHeight,i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,r>>>8&255,255&r,a>>>8&255,255&a,0,72,0,0,0,72,0,0,0,0,0,0,0,1,10,120,113,113,47,102,108,118,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return e.box(e.types.hvc1,i,e.box(e.types.hvcC,n))},e.av01=function(t){var n=t.av1c,r=t.codecWidth||192,a=t.codecHeight||108,i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,r>>>8&255,255&r,a>>>8&255,255&a,0,72,0,0,0,72,0,0,0,0,0,0,0,1,10,120,113,113,47,102,108,118,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return e.box(e.types.av01,i,e.box(e.types.av1C,n))},e.mvex=function(t){return e.box(e.types.mvex,e.trex(t))},e.trex=function(t){var n=t.id,r=new Uint8Array([0,0,0,0,n>>>24&255,n>>>16&255,n>>>8&255,255&n,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return e.box(e.types.trex,r)},e.moof=function(t,n){return e.box(e.types.moof,e.mfhd(t.sequenceNumber),e.traf(t,n))},e.mfhd=function(t){var n=new Uint8Array([0,0,0,0,t>>>24&255,t>>>16&255,t>>>8&255,255&t]);return e.box(e.types.mfhd,n)},e.traf=function(t,n){var r=t.id,a=e.box(e.types.tfhd,new Uint8Array([0,0,0,0,r>>>24&255,r>>>16&255,r>>>8&255,255&r])),i=e.box(e.types.tfdt,new Uint8Array([0,0,0,0,n>>>24&255,n>>>16&255,n>>>8&255,255&n])),o=e.sdtp(t),s=e.trun(t,o.byteLength+16+16+8+16+8+8);return e.box(e.types.traf,a,i,s,o)},e.sdtp=function(t){for(var n=t.samples||[],r=n.length,a=new Uint8Array(4+r),i=0;i<r;i++){var o=n[i].flags;a[i+4]=o.isLeading<<6|o.dependsOn<<4|o.isDependedOn<<2|o.hasRedundancy}return e.box(e.types.sdtp,a)},e.trun=function(t,n){var r=t.samples||[],a=r.length,i=12+16*a,o=new Uint8Array(i);n+=8+i,o.set([0,0,15,1,a>>>24&255,a>>>16&255,a>>>8&255,255&a,n>>>24&255,n>>>16&255,n>>>8&255,255&n],0);for(var s=0;s<a;s++){var l=r[s].duration,c=r[s].size,d=r[s].flags,u=r[s].cts;o.set([l>>>24&255,l>>>16&255,l>>>8&255,255&l,c>>>24&255,c>>>16&255,c>>>8&255,255&c,d.isLeading<<2|d.dependsOn,d.isDependedOn<<6|d.hasRedundancy<<4|d.isNonSync,0,0,u>>>24&255,u>>>16&255,u>>>8&255,255&u],12+16*s)}return e.box(e.types.trun,o)},e.mdat=function(t){return e.box(e.types.mdat,t)},e}();ke.init();var Te=ke,Ie=function(){function e(){}return e.getSilentFrame=function(e,t){if("mp4a.40.2"===e){if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},e}(),Re=n(11),Le=function(){function e(e){this.TAG="MP4Remuxer",this._config=e,this._isLive=!0===e.isLive,this._dtsBase=-1,this._dtsBaseInited=!1,this._audioDtsBase=1/0,this._videoDtsBase=1/0,this._audioNextDts=void 0,this._videoNextDts=void 0,this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList=new Re.c("audio"),this._videoSegmentInfoList=new Re.c("video"),this._onInitSegment=null,this._onMediaSegment=null,this._forceFirstIDR=!(!o.a.chrome||!(o.a.version.major<50||50===o.a.version.major&&o.a.version.build<2661)),this._fillSilentAfterSeek=o.a.msedge||o.a.msie,this._mp3UseMpegAudio=!o.a.firefox,this._fillAudioTimestampGap=this._config.fixAudioTimestampGap}return e.prototype.destroy=function(){this._dtsBase=-1,this._dtsBaseInited=!1,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList.clear(),this._audioSegmentInfoList=null,this._videoSegmentInfoList.clear(),this._videoSegmentInfoList=null,this._onInitSegment=null,this._onMediaSegment=null},e.prototype.bindDataSource=function(e){return e.onDataAvailable=this.remux.bind(this),e.onTrackMetadata=this._onTrackMetadataReceived.bind(this),this},Object.defineProperty(e.prototype,"onInitSegment",{get:function(){return this._onInitSegment},set:function(e){this._onInitSegment=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onMediaSegment",{get:function(){return this._onMediaSegment},set:function(e){this._onMediaSegment=e},enumerable:!1,configurable:!0}),e.prototype.insertDiscontinuity=function(){this._audioNextDts=this._videoNextDts=void 0},e.prototype.seek=function(e){this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._videoSegmentInfoList.clear(),this._audioSegmentInfoList.clear()},e.prototype.remux=function(e,t){if(!this._onMediaSegment)throw new u.a("MP4Remuxer: onMediaSegment callback must be specificed!");this._dtsBaseInited||this._calculateDtsBase(e,t),t&&this._remuxVideo(t),e&&this._remuxAudio(e)},e.prototype._onTrackMetadataReceived=function(e,t){var n=null,r="mp4",a=t.codec;if("audio"===e)this._audioMeta=t,"mp3"===t.codec&&this._mp3UseMpegAudio?(r="mpeg",a="",n=new Uint8Array):n=Te.generateInitSegment(t);else{if("video"!==e)return;this._videoMeta=t,n=Te.generateInitSegment(t)}if(!this._onInitSegment)throw new u.a("MP4Remuxer: onInitSegment callback must be specified!");this._onInitSegment(e,{type:e,data:n.buffer,codec:a,container:"".concat(e,"/").concat(r),mediaDuration:t.duration})},e.prototype._calculateDtsBase=function(e,t){this._dtsBaseInited||(e&&e.samples&&e.samples.length&&(this._audioDtsBase=e.samples[0].dts),t&&t.samples&&t.samples.length&&(this._videoDtsBase=t.samples[0].dts),this._dtsBase=Math.min(this._audioDtsBase,this._videoDtsBase),this._dtsBaseInited=!0)},e.prototype.getTimestampBase=function(){if(this._dtsBaseInited)return this._dtsBase},e.prototype.flushStashedSamples=function(){var e=this._videoStashedLastSample,t=this._audioStashedLastSample,n={type:"video",id:1,sequenceNumber:0,samples:[],length:0};null!=e&&(n.samples.push(e),n.length=e.length);var r={type:"audio",id:2,sequenceNumber:0,samples:[],length:0};null!=t&&(r.samples.push(t),r.length=t.length),this._videoStashedLastSample=null,this._audioStashedLastSample=null,this._remuxVideo(n,!0),this._remuxAudio(r,!0)},e.prototype._remuxAudio=function(e,t){if(null!=this._audioMeta){var n,r=e,a=r.samples,s=void 0,l=-1,c=this._audioMeta.refSampleDuration,d="mp3"===this._audioMeta.codec&&this._mp3UseMpegAudio,u=this._dtsBaseInited&&void 0===this._audioNextDts,p=!1;if(a&&0!==a.length&&(1!==a.length||t)){var h=0,m=null,f=0;d?(h=0,f=r.length):(h=8,f=8+r.length);var A=null;if(a.length>1&&(f-=(A=a.pop()).length),null!=this._audioStashedLastSample){var g=this._audioStashedLastSample;this._audioStashedLastSample=null,a.unshift(g),f+=g.length}null!=A&&(this._audioStashedLastSample=A);var _=a[0].dts-this._dtsBase;if(this._audioNextDts)s=_-this._audioNextDts;else if(this._audioSegmentInfoList.isEmpty())s=0,this._fillSilentAfterSeek&&!this._videoSegmentInfoList.isEmpty()&&"mp3"!==this._audioMeta.originalCodec&&(p=!0);else{var y=this._audioSegmentInfoList.getLastSampleBefore(_);if(null!=y){var v=_-(y.originalDts+y.duration);v<=3&&(v=0),s=_-(y.dts+y.duration+v)}else s=0}if(p){var E=_-s,C=this._videoSegmentInfoList.getLastSegmentBefore(_);if(null!=C&&C.beginDts<E){if(D=Ie.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount)){var b=C.beginDts,x=E-C.beginDts;i.a.v(this.TAG,"InsertPrefixSilentAudio: dts: ".concat(b,", duration: ").concat(x)),a.unshift({unit:D,dts:b,pts:b}),f+=D.byteLength}}else p=!1}for(var w=[],B=0;B<a.length;B++){var S=(g=a[B]).unit,k=g.dts-this._dtsBase,T=(b=k,!1),I=null,R=0;if(!(k<-.001)){if("mp3"!==this._audioMeta.codec&&null!=c){var L=k;if(this._audioNextDts&&(L=this._audioNextDts),(s=k-L)<=-3*c){i.a.w(this.TAG,"Dropping 1 audio frame (originalDts: ".concat(k," ms ,curRefDts: ").concat(L," ms)  due to dtsCorrection: ").concat(s," ms overlap."));continue}if(s>=3*c&&this._fillAudioTimestampGap&&!o.a.safari){T=!0;var D,O=Math.floor(s/c);i.a.w(this.TAG,"Large audio timestamp gap detected, may cause AV sync to drift. Silent frames will be generated to avoid unsync.\n"+"originalDts: ".concat(k," ms, curRefDts: ").concat(L," ms, ")+"dtsCorrection: ".concat(Math.round(s)," ms, generate: ").concat(O," frames")),b=Math.floor(L),R=Math.floor(L+c)-b,null==(D=Ie.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount))&&(i.a.w(this.TAG,"Unable to generate silent frame for "+"".concat(this._audioMeta.originalCodec," with ").concat(this._audioMeta.channelCount," channels, repeat last frame")),D=S),I=[];for(var N=0;N<O;N++){L+=c;var P=Math.floor(L),M=Math.floor(L+c)-P,U={dts:P,pts:P,cts:0,unit:D,size:D.byteLength,duration:M,originalDts:k,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}};I.push(U),f+=U.size}this._audioNextDts=L+c}else b=Math.floor(L),R=Math.floor(L+c)-b,this._audioNextDts=L+c}else b=k-s,R=B!==a.length-1?a[B+1].dts-this._dtsBase-s-b:null!=A?A.dts-this._dtsBase-s-b:w.length>=1?w[w.length-1].duration:Math.floor(c),this._audioNextDts=b+R;-1===l&&(l=b),w.push({dts:b,pts:b,cts:0,unit:g.unit,size:g.unit.byteLength,duration:R,originalDts:k,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}}),T&&w.push.apply(w,I)}}if(0===w.length)return r.samples=[],void(r.length=0);for(d?m=new Uint8Array(f):((m=new Uint8Array(f))[0]=f>>>24&255,m[1]=f>>>16&255,m[2]=f>>>8&255,m[3]=255&f,m.set(Te.types.mdat,4)),B=0;B<w.length;B++)S=w[B].unit,m.set(S,h),h+=S.byteLength;var F=w[w.length-1];n=F.dts+F.duration;var z=new Re.b;z.beginDts=l,z.endDts=n,z.beginPts=l,z.endPts=n,z.originalBeginDts=w[0].originalDts,z.originalEndDts=F.originalDts+F.duration,z.firstSample=new Re.d(w[0].dts,w[0].pts,w[0].duration,w[0].originalDts,!1),z.lastSample=new Re.d(F.dts,F.pts,F.duration,F.originalDts,!1),this._isLive||this._audioSegmentInfoList.append(z),r.samples=w,r.sequenceNumber++;var j;j=d?new Uint8Array:Te.moof(r,l),r.samples=[],r.length=0;var V={type:"audio",data:this._mergeBoxes(j,m).buffer,sampleCount:w.length,info:z};d&&u&&(V.timestampOffset=l),this._onMediaSegment("audio",V)}}},e.prototype._remuxVideo=function(e,t){if(null!=this._videoMeta){var n,r,a=e,i=a.samples,o=void 0,s=-1,l=-1;if(i&&0!==i.length&&(1!==i.length||t)){var c=8,d=null,u=8+e.length,p=null;if(i.length>1&&(u-=(p=i.pop()).length),null!=this._videoStashedLastSample){var h=this._videoStashedLastSample;this._videoStashedLastSample=null,i.unshift(h),u+=h.length}null!=p&&(this._videoStashedLastSample=p);var m=i[0].dts-this._dtsBase;if(this._videoNextDts)o=m-this._videoNextDts;else if(this._videoSegmentInfoList.isEmpty())o=0;else{var f=this._videoSegmentInfoList.getLastSampleBefore(m);if(null!=f){var A=m-(f.originalDts+f.duration);A<=3&&(A=0),o=m-(f.dts+f.duration+A)}else o=0}for(var g=new Re.b,_=[],y=0;y<i.length;y++){var v=(h=i[y]).dts-this._dtsBase,E=h.isKeyframe,C=v-o,b=h.cts,x=C+b;-1===s&&(s=C,l=x);var w;if(w=y!==i.length-1?i[y+1].dts-this._dtsBase-o-C:null!=p?p.dts-this._dtsBase-o-C:_.length>=1?_[_.length-1].duration:Math.floor(this._videoMeta.refSampleDuration),E){var B=new Re.d(C,x,w,h.dts,!0);B.fileposition=h.fileposition,g.appendSyncPoint(B)}_.push({dts:C,pts:x,cts:b,units:h.units,size:h.length,isKeyframe:E,duration:w,originalDts:v,flags:{isLeading:0,dependsOn:E?2:1,isDependedOn:E?1:0,hasRedundancy:0,isNonSync:E?0:1}})}for((d=new Uint8Array(u))[0]=u>>>24&255,d[1]=u>>>16&255,d[2]=u>>>8&255,d[3]=255&u,d.set(Te.types.mdat,4),y=0;y<_.length;y++)for(var S=_[y].units;S.length;){var k=S.shift().data;d.set(k,c),c+=k.byteLength}var T=_[_.length-1];if(n=T.dts+T.duration,r=T.pts+T.duration,this._videoNextDts=n,g.beginDts=s,g.endDts=n,g.beginPts=l,g.endPts=r,g.originalBeginDts=_[0].originalDts,g.originalEndDts=T.originalDts+T.duration,g.firstSample=new Re.d(_[0].dts,_[0].pts,_[0].duration,_[0].originalDts,_[0].isKeyframe),g.lastSample=new Re.d(T.dts,T.pts,T.duration,T.originalDts,T.isKeyframe),this._isLive||this._videoSegmentInfoList.append(g),a.samples=_,a.sequenceNumber++,this._forceFirstIDR){var I=_[0].flags;I.dependsOn=2,I.isNonSync=0}var R=Te.moof(a,s);a.samples=[],a.length=0,this._onMediaSegment("video",{type:"video",data:this._mergeBoxes(R,d).buffer,sampleCount:_.length,info:g})}}},e.prototype._mergeBoxes=function(e,t){var n=new Uint8Array(e.byteLength+t.byteLength);return n.set(e,0),n.set(t,e.byteLength),n},e}(),De=n(14),Oe=n(1),Ne=(n(2),function(){function e(e,t){this.TAG="TransmuxingController",this._emitter=new a.a,this._config=t,e.segments||(e.segments=[{duration:e.duration,filesize:e.filesize,url:e.url}]),"boolean"!=typeof e.cors&&(e.cors=!0),"boolean"!=typeof e.withCredentials&&(e.withCredentials=!1),this._mediaDataSource=e,this._currentSegmentIndex=0;var n=0;this._mediaDataSource.segments.forEach(function(r){r.timestampBase=n,n+=r.duration,r.cors=e.cors,r.withCredentials=e.withCredentials,t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy)}),isNaN(n)||this._mediaDataSource.duration===n||(this._mediaDataSource.duration=n),this._mediaInfo=null,this._demuxer=null,this._remuxer=null,this._ioctl=null,this._pendingSeekTime=null,this._pendingResolveSeekPoint=null,this._statisticsReporter=null}return e.prototype.destroy=function(){this._mediaInfo=null,this._mediaDataSource=null,this._statisticsReporter&&this._disableStatisticsReporter(),this._ioctl&&(this._ioctl.destroy(),this._ioctl=null),this._demuxer&&(this._demuxer.destroy(),this._demuxer=null),this._remuxer&&(this._remuxer.destroy(),this._remuxer=null),this._emitter.removeAllListeners(),this._emitter=null},e.prototype.on=function(e,t){this._emitter.addListener(e,t)},e.prototype.off=function(e,t){this._emitter.removeListener(e,t)},e.prototype.start=function(){this._loadSegment(0),this._enableStatisticsReporter()},e.prototype._loadSegment=function(e,t){this._currentSegmentIndex=e;var n=this._mediaDataSource.segments[e],r=this._ioctl=new De.a(n,this._config,e);r.onError=this._onIOException.bind(this),r.onSeeked=this._onIOSeeked.bind(this),r.onComplete=this._onIOComplete.bind(this),r.onRedirect=this._onIORedirect.bind(this),r.onRecoveredEarlyEof=this._onIORecoveredEarlyEof.bind(this),t?this._demuxer.bindDataSource(this._ioctl):r.onDataArrival=this._onInitChunkArrival.bind(this),r.open(t)},e.prototype.stop=function(){this._internalAbort(),this._disableStatisticsReporter()},e.prototype._internalAbort=function(){this._ioctl&&(this._ioctl.destroy(),this._ioctl=null)},e.prototype.pause=function(){this._ioctl&&this._ioctl.isWorking()&&(this._ioctl.pause(),this._disableStatisticsReporter())},e.prototype.resume=function(){this._ioctl&&this._ioctl.isPaused()&&(this._ioctl.resume(),this._enableStatisticsReporter())},e.prototype.seek=function(e){if(null!=this._mediaInfo&&this._mediaInfo.isSeekable()){var t=this._searchSegmentIndexContains(e);if(t===this._currentSegmentIndex){var n=this._mediaInfo.segments[t];if(null==n)this._pendingSeekTime=e;else{var r=n.getNearestKeyframe(e);this._remuxer.seek(r.milliseconds),this._ioctl.seek(r.fileposition),this._pendingResolveSeekPoint=r.milliseconds}}else{var a=this._mediaInfo.segments[t];null==a?(this._pendingSeekTime=e,this._internalAbort(),this._remuxer.seek(),this._remuxer.insertDiscontinuity(),this._loadSegment(t)):(r=a.getNearestKeyframe(e),this._internalAbort(),this._remuxer.seek(e),this._remuxer.insertDiscontinuity(),this._demuxer.resetMediaInfo(),this._demuxer.timestampBase=this._mediaDataSource.segments[t].timestampBase,this._loadSegment(t,r.fileposition),this._pendingResolveSeekPoint=r.milliseconds,this._reportSegmentMediaInfo(t))}this._enableStatisticsReporter()}},e.prototype._searchSegmentIndexContains=function(e){for(var t=this._mediaDataSource.segments,n=t.length-1,r=0;r<t.length;r++)if(e<t[r].timestampBase){n=r-1;break}return n},e.prototype._onInitChunkArrival=function(e,t){var n=this,r=0;if(t>0)this._demuxer.bindDataSource(this._ioctl),this._demuxer.timestampBase=this._mediaDataSource.segments[this._currentSegmentIndex].timestampBase,r=this._demuxer.parseChunks(e,t);else{var a=null;(a=w.probe(e)).match&&(this._setupFLVDemuxerRemuxer(a),r=this._demuxer.parseChunks(e,t)),a.match||a.needMoreData||(a=Be.probe(e)).match&&(this._setupTSDemuxerRemuxer(a),r=this._demuxer.parseChunks(e,t)),a.match||a.needMoreData||(a=null,i.a.e(this.TAG,"Non MPEG-TS/FLV, Unsupported media type!"),Promise.resolve().then(function(){n._internalAbort()}),this._emitter.emit(Oe.a.DEMUX_ERROR,A.a.FORMAT_UNSUPPORTED,"Non MPEG-TS/FLV, Unsupported media type!"))}return r},e.prototype._setupFLVDemuxerRemuxer=function(e){this._demuxer=new w(e,this._config),this._remuxer||(this._remuxer=new Le(this._config));var t=this._mediaDataSource;null==t.duration||isNaN(t.duration)||(this._demuxer.overridedDuration=t.duration),"boolean"==typeof t.hasAudio&&(this._demuxer.overridedHasAudio=t.hasAudio),"boolean"==typeof t.hasVideo&&(this._demuxer.overridedHasVideo=t.hasVideo),this._demuxer.timestampBase=t.segments[this._currentSegmentIndex].timestampBase,this._demuxer.onError=this._onDemuxException.bind(this),this._demuxer.onMediaInfo=this._onMediaInfo.bind(this),this._demuxer.onMetaDataArrived=this._onMetaDataArrived.bind(this),this._demuxer.onScriptDataArrived=this._onScriptDataArrived.bind(this),this._remuxer.bindDataSource(this._demuxer.bindDataSource(this._ioctl)),this._remuxer.onInitSegment=this._onRemuxerInitSegmentArrival.bind(this),this._remuxer.onMediaSegment=this._onRemuxerMediaSegmentArrival.bind(this)},e.prototype._setupTSDemuxerRemuxer=function(e){var t=this._demuxer=new Be(e,this._config);this._remuxer||(this._remuxer=new Le(this._config)),t.onError=this._onDemuxException.bind(this),t.onMediaInfo=this._onMediaInfo.bind(this),t.onMetaDataArrived=this._onMetaDataArrived.bind(this),t.onTimedID3Metadata=this._onTimedID3Metadata.bind(this),t.onSynchronousKLVMetadata=this._onSynchronousKLVMetadata.bind(this),t.onAsynchronousKLVMetadata=this._onAsynchronousKLVMetadata.bind(this),t.onSMPTE2038Metadata=this._onSMPTE2038Metadata.bind(this),t.onSCTE35Metadata=this._onSCTE35Metadata.bind(this),t.onPESPrivateDataDescriptor=this._onPESPrivateDataDescriptor.bind(this),t.onPESPrivateData=this._onPESPrivateData.bind(this),this._remuxer.bindDataSource(this._demuxer),this._demuxer.bindDataSource(this._ioctl),this._remuxer.onInitSegment=this._onRemuxerInitSegmentArrival.bind(this),this._remuxer.onMediaSegment=this._onRemuxerMediaSegmentArrival.bind(this)},e.prototype._onMediaInfo=function(e){var t=this;null==this._mediaInfo&&(this._mediaInfo=Object.assign({},e),this._mediaInfo.keyframesIndex=null,this._mediaInfo.segments=[],this._mediaInfo.segmentCount=this._mediaDataSource.segments.length,Object.setPrototypeOf(this._mediaInfo,s.a.prototype));var n=Object.assign({},e);Object.setPrototypeOf(n,s.a.prototype),this._mediaInfo.segments[this._currentSegmentIndex]=n,this._reportSegmentMediaInfo(this._currentSegmentIndex),null!=this._pendingSeekTime&&Promise.resolve().then(function(){var e=t._pendingSeekTime;t._pendingSeekTime=null,t.seek(e)})},e.prototype._onMetaDataArrived=function(e){this._emitter.emit(Oe.a.METADATA_ARRIVED,e)},e.prototype._onScriptDataArrived=function(e){this._emitter.emit(Oe.a.SCRIPTDATA_ARRIVED,e)},e.prototype._onTimedID3Metadata=function(e){var t=this._remuxer.getTimestampBase();null!=t&&(null!=e.pts&&(e.pts-=t),null!=e.dts&&(e.dts-=t),this._emitter.emit(Oe.a.TIMED_ID3_METADATA_ARRIVED,e))},e.prototype._onSynchronousKLVMetadata=function(e){var t=this._remuxer.getTimestampBase();null!=t&&(null!=e.pts&&(e.pts-=t),null!=e.dts&&(e.dts-=t),this._emitter.emit(Oe.a.SYNCHRONOUS_KLV_METADATA_ARRIVED,e))},e.prototype._onAsynchronousKLVMetadata=function(e){this._emitter.emit(Oe.a.ASYNCHRONOUS_KLV_METADATA_ARRIVED,e)},e.prototype._onSMPTE2038Metadata=function(e){var t=this._remuxer.getTimestampBase();null!=t&&(null!=e.pts&&(e.pts-=t),null!=e.dts&&(e.dts-=t),null!=e.nearest_pts&&(e.nearest_pts-=t),this._emitter.emit(Oe.a.SMPTE2038_METADATA_ARRIVED,e))},e.prototype._onSCTE35Metadata=function(e){var t=this._remuxer.getTimestampBase();null!=t&&(null!=e.pts&&(e.pts-=t),null!=e.nearest_pts&&(e.nearest_pts-=t),this._emitter.emit(Oe.a.SCTE35_METADATA_ARRIVED,e))},e.prototype._onPESPrivateDataDescriptor=function(e){this._emitter.emit(Oe.a.PES_PRIVATE_DATA_DESCRIPTOR,e)},e.prototype._onPESPrivateData=function(e){var t=this._remuxer.getTimestampBase();null!=t&&(null!=e.pts&&(e.pts-=t),null!=e.nearest_pts&&(e.nearest_pts-=t),null!=e.dts&&(e.dts-=t),this._emitter.emit(Oe.a.PES_PRIVATE_DATA_ARRIVED,e))},e.prototype._onIOSeeked=function(){this._remuxer.insertDiscontinuity()},e.prototype._onIOComplete=function(e){var t=e+1;t<this._mediaDataSource.segments.length?(this._internalAbort(),this._remuxer&&this._remuxer.flushStashedSamples(),this._loadSegment(t)):(this._remuxer&&this._remuxer.flushStashedSamples(),this._emitter.emit(Oe.a.LOADING_COMPLETE),this._disableStatisticsReporter())},e.prototype._onIORedirect=function(e){var t=this._ioctl.extraData;this._mediaDataSource.segments[t].redirectedURL=e},e.prototype._onIORecoveredEarlyEof=function(){this._emitter.emit(Oe.a.RECOVERED_EARLY_EOF)},e.prototype._onIOException=function(e,t){i.a.e(this.TAG,"IOException: type = ".concat(e,", code = ").concat(t.code,", msg = ").concat(t.msg)),this._emitter.emit(Oe.a.IO_ERROR,e,t),this._disableStatisticsReporter()},e.prototype._onDemuxException=function(e,t){i.a.e(this.TAG,"DemuxException: type = ".concat(e,", info = ").concat(t)),this._emitter.emit(Oe.a.DEMUX_ERROR,e,t)},e.prototype._onRemuxerInitSegmentArrival=function(e,t){this._emitter.emit(Oe.a.INIT_SEGMENT,e,t)},e.prototype._onRemuxerMediaSegmentArrival=function(e,t){if(null==this._pendingSeekTime&&(this._emitter.emit(Oe.a.MEDIA_SEGMENT,e,t),null!=this._pendingResolveSeekPoint&&"video"===e)){var n=t.info.syncPoints,r=this._pendingResolveSeekPoint;this._pendingResolveSeekPoint=null,o.a.safari&&n.length>0&&n[0].originalDts===r&&(r=n[0].pts),this._emitter.emit(Oe.a.RECOMMEND_SEEKPOINT,r)}},e.prototype._enableStatisticsReporter=function(){null==this._statisticsReporter&&(this._statisticsReporter=self.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval))},e.prototype._disableStatisticsReporter=function(){this._statisticsReporter&&(self.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},e.prototype._reportSegmentMediaInfo=function(e){var t=this._mediaInfo.segments[e],n=Object.assign({},t);n.duration=this._mediaInfo.duration,n.segmentCount=this._mediaInfo.segmentCount,delete n.segments,delete n.keyframesIndex,this._emitter.emit(Oe.a.MEDIA_INFO,n)},e.prototype._reportStatisticsInfo=function(){var e={};e.url=this._ioctl.currentURL,e.hasRedirect=this._ioctl.hasRedirect,e.hasRedirect&&(e.redirectedURL=this._ioctl.currentRedirectedURL),e.speed=this._ioctl.currentSpeed,e.loaderType=this._ioctl.loaderType,e.currentSegmentIndex=this._currentSegmentIndex,e.totalSegmentCount=this._mediaDataSource.segments.length,this._emitter.emit(Oe.a.STATISTICS_INFO,e)},e}());t.a=Ne},function(e,t,n){"use strict";var r,a=n(0),i=function(){function e(){this._firstCheckpoint=0,this._lastCheckpoint=0,this._intervalBytes=0,this._totalBytes=0,this._lastSecondBytes=0,self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now}return e.prototype.reset=function(){this._firstCheckpoint=this._lastCheckpoint=0,this._totalBytes=this._intervalBytes=0,this._lastSecondBytes=0},e.prototype.addBytes=function(e){0===this._firstCheckpoint?(this._firstCheckpoint=this._now(),this._lastCheckpoint=this._firstCheckpoint,this._intervalBytes+=e,this._totalBytes+=e):this._now()-this._lastCheckpoint<1e3?(this._intervalBytes+=e,this._totalBytes+=e):(this._lastSecondBytes=this._intervalBytes,this._intervalBytes=e,this._totalBytes+=e,this._lastCheckpoint=this._now())},Object.defineProperty(e.prototype,"currentKBps",{get:function(){this.addBytes(0);var e=(this._now()-this._lastCheckpoint)/1e3;return 0==e&&(e=1),this._intervalBytes/e/1024},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastSecondKBps",{get:function(){return this.addBytes(0),0!==this._lastSecondBytes?this._lastSecondBytes/1024:this._now()-this._lastCheckpoint>=500?this.currentKBps:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"averageKBps",{get:function(){var e=(this._now()-this._firstCheckpoint)/1e3;return this._totalBytes/e/1024},enumerable:!1,configurable:!0}),e}(),o=n(2),s=n(5),l=n(3),c=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),d=function(e){function t(t,n){var r=e.call(this,"fetch-stream-loader")||this;return r.TAG="FetchStreamLoader",r._seekHandler=t,r._config=n,r._needStash=!0,r._requestAbort=!1,r._abortController=null,r._contentLength=null,r._receivedLength=0,r}return c(t,e),t.isSupported=function(){try{var e=s.a.msedge&&s.a.version.minor>=15048,t=!s.a.msedge||e;return self.fetch&&self.ReadableStream&&t}catch(e){return!1}},t.prototype.destroy=function(){this.isWorking()&&this.abort(),e.prototype.destroy.call(this)},t.prototype.open=function(e,t){var n=this;this._dataSource=e,this._range=t;var r=e.url;this._config.reuseRedirectedURL&&null!=e.redirectedURL&&(r=e.redirectedURL);var a=this._seekHandler.getConfig(r,t),i=new self.Headers;if("object"==typeof a.headers){var s=a.headers;for(var c in s)s.hasOwnProperty(c)&&i.append(c,s[c])}var d={method:"GET",headers:i,mode:"cors",cache:"default",referrerPolicy:"no-referrer-when-downgrade"};if("object"==typeof this._config.headers)for(var c in this._config.headers)i.append(c,this._config.headers[c]);!1===e.cors&&(d.mode="same-origin"),e.withCredentials&&(d.credentials="include"),e.referrerPolicy&&(d.referrerPolicy=e.referrerPolicy),self.AbortController&&(this._abortController=new self.AbortController,d.signal=this._abortController.signal),this._status=o.c.kConnecting,self.fetch(a.url,d).then(function(e){if(n._requestAbort)return n._status=o.c.kIdle,void e.body.cancel();if(e.ok&&e.status>=200&&e.status<=299){if(e.url!==a.url&&n._onURLRedirect){var t=n._seekHandler.removeURLParameters(e.url);n._onURLRedirect(t)}var r=e.headers.get("Content-Length");return null!=r&&(n._contentLength=parseInt(r),0!==n._contentLength&&n._onContentLengthKnown&&n._onContentLengthKnown(n._contentLength)),n._pump.call(n,e.body.getReader())}if(n._status=o.c.kError,!n._onError)throw new l.d("FetchStreamLoader: Http code invalid, "+e.status+" "+e.statusText);n._onError(o.b.HTTP_STATUS_CODE_INVALID,{code:e.status,msg:e.statusText})}).catch(function(e){if(!n._abortController||!n._abortController.signal.aborted){if(n._status=o.c.kError,!n._onError)throw e;n._onError(o.b.EXCEPTION,{code:-1,msg:e.message})}})},t.prototype.abort=function(){if(this._requestAbort=!0,(this._status!==o.c.kBuffering||!s.a.chrome)&&this._abortController)try{this._abortController.abort()}catch(e){}},t.prototype._pump=function(e){var t=this;return e.read().then(function(n){if(n.done)if(null!==t._contentLength&&t._receivedLength<t._contentLength){t._status=o.c.kError;var r=o.b.EARLY_EOF,a={code:-1,msg:"Fetch stream meet Early-EOF"};if(!t._onError)throw new l.d(a.msg);t._onError(r,a)}else t._status=o.c.kComplete,t._onComplete&&t._onComplete(t._range.from,t._range.from+t._receivedLength-1);else{if(t._abortController&&t._abortController.signal.aborted)return void(t._status=o.c.kComplete);if(!0===t._requestAbort)return t._status=o.c.kComplete,e.cancel();t._status=o.c.kBuffering;var i=n.value.buffer,s=t._range.from+t._receivedLength;t._receivedLength+=i.byteLength,t._onDataArrival&&t._onDataArrival(i,s,t._receivedLength),t._pump(e)}}).catch(function(e){if(t._abortController&&t._abortController.signal.aborted)t._status=o.c.kComplete;else if(11!==e.code||!s.a.msedge){t._status=o.c.kError;var n=0,r=null;if(19!==e.code&&"network error"!==e.message||!(null===t._contentLength||null!==t._contentLength&&t._receivedLength<t._contentLength)?(n=o.b.EXCEPTION,r={code:e.code,msg:e.message}):(n=o.b.EARLY_EOF,r={code:e.code,msg:"Fetch stream meet Early-EOF"}),!t._onError)throw new l.d(r.msg);t._onError(n,r)}})},t}(o.a),u=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),p=function(e){function t(t,n){var r=e.call(this,"xhr-moz-chunked-loader")||this;return r.TAG="MozChunkedLoader",r._seekHandler=t,r._config=n,r._needStash=!0,r._xhr=null,r._requestAbort=!1,r._contentLength=null,r._receivedLength=0,r}return u(t,e),t.isSupported=function(){try{var e=new XMLHttpRequest;return e.open("GET","https://example.com",!0),e.responseType="moz-chunked-arraybuffer","moz-chunked-arraybuffer"===e.responseType}catch(e){return a.a.w("MozChunkedLoader",e.message),!1}},t.prototype.destroy=function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onloadend=null,this._xhr.onerror=null,this._xhr=null),e.prototype.destroy.call(this)},t.prototype.open=function(e,t){this._dataSource=e,this._range=t;var n=e.url;this._config.reuseRedirectedURL&&null!=e.redirectedURL&&(n=e.redirectedURL);var r=this._seekHandler.getConfig(n,t);this._requestURL=r.url;var a=this._xhr=new XMLHttpRequest;if(a.open("GET",r.url,!0),a.responseType="moz-chunked-arraybuffer",a.onreadystatechange=this._onReadyStateChange.bind(this),a.onprogress=this._onProgress.bind(this),a.onloadend=this._onLoadEnd.bind(this),a.onerror=this._onXhrError.bind(this),e.withCredentials&&(a.withCredentials=!0),"object"==typeof r.headers){var i=r.headers;for(var s in i)i.hasOwnProperty(s)&&a.setRequestHeader(s,i[s])}if("object"==typeof this._config.headers)for(var s in i=this._config.headers)i.hasOwnProperty(s)&&a.setRequestHeader(s,i[s]);this._status=o.c.kConnecting,a.send()},t.prototype.abort=function(){this._requestAbort=!0,this._xhr&&this._xhr.abort(),this._status=o.c.kComplete},t.prototype._onReadyStateChange=function(e){var t=e.target;if(2===t.readyState){if(null!=t.responseURL&&t.responseURL!==this._requestURL&&this._onURLRedirect){var n=this._seekHandler.removeURLParameters(t.responseURL);this._onURLRedirect(n)}if(0!==t.status&&(t.status<200||t.status>299)){if(this._status=o.c.kError,!this._onError)throw new l.d("MozChunkedLoader: Http code invalid, "+t.status+" "+t.statusText);this._onError(o.b.HTTP_STATUS_CODE_INVALID,{code:t.status,msg:t.statusText})}else this._status=o.c.kBuffering}},t.prototype._onProgress=function(e){if(this._status!==o.c.kError){null===this._contentLength&&null!==e.total&&0!==e.total&&(this._contentLength=e.total,this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength));var t=e.target.response,n=this._range.from+this._receivedLength;this._receivedLength+=t.byteLength,this._onDataArrival&&this._onDataArrival(t,n,this._receivedLength)}},t.prototype._onLoadEnd=function(e){!0!==this._requestAbort?this._status!==o.c.kError&&(this._status=o.c.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1)):this._requestAbort=!1},t.prototype._onXhrError=function(e){this._status=o.c.kError;var t=0,n=null;if(this._contentLength&&e.loaded<this._contentLength?(t=o.b.EARLY_EOF,n={code:-1,msg:"Moz-Chunked stream meet Early-Eof"}):(t=o.b.EXCEPTION,n={code:-1,msg:e.constructor.name+" "+e.type}),!this._onError)throw new l.d(n.msg);this._onError(t,n)},t}(o.a),h=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),m=(function(e){function t(t,n){var r=e.call(this,"xhr-msstream-loader")||this;return r.TAG="MSStreamLoader",r._seekHandler=t,r._config=n,r._needStash=!0,r._xhr=null,r._reader=null,r._totalRange=null,r._currentRange=null,r._currentRequestURL=null,r._currentRedirectedURL=null,r._contentLength=null,r._receivedLength=0,r._bufferLimit=16777216,r._lastTimeBufferSize=0,r._isReconnecting=!1,r}h(t,e),t.isSupported=function(){try{if(void 0===self.MSStream||void 0===self.MSStreamReader)return!1;var e=new XMLHttpRequest;return e.open("GET","https://example.com",!0),e.responseType="ms-stream","ms-stream"===e.responseType}catch(e){return a.a.w("MSStreamLoader",e.message),!1}},t.prototype.destroy=function(){this.isWorking()&&this.abort(),this._reader&&(this._reader.onprogress=null,this._reader.onload=null,this._reader.onerror=null,this._reader=null),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr=null),e.prototype.destroy.call(this)},t.prototype.open=function(e,t){this._internalOpen(e,t,!1)},t.prototype._internalOpen=function(e,t,n){this._dataSource=e,n?this._currentRange=t:this._totalRange=t;var r=e.url;this._config.reuseRedirectedURL&&(null!=this._currentRedirectedURL?r=this._currentRedirectedURL:null!=e.redirectedURL&&(r=e.redirectedURL));var a=this._seekHandler.getConfig(r,t);this._currentRequestURL=a.url;var i=this._reader=new self.MSStreamReader;i.onprogress=this._msrOnProgress.bind(this),i.onload=this._msrOnLoad.bind(this),i.onerror=this._msrOnError.bind(this);var s=this._xhr=new XMLHttpRequest;if(s.open("GET",a.url,!0),s.responseType="ms-stream",s.onreadystatechange=this._xhrOnReadyStateChange.bind(this),s.onerror=this._xhrOnError.bind(this),e.withCredentials&&(s.withCredentials=!0),"object"==typeof a.headers){var l=a.headers;for(var c in l)l.hasOwnProperty(c)&&s.setRequestHeader(c,l[c])}if("object"==typeof this._config.headers)for(var c in l=this._config.headers)l.hasOwnProperty(c)&&s.setRequestHeader(c,l[c]);this._isReconnecting?this._isReconnecting=!1:this._status=o.c.kConnecting,s.send()},t.prototype.abort=function(){this._internalAbort(),this._status=o.c.kComplete},t.prototype._internalAbort=function(){this._reader&&(1===this._reader.readyState&&this._reader.abort(),this._reader.onprogress=null,this._reader.onload=null,this._reader.onerror=null,this._reader=null),this._xhr&&(this._xhr.abort(),this._xhr.onreadystatechange=null,this._xhr=null)},t.prototype._xhrOnReadyStateChange=function(e){var t=e.target;if(2===t.readyState)if(t.status>=200&&t.status<=299){if(this._status=o.c.kBuffering,null!=t.responseURL){var n=this._seekHandler.removeURLParameters(t.responseURL);t.responseURL!==this._currentRequestURL&&n!==this._currentRedirectedURL&&(this._currentRedirectedURL=n,this._onURLRedirect&&this._onURLRedirect(n))}var r=t.getResponseHeader("Content-Length");if(null!=r&&null==this._contentLength){var a=parseInt(r);a>0&&(this._contentLength=a,this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength))}}else{if(this._status=o.c.kError,!this._onError)throw new l.d("MSStreamLoader: Http code invalid, "+t.status+" "+t.statusText);this._onError(o.b.HTTP_STATUS_CODE_INVALID,{code:t.status,msg:t.statusText})}else if(3===t.readyState&&t.status>=200&&t.status<=299){this._status=o.c.kBuffering;var i=t.response;this._reader.readAsArrayBuffer(i)}},t.prototype._xhrOnError=function(e){this._status=o.c.kError;var t=o.b.EXCEPTION,n={code:-1,msg:e.constructor.name+" "+e.type};if(!this._onError)throw new l.d(n.msg);this._onError(t,n)},t.prototype._msrOnProgress=function(e){var t=e.target.result;if(null!=t){var n=t.slice(this._lastTimeBufferSize);this._lastTimeBufferSize=t.byteLength;var r=this._totalRange.from+this._receivedLength;this._receivedLength+=n.byteLength,this._onDataArrival&&this._onDataArrival(n,r,this._receivedLength),t.byteLength>=this._bufferLimit&&(a.a.v(this.TAG,"MSStream buffer exceeded max size near ".concat(r+n.byteLength,", reconnecting...")),this._doReconnectIfNeeded())}else this._doReconnectIfNeeded()},t.prototype._doReconnectIfNeeded=function(){if(null==this._contentLength||this._receivedLength<this._contentLength){this._isReconnecting=!0,this._lastTimeBufferSize=0,this._internalAbort();var e={from:this._totalRange.from+this._receivedLength,to:-1};this._internalOpen(this._dataSource,e,!0)}},t.prototype._msrOnLoad=function(e){this._status=o.c.kComplete,this._onComplete&&this._onComplete(this._totalRange.from,this._totalRange.from+this._receivedLength-1)},t.prototype._msrOnError=function(e){this._status=o.c.kError;var t=0,n=null;if(this._contentLength&&this._receivedLength<this._contentLength?(t=o.b.EARLY_EOF,n={code:-1,msg:"MSStream meet Early-Eof"}):(t=o.b.EARLY_EOF,n={code:-1,msg:e.constructor.name+" "+e.type}),!this._onError)throw new l.d(n.msg);this._onError(t,n)}}(o.a),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),f=function(e){function t(t,n){var r=e.call(this,"xhr-range-loader")||this;return r.TAG="RangeLoader",r._seekHandler=t,r._config=n,r._needStash=!1,r._chunkSizeKBList=[128,256,384,512,768,1024,1536,2048,3072,4096,5120,6144,7168,8192],r._currentChunkSizeKB=384,r._currentSpeedNormalized=0,r._zeroSpeedChunkCount=0,r._xhr=null,r._speedSampler=new i,r._requestAbort=!1,r._waitForTotalLength=!1,r._totalLengthReceived=!1,r._currentRequestURL=null,r._currentRedirectedURL=null,r._currentRequestRange=null,r._totalLength=null,r._contentLength=null,r._receivedLength=0,r._lastTimeLoaded=0,r}return m(t,e),t.isSupported=function(){try{var e=new XMLHttpRequest;return e.open("GET","https://example.com",!0),e.responseType="arraybuffer","arraybuffer"===e.responseType}catch(e){return a.a.w("RangeLoader",e.message),!1}},t.prototype.destroy=function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr=null),e.prototype.destroy.call(this)},Object.defineProperty(t.prototype,"currentSpeed",{get:function(){return this._speedSampler.lastSecondKBps},enumerable:!1,configurable:!0}),t.prototype.open=function(e,t){this._dataSource=e,this._range=t,this._status=o.c.kConnecting;var n=!1;null!=this._dataSource.filesize&&0!==this._dataSource.filesize&&(n=!0,this._totalLength=this._dataSource.filesize),this._totalLengthReceived||n?this._openSubRange():(this._waitForTotalLength=!0,this._internalOpen(this._dataSource,{from:0,to:-1}))},t.prototype._openSubRange=function(){var e=1024*this._currentChunkSizeKB,t=this._range.from+this._receivedLength,n=t+e;null!=this._contentLength&&n-this._range.from>=this._contentLength&&(n=this._range.from+this._contentLength-1),this._currentRequestRange={from:t,to:n},this._internalOpen(this._dataSource,this._currentRequestRange)},t.prototype._internalOpen=function(e,t){this._lastTimeLoaded=0;var n=e.url;this._config.reuseRedirectedURL&&(null!=this._currentRedirectedURL?n=this._currentRedirectedURL:null!=e.redirectedURL&&(n=e.redirectedURL));var r=this._seekHandler.getConfig(n,t);this._currentRequestURL=r.url;var a=this._xhr=new XMLHttpRequest;if(a.open("GET",r.url,!0),a.responseType="arraybuffer",a.onreadystatechange=this._onReadyStateChange.bind(this),a.onprogress=this._onProgress.bind(this),a.onload=this._onLoad.bind(this),a.onerror=this._onXhrError.bind(this),e.withCredentials&&(a.withCredentials=!0),"object"==typeof r.headers){var i=r.headers;for(var o in i)i.hasOwnProperty(o)&&a.setRequestHeader(o,i[o])}if("object"==typeof this._config.headers)for(var o in i=this._config.headers)i.hasOwnProperty(o)&&a.setRequestHeader(o,i[o]);a.send()},t.prototype.abort=function(){this._requestAbort=!0,this._internalAbort(),this._status=o.c.kComplete},t.prototype._internalAbort=function(){this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr.abort(),this._xhr=null)},t.prototype._onReadyStateChange=function(e){var t=e.target;if(2===t.readyState){if(null!=t.responseURL){var n=this._seekHandler.removeURLParameters(t.responseURL);t.responseURL!==this._currentRequestURL&&n!==this._currentRedirectedURL&&(this._currentRedirectedURL=n,this._onURLRedirect&&this._onURLRedirect(n))}if(t.status>=200&&t.status<=299){if(this._waitForTotalLength)return;this._status=o.c.kBuffering}else{if(this._status=o.c.kError,!this._onError)throw new l.d("RangeLoader: Http code invalid, "+t.status+" "+t.statusText);this._onError(o.b.HTTP_STATUS_CODE_INVALID,{code:t.status,msg:t.statusText})}}},t.prototype._onProgress=function(e){if(this._status!==o.c.kError){if(null===this._contentLength){var t=!1;if(this._waitForTotalLength){this._waitForTotalLength=!1,this._totalLengthReceived=!0,t=!0;var n=e.total;this._internalAbort(),null!=n&0!==n&&(this._totalLength=n)}if(-1===this._range.to?this._contentLength=this._totalLength-this._range.from:this._contentLength=this._range.to-this._range.from+1,t)return void this._openSubRange();this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength)}var r=e.loaded-this._lastTimeLoaded;this._lastTimeLoaded=e.loaded,this._speedSampler.addBytes(r)}},t.prototype._normalizeSpeed=function(e){var t=this._chunkSizeKBList,n=t.length-1,r=0,a=0,i=n;if(e<t[0])return t[0];for(;a<=i;){if((r=a+Math.floor((i-a)/2))===n||e>=t[r]&&e<t[r+1])return t[r];t[r]<e?a=r+1:i=r-1}},t.prototype._onLoad=function(e){if(this._status!==o.c.kError)if(this._waitForTotalLength)this._waitForTotalLength=!1;else{this._lastTimeLoaded=0;var t=this._speedSampler.lastSecondKBps;if(0===t&&(this._zeroSpeedChunkCount++,this._zeroSpeedChunkCount>=3&&(t=this._speedSampler.currentKBps)),0!==t){var n=this._normalizeSpeed(t);this._currentSpeedNormalized!==n&&(this._currentSpeedNormalized=n,this._currentChunkSizeKB=n)}var r=e.target.response,a=this._range.from+this._receivedLength;this._receivedLength+=r.byteLength;var i=!1;null!=this._contentLength&&this._receivedLength<this._contentLength?this._openSubRange():i=!0,this._onDataArrival&&this._onDataArrival(r,a,this._receivedLength),i&&(this._status=o.c.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1))}},t.prototype._onXhrError=function(e){this._status=o.c.kError;var t=0,n=null;if(this._contentLength&&this._receivedLength>0&&this._receivedLength<this._contentLength?(t=o.b.EARLY_EOF,n={code:-1,msg:"RangeLoader meet Early-Eof"}):(t=o.b.EXCEPTION,n={code:-1,msg:e.constructor.name+" "+e.type}),!this._onError)throw new l.d(n.msg);this._onError(t,n)},t}(o.a),A=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),g=function(e){function t(){var t=e.call(this,"websocket-loader")||this;return t.TAG="WebSocketLoader",t._needStash=!0,t._ws=null,t._requestAbort=!1,t._receivedLength=0,t}return A(t,e),t.isSupported=function(){try{return void 0!==self.WebSocket}catch(e){return!1}},t.prototype.destroy=function(){this._ws&&this.abort(),e.prototype.destroy.call(this)},t.prototype.open=function(e){try{var t=this._ws=new self.WebSocket(e.url);t.binaryType="arraybuffer",t.onopen=this._onWebSocketOpen.bind(this),t.onclose=this._onWebSocketClose.bind(this),t.onmessage=this._onWebSocketMessage.bind(this),t.onerror=this._onWebSocketError.bind(this),this._status=o.c.kConnecting}catch(e){this._status=o.c.kError;var n={code:e.code,msg:e.message};if(!this._onError)throw new l.d(n.msg);this._onError(o.b.EXCEPTION,n)}},t.prototype.abort=function(){var e=this._ws;!e||0!==e.readyState&&1!==e.readyState||(this._requestAbort=!0,e.close()),this._ws=null,this._status=o.c.kComplete},t.prototype._onWebSocketOpen=function(e){this._status=o.c.kBuffering},t.prototype._onWebSocketClose=function(e){!0!==this._requestAbort?(this._status=o.c.kComplete,this._onComplete&&this._onComplete(0,this._receivedLength-1)):this._requestAbort=!1},t.prototype._onWebSocketMessage=function(e){var t=this;if(e.data instanceof ArrayBuffer)this._dispatchArrayBuffer(e.data);else if(e.data instanceof Blob){var n=new FileReader;n.onload=function(){t._dispatchArrayBuffer(n.result)},n.readAsArrayBuffer(e.data)}else{this._status=o.c.kError;var r={code:-1,msg:"Unsupported WebSocket message type: "+e.data.constructor.name};if(!this._onError)throw new l.d(r.msg);this._onError(o.b.EXCEPTION,r)}},t.prototype._dispatchArrayBuffer=function(e){var t=e,n=this._receivedLength;this._receivedLength+=t.byteLength,this._onDataArrival&&this._onDataArrival(t,n,this._receivedLength)},t.prototype._onWebSocketError=function(e){this._status=o.c.kError;var t={code:e.code,msg:e.message};if(!this._onError)throw new l.d(t.msg);this._onError(o.b.EXCEPTION,t)},t}(o.a),_=function(){function e(e){this._zeroStart=e||!1}return e.prototype.getConfig=function(e,t){var n={};if(0!==t.from||-1!==t.to){var r;r=-1!==t.to?"bytes=".concat(t.from.toString(),"-").concat(t.to.toString()):"bytes=".concat(t.from.toString(),"-"),n.Range=r}else this._zeroStart&&(n.Range="bytes=0-");return{url:e,headers:n}},e.prototype.removeURLParameters=function(e){return e},e}(),y=function(){function e(e,t){this._startName=e,this._endName=t}return e.prototype.getConfig=function(e,t){var n=e;if(0!==t.from||-1!==t.to){var r=!0;-1===n.indexOf("?")&&(n+="?",r=!1),r&&(n+="&"),n+="".concat(this._startName,"=").concat(t.from.toString()),-1!==t.to&&(n+="&".concat(this._endName,"=").concat(t.to.toString()))}return{url:n,headers:{}}},e.prototype.removeURLParameters=function(e){var t=e.split("?")[0],n=void 0,r=e.indexOf("?");-1!==r&&(n=e.substring(r+1));var a="";if(null!=n&&n.length>0)for(var i=n.split("&"),o=0;o<i.length;o++){var s=i[o].split("="),l=o>0;s[0]!==this._startName&&s[0]!==this._endName&&(l&&(a+="&"),a+=i[o])}return 0===a.length?t:t+"?"+a},e}(),v=function(){function e(e,t,n){this.TAG="IOController",this._config=t,this._extraData=n,this._stashInitialSize=65536,null!=t.stashInitialSize&&t.stashInitialSize>0&&(this._stashInitialSize=t.stashInitialSize),this._stashUsed=0,this._stashSize=this._stashInitialSize,this._bufferSize=Math.max(this._stashSize,3145728),this._stashBuffer=new ArrayBuffer(this._bufferSize),this._stashByteStart=0,this._enableStash=!0,!1===t.enableStashBuffer&&(this._enableStash=!1),this._loader=null,this._loaderClass=null,this._seekHandler=null,this._dataSource=e,this._isWebSocketURL=/wss?:\/\/(.+?)/.test(e.url),this._refTotalLength=e.filesize?e.filesize:null,this._totalLength=this._refTotalLength,this._fullRequestFlag=!1,this._currentRange=null,this._redirectedURL=null,this._speedNormalized=0,this._speedSampler=new i,this._speedNormalizeList=[32,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096],this._isEarlyEofReconnecting=!1,this._paused=!1,this._resumeFrom=0,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._selectSeekHandler(),this._selectLoader(),this._createLoader()}return e.prototype.destroy=function(){this._loader.isWorking()&&this._loader.abort(),this._loader.destroy(),this._loader=null,this._loaderClass=null,this._dataSource=null,this._stashBuffer=null,this._stashUsed=this._stashSize=this._bufferSize=this._stashByteStart=0,this._currentRange=null,this._speedSampler=null,this._isEarlyEofReconnecting=!1,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._extraData=null},e.prototype.isWorking=function(){return this._loader&&this._loader.isWorking()&&!this._paused},e.prototype.isPaused=function(){return this._paused},Object.defineProperty(e.prototype,"status",{get:function(){return this._loader.status},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"extraData",{get:function(){return this._extraData},set:function(e){this._extraData=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onDataArrival",{get:function(){return this._onDataArrival},set:function(e){this._onDataArrival=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onSeeked",{get:function(){return this._onSeeked},set:function(e){this._onSeeked=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onError",{get:function(){return this._onError},set:function(e){this._onError=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onComplete",{get:function(){return this._onComplete},set:function(e){this._onComplete=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onRedirect",{get:function(){return this._onRedirect},set:function(e){this._onRedirect=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onRecoveredEarlyEof",{get:function(){return this._onRecoveredEarlyEof},set:function(e){this._onRecoveredEarlyEof=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentURL",{get:function(){return this._dataSource.url},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasRedirect",{get:function(){return null!=this._redirectedURL||null!=this._dataSource.redirectedURL},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentRedirectedURL",{get:function(){return this._redirectedURL||this._dataSource.redirectedURL},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentSpeed",{get:function(){return this._loaderClass===f?this._loader.currentSpeed:this._speedSampler.lastSecondKBps},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"loaderType",{get:function(){return this._loader.type},enumerable:!1,configurable:!0}),e.prototype._selectSeekHandler=function(){var e=this._config;if("range"===e.seekType)this._seekHandler=new _(this._config.rangeLoadZeroStart);else if("param"===e.seekType){var t=e.seekParamStart||"bstart",n=e.seekParamEnd||"bend";this._seekHandler=new y(t,n)}else{if("custom"!==e.seekType)throw new l.b("Invalid seekType in config: ".concat(e.seekType));if("function"!=typeof e.customSeekHandler)throw new l.b("Custom seekType specified in config but invalid customSeekHandler!");this._seekHandler=new e.customSeekHandler}},e.prototype._selectLoader=function(){if(null!=this._config.customLoader)this._loaderClass=this._config.customLoader;else if(this._isWebSocketURL)this._loaderClass=g;else if(d.isSupported())this._loaderClass=d;else if(p.isSupported())this._loaderClass=p;else{if(!f.isSupported())throw new l.d("Your browser doesn't support xhr with arraybuffer responseType!");this._loaderClass=f}},e.prototype._createLoader=function(){this._loader=new this._loaderClass(this._seekHandler,this._config),!1===this._loader.needStashBuffer&&(this._enableStash=!1),this._loader.onContentLengthKnown=this._onContentLengthKnown.bind(this),this._loader.onURLRedirect=this._onURLRedirect.bind(this),this._loader.onDataArrival=this._onLoaderChunkArrival.bind(this),this._loader.onComplete=this._onLoaderComplete.bind(this),this._loader.onError=this._onLoaderError.bind(this)},e.prototype.open=function(e){this._currentRange={from:0,to:-1},e&&(this._currentRange.from=e),this._speedSampler.reset(),e||(this._fullRequestFlag=!0),this._loader.open(this._dataSource,Object.assign({},this._currentRange))},e.prototype.abort=function(){this._loader.abort(),this._paused&&(this._paused=!1,this._resumeFrom=0)},e.prototype.pause=function(){this.isWorking()&&(this._loader.abort(),0!==this._stashUsed?(this._resumeFrom=this._stashByteStart,this._currentRange.to=this._stashByteStart-1):this._resumeFrom=this._currentRange.to+1,this._stashUsed=0,this._stashByteStart=0,this._paused=!0)},e.prototype.resume=function(){if(this._paused){this._paused=!1;var e=this._resumeFrom;this._resumeFrom=0,this._internalSeek(e,!0)}},e.prototype.seek=function(e){this._paused=!1,this._stashUsed=0,this._stashByteStart=0,this._internalSeek(e,!0)},e.prototype._internalSeek=function(e,t){this._loader.isWorking()&&this._loader.abort(),this._flushStashBuffer(t),this._loader.destroy(),this._loader=null;var n={from:e,to:-1};this._currentRange={from:n.from,to:-1},this._speedSampler.reset(),this._stashSize=this._stashInitialSize,this._createLoader(),this._loader.open(this._dataSource,n),this._onSeeked&&this._onSeeked()},e.prototype.updateUrl=function(e){if(!e||"string"!=typeof e||0===e.length)throw new l.b("Url must be a non-empty string!");this._dataSource.url=e},e.prototype._expandBuffer=function(e){for(var t=this._stashSize;t+1048576<e;)t*=2;if((t+=1048576)!==this._bufferSize){var n=new ArrayBuffer(t);if(this._stashUsed>0){var r=new Uint8Array(this._stashBuffer,0,this._stashUsed);new Uint8Array(n,0,t).set(r,0)}this._stashBuffer=n,this._bufferSize=t}},e.prototype._normalizeSpeed=function(e){var t=this._speedNormalizeList,n=t.length-1,r=0,a=0,i=n;if(e<t[0])return t[0];for(;a<=i;){if((r=a+Math.floor((i-a)/2))===n||e>=t[r]&&e<t[r+1])return t[r];t[r]<e?a=r+1:i=r-1}},e.prototype._adjustStashSize=function(e){var t=0;(t=this._config.isLive?e/8:e<512?e:e>=512&&e<=1024?Math.floor(1.5*e):2*e)>8192&&(t=8192);var n=1024*t+1048576;this._bufferSize<n&&this._expandBuffer(n),this._stashSize=1024*t},e.prototype._dispatchChunks=function(e,t){return this._currentRange.to=t+e.byteLength-1,this._onDataArrival(e,t)},e.prototype._onURLRedirect=function(e){this._redirectedURL=e,this._onRedirect&&this._onRedirect(e)},e.prototype._onContentLengthKnown=function(e){e&&this._fullRequestFlag&&(this._totalLength=e,this._fullRequestFlag=!1)},e.prototype._onLoaderChunkArrival=function(e,t,n){if(!this._onDataArrival)throw new l.a("IOController: No existing consumer (onDataArrival) callback!");if(!this._paused){this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,this._onRecoveredEarlyEof&&this._onRecoveredEarlyEof()),this._speedSampler.addBytes(e.byteLength);var r=this._speedSampler.lastSecondKBps;if(0!==r){var a=this._normalizeSpeed(r);this._speedNormalized!==a&&(this._speedNormalized=a,this._adjustStashSize(a))}if(this._enableStash)if(0===this._stashUsed&&0===this._stashByteStart&&(this._stashByteStart=t),this._stashUsed+e.byteLength<=this._stashSize)(s=new Uint8Array(this._stashBuffer,0,this._stashSize)).set(new Uint8Array(e),this._stashUsed),this._stashUsed+=e.byteLength;else if(s=new Uint8Array(this._stashBuffer,0,this._bufferSize),this._stashUsed>0){var i=this._stashBuffer.slice(0,this._stashUsed);(c=this._dispatchChunks(i,this._stashByteStart))<i.byteLength?c>0&&(d=new Uint8Array(i,c),s.set(d,0),this._stashUsed=d.byteLength,this._stashByteStart+=c):(this._stashUsed=0,this._stashByteStart+=c),this._stashUsed+e.byteLength>this._bufferSize&&(this._expandBuffer(this._stashUsed+e.byteLength),s=new Uint8Array(this._stashBuffer,0,this._bufferSize)),s.set(new Uint8Array(e),this._stashUsed),this._stashUsed+=e.byteLength}else(c=this._dispatchChunks(e,t))<e.byteLength&&((o=e.byteLength-c)>this._bufferSize&&(this._expandBuffer(o),s=new Uint8Array(this._stashBuffer,0,this._bufferSize)),s.set(new Uint8Array(e,c),0),this._stashUsed+=o,this._stashByteStart=t+c);else if(0===this._stashUsed){var o;(c=this._dispatchChunks(e,t))<e.byteLength&&((o=e.byteLength-c)>this._bufferSize&&this._expandBuffer(o),(s=new Uint8Array(this._stashBuffer,0,this._bufferSize)).set(new Uint8Array(e,c),0),this._stashUsed+=o,this._stashByteStart=t+c)}else{var s,c;if(this._stashUsed+e.byteLength>this._bufferSize&&this._expandBuffer(this._stashUsed+e.byteLength),(s=new Uint8Array(this._stashBuffer,0,this._bufferSize)).set(new Uint8Array(e),this._stashUsed),this._stashUsed+=e.byteLength,(c=this._dispatchChunks(this._stashBuffer.slice(0,this._stashUsed),this._stashByteStart))<this._stashUsed&&c>0){var d=new Uint8Array(this._stashBuffer,c);s.set(d,0)}this._stashUsed-=c,this._stashByteStart+=c}}},e.prototype._flushStashBuffer=function(e){if(this._stashUsed>0){var t=this._stashBuffer.slice(0,this._stashUsed),n=this._dispatchChunks(t,this._stashByteStart),r=t.byteLength-n;if(n<t.byteLength){if(!e){if(n>0){var i=new Uint8Array(this._stashBuffer,0,this._bufferSize),o=new Uint8Array(t,n);i.set(o,0),this._stashUsed=o.byteLength,this._stashByteStart+=n}return 0}a.a.w(this.TAG,"".concat(r," bytes unconsumed data remain when flush buffer, dropped"))}return this._stashUsed=0,this._stashByteStart=0,r}return 0},e.prototype._onLoaderComplete=function(e,t){this._flushStashBuffer(!0),this._onComplete&&this._onComplete(this._extraData)},e.prototype._onLoaderError=function(e,t){switch(a.a.e(this.TAG,"Loader error, code = ".concat(t.code,", msg = ").concat(t.msg)),this._flushStashBuffer(!1),this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,e=o.b.UNRECOVERABLE_EARLY_EOF),e){case o.b.EARLY_EOF:if(!this._config.isLive&&this._totalLength){var n=this._currentRange.to+1;return void(n<this._totalLength&&(a.a.w(this.TAG,"Connection lost, trying reconnect..."),this._isEarlyEofReconnecting=!0,this._internalSeek(n,!1)))}e=o.b.UNRECOVERABLE_EARLY_EOF;case o.b.UNRECOVERABLE_EARLY_EOF:case o.b.CONNECTING_TIMEOUT:case o.b.HTTP_STATUS_CODE_INVALID:case o.b.EXCEPTION:}if(!this._onError)throw new l.d("IOException: "+t.msg);this._onError(e,t)},e}();t.a=v},function(e,t,n){"use strict";var r=function(){function e(){}return e.install=function(){Object.setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Object.assign=Object.assign||function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var a in r)r.hasOwnProperty(a)&&(t[a]=r[a])}return t},String.prototype.startsWith||Object.defineProperty(String.prototype,"startsWith",{value:function(e,t){var n=t>0?0|t:0;return this.substring(n,n+e.length)===e}}),"function"!=typeof self.Promise&&n(21).polyfill()},e}();r.install(),t.a=r},function(e,t,n){"use strict";var r=n(9),a=n.n(r),i=n(0),o=n(5),s=n(7),l=n(3),c=function(){function e(e){this.TAG="MSEController",this._config=e,this._emitter=new a.a,this._config.isLive&&null==this._config.autoCleanupSourceBuffer&&(this._config.autoCleanupSourceBuffer=!0),this.e={onSourceOpen:this._onSourceOpen.bind(this),onSourceEnded:this._onSourceEnded.bind(this),onSourceClose:this._onSourceClose.bind(this),onStartStreaming:this._onStartStreaming.bind(this),onEndStreaming:this._onEndStreaming.bind(this),onQualityChange:this._onQualityChange.bind(this),onSourceBufferError:this._onSourceBufferError.bind(this),onSourceBufferUpdateEnd:this._onSourceBufferUpdateEnd.bind(this)},this._useManagedMediaSource="ManagedMediaSource"in self&&!("MediaSource"in self),this._mediaSource=null,this._mediaSourceObjectURL=null,this._mediaElementProxy=null,this._isBufferFull=!1,this._hasPendingEos=!1,this._requireSetMediaDuration=!1,this._pendingMediaDuration=0,this._pendingSourceBufferInit=[],this._mimeTypes={video:null,audio:null},this._sourceBuffers={video:null,audio:null},this._lastInitSegments={video:null,audio:null},this._pendingSegments={video:[],audio:[]},this._pendingRemoveRanges={video:[],audio:[]}}return e.prototype.destroy=function(){this._mediaSource&&this.shutdown(),this._mediaSourceObjectURL&&this.revokeObjectURL(),this.e=null,this._emitter.removeAllListeners(),this._emitter=null},e.prototype.on=function(e,t){this._emitter.addListener(e,t)},e.prototype.off=function(e,t){this._emitter.removeListener(e,t)},e.prototype.initialize=function(e){if(this._mediaSource)throw new l.a("MediaSource has been attached to an HTMLMediaElement!");this._useManagedMediaSource&&i.a.v(this.TAG,"Using ManagedMediaSource");var t=this._mediaSource=this._useManagedMediaSource?new self.ManagedMediaSource:new self.MediaSource;t.addEventListener("sourceopen",this.e.onSourceOpen),t.addEventListener("sourceended",this.e.onSourceEnded),t.addEventListener("sourceclose",this.e.onSourceClose),this._useManagedMediaSource&&(t.addEventListener("startstreaming",this.e.onStartStreaming),t.addEventListener("endstreaming",this.e.onEndStreaming),t.addEventListener("qualitychange",this.e.onQualityChange)),this._mediaElementProxy=e},e.prototype.shutdown=function(){if(this._mediaSource){var e=this._mediaSource;for(var t in this._sourceBuffers){var n=this._pendingSegments[t];n.splice(0,n.length),this._pendingSegments[t]=null,this._pendingRemoveRanges[t]=null,this._lastInitSegments[t]=null;var r=this._sourceBuffers[t];if(r){if("closed"!==e.readyState){try{e.removeSourceBuffer(r)}catch(e){i.a.e(this.TAG,e.message)}r.removeEventListener("error",this.e.onSourceBufferError),r.removeEventListener("updateend",this.e.onSourceBufferUpdateEnd)}this._mimeTypes[t]=null,this._sourceBuffers[t]=null}}if("open"===e.readyState)try{e.endOfStream()}catch(e){i.a.e(this.TAG,e.message)}this._mediaElementProxy=null,e.removeEventListener("sourceopen",this.e.onSourceOpen),e.removeEventListener("sourceended",this.e.onSourceEnded),e.removeEventListener("sourceclose",this.e.onSourceClose),this._useManagedMediaSource&&(e.removeEventListener("startstreaming",this.e.onStartStreaming),e.removeEventListener("endstreaming",this.e.onEndStreaming),e.removeEventListener("qualitychange",this.e.onQualityChange)),this._pendingSourceBufferInit=[],this._isBufferFull=!1,this._mediaSource=null}},e.prototype.isManagedMediaSource=function(){return this._useManagedMediaSource},e.prototype.getObject=function(){if(!this._mediaSource)throw new l.a("MediaSource has not been initialized yet!");return this._mediaSource},e.prototype.getHandle=function(){if(!this._mediaSource)throw new l.a("MediaSource has not been initialized yet!");return this._mediaSource.handle},e.prototype.getObjectURL=function(){if(!this._mediaSource)throw new l.a("MediaSource has not been initialized yet!");return null==this._mediaSourceObjectURL&&(this._mediaSourceObjectURL=URL.createObjectURL(this._mediaSource)),this._mediaSourceObjectURL},e.prototype.revokeObjectURL=function(){this._mediaSourceObjectURL&&(URL.revokeObjectURL(this._mediaSourceObjectURL),this._mediaSourceObjectURL=null)},e.prototype.appendInitSegment=function(e,t){if(void 0===t&&(t=void 0),!this._mediaSource||"open"!==this._mediaSource.readyState||!1===this._mediaSource.streaming)return this._pendingSourceBufferInit.push(e),void this._pendingSegments[e.type].push(e);var n=e,r="".concat(n.container);n.codec&&n.codec.length>0&&("opus"===n.codec&&o.a.safari&&(n.codec="Opus"),r+=";codecs=".concat(n.codec));var a=!1;if(i.a.v(this.TAG,"Received Initialization Segment, mimeType: "+r),this._lastInitSegments[n.type]=n,r!==this._mimeTypes[n.type]){if(this._mimeTypes[n.type])i.a.v(this.TAG,"Notice: ".concat(n.type," mimeType changed, origin: ").concat(this._mimeTypes[n.type],", target: ").concat(r));else{a=!0;try{var l=this._sourceBuffers[n.type]=this._mediaSource.addSourceBuffer(r);l.addEventListener("error",this.e.onSourceBufferError),l.addEventListener("updateend",this.e.onSourceBufferUpdateEnd)}catch(e){return i.a.e(this.TAG,e.message),void this._emitter.emit(s.a.ERROR,{code:e.code,msg:e.message})}}this._mimeTypes[n.type]=r}t||this._pendingSegments[n.type].push(n),a||this._sourceBuffers[n.type]&&!this._sourceBuffers[n.type].updating&&this._doAppendSegments(),o.a.safari&&"audio/mpeg"===n.container&&n.mediaDuration>0&&(this._requireSetMediaDuration=!0,this._pendingMediaDuration=n.mediaDuration/1e3,this._updateMediaSourceDuration())},e.prototype.appendMediaSegment=function(e){var t=e;this._pendingSegments[t.type].push(t),this._config.autoCleanupSourceBuffer&&this._needCleanupSourceBuffer()&&this._doCleanupSourceBuffer();var n=this._sourceBuffers[t.type];!n||n.updating||this._hasPendingRemoveRanges()||this._doAppendSegments()},e.prototype.flush=function(){for(var e in this._sourceBuffers)if(this._sourceBuffers[e]){var t=this._sourceBuffers[e];if("open"===this._mediaSource.readyState)try{t.abort()}catch(e){i.a.e(this.TAG,e.message)}var n=this._pendingSegments[e];if(n.splice(0,n.length),"closed"!==this._mediaSource.readyState){for(var r=0;r<t.buffered.length;r++){var a=t.buffered.start(r),s=t.buffered.end(r);this._pendingRemoveRanges[e].push({start:a,end:s})}if(t.updating||this._doRemoveRanges(),o.a.safari){var l=this._lastInitSegments[e];l&&(this._pendingSegments[e].push(l),t.updating||this._doAppendSegments())}}}},e.prototype.endOfStream=function(){var e=this._mediaSource,t=this._sourceBuffers;e&&"open"===e.readyState?t.video&&t.video.updating||t.audio&&t.audio.updating?this._hasPendingEos=!0:(this._hasPendingEos=!1,e.endOfStream()):e&&"closed"===e.readyState&&this._hasPendingSegments()&&(this._hasPendingEos=!0)},e.prototype._needCleanupSourceBuffer=function(){if(!this._config.autoCleanupSourceBuffer)return!1;var e=this._mediaElementProxy.getCurrentTime();for(var t in this._sourceBuffers){var n=this._sourceBuffers[t];if(n){var r=n.buffered;if(r.length>=1&&e-r.start(0)>=this._config.autoCleanupMaxBackwardDuration)return!0}}return!1},e.prototype._doCleanupSourceBuffer=function(){var e=this._mediaElementProxy.getCurrentTime();for(var t in this._sourceBuffers){var n=this._sourceBuffers[t];if(n){for(var r=n.buffered,a=!1,i=0;i<r.length;i++){var o=r.start(i),s=r.end(i);if(o<=e&&e<s+3){if(e-o>=this._config.autoCleanupMaxBackwardDuration){a=!0;var l=e-this._config.autoCleanupMinBackwardDuration;this._pendingRemoveRanges[t].push({start:o,end:l})}}else s<e&&(a=!0,this._pendingRemoveRanges[t].push({start:o,end:s}))}a&&!n.updating&&this._doRemoveRanges()}}},e.prototype._updateMediaSourceDuration=function(){var e=this._sourceBuffers;if(0!==this._mediaElementProxy.getReadyState()&&"open"===this._mediaSource.readyState&&!(e.video&&e.video.updating||e.audio&&e.audio.updating)){var t=this._mediaSource.duration,n=this._pendingMediaDuration;n>0&&(isNaN(t)||n>t)&&(i.a.v(this.TAG,"Update MediaSource duration from ".concat(t," to ").concat(n)),this._mediaSource.duration=n),this._requireSetMediaDuration=!1,this._pendingMediaDuration=0}},e.prototype._doRemoveRanges=function(){for(var e in this._pendingRemoveRanges)if(this._sourceBuffers[e]&&!this._sourceBuffers[e].updating)for(var t=this._sourceBuffers[e],n=this._pendingRemoveRanges[e];n.length&&!t.updating;){var r=n.shift();t.remove(r.start,r.end)}},e.prototype._doAppendSegments=function(){var e=this._pendingSegments;for(var t in e)if(this._sourceBuffers[t]&&!this._sourceBuffers[t].updating&&!1!==this._mediaSource.streaming&&e[t].length>0){var n=e[t].shift();if("number"==typeof n.timestampOffset&&isFinite(n.timestampOffset)){var r=this._sourceBuffers[t].timestampOffset,a=n.timestampOffset/1e3;Math.abs(r-a)>.1&&(i.a.v(this.TAG,"Update MPEG audio timestampOffset from ".concat(r," to ").concat(a)),this._sourceBuffers[t].timestampOffset=a),delete n.timestampOffset}if(!n.data||0===n.data.byteLength)continue;try{this._sourceBuffers[t].appendBuffer(n.data),this._isBufferFull=!1}catch(e){this._pendingSegments[t].unshift(n),22===e.code?(this._isBufferFull||this._emitter.emit(s.a.BUFFER_FULL),this._isBufferFull=!0):(i.a.e(this.TAG,e.message),this._emitter.emit(s.a.ERROR,{code:e.code,msg:e.message}))}}},e.prototype._onSourceOpen=function(){if(i.a.v(this.TAG,"MediaSource onSourceOpen"),this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._pendingSourceBufferInit.length>0)for(var e=this._pendingSourceBufferInit;e.length;){var t=e.shift();this.appendInitSegment(t,!0)}this._hasPendingSegments()&&this._doAppendSegments(),this._emitter.emit(s.a.SOURCE_OPEN)},e.prototype._onStartStreaming=function(){i.a.v(this.TAG,"ManagedMediaSource onStartStreaming"),this._emitter.emit(s.a.START_STREAMING)},e.prototype._onEndStreaming=function(){i.a.v(this.TAG,"ManagedMediaSource onEndStreaming"),this._emitter.emit(s.a.END_STREAMING)},e.prototype._onQualityChange=function(){i.a.v(this.TAG,"ManagedMediaSource onQualityChange")},e.prototype._onSourceEnded=function(){i.a.v(this.TAG,"MediaSource onSourceEnded")},e.prototype._onSourceClose=function(){i.a.v(this.TAG,"MediaSource onSourceClose"),this._mediaSource&&null!=this.e&&(this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._mediaSource.removeEventListener("sourceended",this.e.onSourceEnded),this._mediaSource.removeEventListener("sourceclose",this.e.onSourceClose),this._useManagedMediaSource&&(this._mediaSource.removeEventListener("startstreaming",this.e.onStartStreaming),this._mediaSource.removeEventListener("endstreaming",this.e.onEndStreaming),this._mediaSource.removeEventListener("qualitychange",this.e.onQualityChange)))},e.prototype._hasPendingSegments=function(){var e=this._pendingSegments;return e.video.length>0||e.audio.length>0},e.prototype._hasPendingRemoveRanges=function(){var e=this._pendingRemoveRanges;return e.video.length>0||e.audio.length>0},e.prototype._onSourceBufferUpdateEnd=function(){this._requireSetMediaDuration?this._updateMediaSourceDuration():this._hasPendingRemoveRanges()?this._doRemoveRanges():this._hasPendingSegments()?this._doAppendSegments():this._hasPendingEos&&this.endOfStream(),this._emitter.emit(s.a.UPDATE_END)},e.prototype._onSourceBufferError=function(e){i.a.e(this.TAG,"SourceBuffer Error: ".concat(e))},e}();t.a=c},function(e,t,n){"use strict";var r=n(9),a=n.n(r),i=n(18),o=n.n(i),s=n(0),l=n(8),c=n(13),d=n(1),u=(n(19),n(12)),p=function(){function e(e,t){if(this.TAG="Transmuxer",this._emitter=new a.a,t.enableWorker&&"undefined"!=typeof Worker)try{this._worker=o()(19),this._workerDestroying=!1,this._worker.addEventListener("message",this._onWorkerMessage.bind(this)),this._worker.postMessage({cmd:"init",param:[e,t]}),this.e={onLoggingConfigChanged:this._onLoggingConfigChanged.bind(this)},l.a.registerListener(this.e.onLoggingConfigChanged),this._worker.postMessage({cmd:"logging_config",param:l.a.getConfig()})}catch(n){s.a.e(this.TAG,"Error while initialize transmuxing worker, fallback to inline transmuxing"),this._worker=null,this._controller=new c.a(e,t)}else this._controller=new c.a(e,t);if(this._controller){var n=this._controller;n.on(d.a.IO_ERROR,this._onIOError.bind(this)),n.on(d.a.DEMUX_ERROR,this._onDemuxError.bind(this)),n.on(d.a.INIT_SEGMENT,this._onInitSegment.bind(this)),n.on(d.a.MEDIA_SEGMENT,this._onMediaSegment.bind(this)),n.on(d.a.LOADING_COMPLETE,this._onLoadingComplete.bind(this)),n.on(d.a.RECOVERED_EARLY_EOF,this._onRecoveredEarlyEof.bind(this)),n.on(d.a.MEDIA_INFO,this._onMediaInfo.bind(this)),n.on(d.a.METADATA_ARRIVED,this._onMetaDataArrived.bind(this)),n.on(d.a.SCRIPTDATA_ARRIVED,this._onScriptDataArrived.bind(this)),n.on(d.a.TIMED_ID3_METADATA_ARRIVED,this._onTimedID3MetadataArrived.bind(this)),n.on(d.a.SYNCHRONOUS_KLV_METADATA_ARRIVED,this._onSynchronousKLVMetadataArrived.bind(this)),n.on(d.a.ASYNCHRONOUS_KLV_METADATA_ARRIVED,this._onAsynchronousKLVMetadataArrived.bind(this)),n.on(d.a.SMPTE2038_METADATA_ARRIVED,this._onSMPTE2038MetadataArrived.bind(this)),n.on(d.a.SCTE35_METADATA_ARRIVED,this._onSCTE35MetadataArrived.bind(this)),n.on(d.a.PES_PRIVATE_DATA_DESCRIPTOR,this._onPESPrivateDataDescriptor.bind(this)),n.on(d.a.PES_PRIVATE_DATA_ARRIVED,this._onPESPrivateDataArrived.bind(this)),n.on(d.a.STATISTICS_INFO,this._onStatisticsInfo.bind(this)),n.on(d.a.RECOMMEND_SEEKPOINT,this._onRecommendSeekpoint.bind(this))}}return e.prototype.destroy=function(){this._worker?this._workerDestroying||(this._workerDestroying=!0,this._worker.postMessage({cmd:"destroy"}),l.a.removeListener(this.e.onLoggingConfigChanged),this.e=null):(this._controller.destroy(),this._controller=null),this._emitter.removeAllListeners(),this._emitter=null},e.prototype.on=function(e,t){this._emitter.addListener(e,t)},e.prototype.off=function(e,t){this._emitter.removeListener(e,t)},e.prototype.hasWorker=function(){return null!=this._worker},e.prototype.open=function(){this._worker?this._worker.postMessage({cmd:"start"}):this._controller.start()},e.prototype.close=function(){this._worker?this._worker.postMessage({cmd:"stop"}):this._controller.stop()},e.prototype.seek=function(e){this._worker?this._worker.postMessage({cmd:"seek",param:e}):this._controller.seek(e)},e.prototype.pause=function(){this._worker?this._worker.postMessage({cmd:"pause"}):this._controller.pause()},e.prototype.resume=function(){this._worker?this._worker.postMessage({cmd:"resume"}):this._controller.resume()},e.prototype._onInitSegment=function(e,t){var n=this;Promise.resolve().then(function(){n._emitter.emit(d.a.INIT_SEGMENT,e,t)})},e.prototype._onMediaSegment=function(e,t){var n=this;Promise.resolve().then(function(){n._emitter.emit(d.a.MEDIA_SEGMENT,e,t)})},e.prototype._onLoadingComplete=function(){var e=this;Promise.resolve().then(function(){e._emitter.emit(d.a.LOADING_COMPLETE)})},e.prototype._onRecoveredEarlyEof=function(){var e=this;Promise.resolve().then(function(){e._emitter.emit(d.a.RECOVERED_EARLY_EOF)})},e.prototype._onMediaInfo=function(e){var t=this;Promise.resolve().then(function(){t._emitter.emit(d.a.MEDIA_INFO,e)})},e.prototype._onMetaDataArrived=function(e){var t=this;Promise.resolve().then(function(){t._emitter.emit(d.a.METADATA_ARRIVED,e)})},e.prototype._onScriptDataArrived=function(e){var t=this;Promise.resolve().then(function(){t._emitter.emit(d.a.SCRIPTDATA_ARRIVED,e)})},e.prototype._onTimedID3MetadataArrived=function(e){var t=this;Promise.resolve().then(function(){t._emitter.emit(d.a.TIMED_ID3_METADATA_ARRIVED,e)})},e.prototype._onSynchronousKLVMetadataArrived=function(e){var t=this;Promise.resolve().then(function(){t._emitter.emit(d.a.SYNCHRONOUS_KLV_METADATA_ARRIVED,e)})},e.prototype._onAsynchronousKLVMetadataArrived=function(e){var t=this;Promise.resolve().then(function(){t._emitter.emit(d.a.ASYNCHRONOUS_KLV_METADATA_ARRIVED,e)})},e.prototype._onSMPTE2038MetadataArrived=function(e){var t=this;Promise.resolve().then(function(){t._emitter.emit(d.a.SMPTE2038_METADATA_ARRIVED,e)})},e.prototype._onSCTE35MetadataArrived=function(e){var t=this;Promise.resolve().then(function(){t._emitter.emit(d.a.SCTE35_METADATA_ARRIVED,e)})},e.prototype._onPESPrivateDataDescriptor=function(e){var t=this;Promise.resolve().then(function(){t._emitter.emit(d.a.PES_PRIVATE_DATA_DESCRIPTOR,e)})},e.prototype._onPESPrivateDataArrived=function(e){var t=this;Promise.resolve().then(function(){t._emitter.emit(d.a.PES_PRIVATE_DATA_ARRIVED,e)})},e.prototype._onStatisticsInfo=function(e){var t=this;Promise.resolve().then(function(){t._emitter.emit(d.a.STATISTICS_INFO,e)})},e.prototype._onIOError=function(e,t){var n=this;Promise.resolve().then(function(){n._emitter.emit(d.a.IO_ERROR,e,t)})},e.prototype._onDemuxError=function(e,t){var n=this;Promise.resolve().then(function(){n._emitter.emit(d.a.DEMUX_ERROR,e,t)})},e.prototype._onRecommendSeekpoint=function(e){var t=this;Promise.resolve().then(function(){t._emitter.emit(d.a.RECOMMEND_SEEKPOINT,e)})},e.prototype._onLoggingConfigChanged=function(e){this._worker&&this._worker.postMessage({cmd:"logging_config",param:e})},e.prototype._onWorkerMessage=function(e){var t=e.data,n=t.data;if("destroyed"===t.msg||this._workerDestroying)return this._workerDestroying=!1,this._worker.terminate(),void(this._worker=null);switch(t.msg){case d.a.INIT_SEGMENT:case d.a.MEDIA_SEGMENT:this._emitter.emit(t.msg,n.type,n.data);break;case d.a.LOADING_COMPLETE:case d.a.RECOVERED_EARLY_EOF:this._emitter.emit(t.msg);break;case d.a.MEDIA_INFO:Object.setPrototypeOf(n,u.a.prototype),this._emitter.emit(t.msg,n);break;case d.a.METADATA_ARRIVED:case d.a.SCRIPTDATA_ARRIVED:case d.a.TIMED_ID3_METADATA_ARRIVED:case d.a.SYNCHRONOUS_KLV_METADATA_ARRIVED:case d.a.ASYNCHRONOUS_KLV_METADATA_ARRIVED:case d.a.SMPTE2038_METADATA_ARRIVED:case d.a.SCTE35_METADATA_ARRIVED:case d.a.PES_PRIVATE_DATA_DESCRIPTOR:case d.a.PES_PRIVATE_DATA_ARRIVED:case d.a.STATISTICS_INFO:this._emitter.emit(t.msg,n);break;case d.a.IO_ERROR:case d.a.DEMUX_ERROR:this._emitter.emit(t.msg,n.type,n.info);break;case d.a.RECOMMEND_SEEKPOINT:this._emitter.emit(t.msg,n);break;case"logcat_callback":s.a.emitter.emit("log",n.type,n.logcat)}},e}();t.a=p},function(e,t,n){function r(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n.oe=function(e){throw console.error(e),e};var r=n(n.s=ENTRY_MODULE);return r.default||r}function a(e){return(e+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function i(e,t,r){var i={};i[r]=[];var o=t.toString(),s=o.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!s)return i;for(var l,c=s[1],d=new RegExp("(\\\\n|\\W)"+a(c)+"\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)","g");l=d.exec(o);)"dll-reference"!==l[3]&&i[r].push(l[3]);for(d=new RegExp("\\("+a(c)+'\\("(dll-reference\\s([\\.|\\-|\\+|\\w|/|@]+))"\\)\\)\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)',"g");l=d.exec(o);)e[l[2]]||(i[r].push(l[1]),e[l[2]]=n(l[1]).m),i[l[2]]=i[l[2]]||[],i[l[2]].push(l[4]);for(var u,p=Object.keys(i),h=0;h<p.length;h++)for(var m=0;m<i[p[h]].length;m++)u=i[p[h]][m],isNaN(1*u)||(i[p[h]][m]=1*i[p[h]][m]);return i}function o(e){return Object.keys(e).reduce(function(t,n){return t||e[n].length>0},!1)}e.exports=function(e,t){t=t||{};var a={main:n.m},s=t.all?{main:Object.keys(a.main)}:function(e,t){for(var n={main:[t]},r={main:[]},a={main:{}};o(n);)for(var s=Object.keys(n),l=0;l<s.length;l++){var c=s[l],d=n[c].pop();if(a[c]=a[c]||{},!a[c][d]&&e[c][d]){a[c][d]=!0,r[c]=r[c]||[],r[c].push(d);for(var u=i(e,e[c][d],c),p=Object.keys(u),h=0;h<p.length;h++)n[p[h]]=n[p[h]]||[],n[p[h]]=n[p[h]].concat(u[p[h]])}}return r}(a,e),l="";Object.keys(s).filter(function(e){return"main"!==e}).forEach(function(e){for(var t=0;s[e][t];)t++;s[e].push(t),a[e][t]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",l=l+"var "+e+" = ("+r.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+s[e].map(function(t){return JSON.stringify(t)+": "+a[e][t].toString()}).join(",")+"});\n"}),l=l+"new (("+r.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+s.main.map(function(e){return JSON.stringify(e)+": "+a.main[e].toString()}).join(",")+"}))(self);";var c=new self.Blob([l],{type:"text/javascript"});if(t.bare)return c;var d=(self.URL||self.webkitURL||self.mozURL||self.msURL).createObjectURL(c),u=new self.Worker(d);return u.objectURL=d,u}},function(e,t,n){"use strict";n.r(t),n(0);var r=n(8),a=n(15),i=n(13),o=n(1);t.default=function(e){var t=null,n=function(t,n){e.postMessage({msg:"logcat_callback",data:{type:t,logcat:n}})}.bind(this);function s(t,n){var r={msg:o.a.INIT_SEGMENT,data:{type:t,data:n}};e.postMessage(r,[n.data])}function l(t,n){var r={msg:o.a.MEDIA_SEGMENT,data:{type:t,data:n}};e.postMessage(r,[n.data])}function c(){var t={msg:o.a.LOADING_COMPLETE};e.postMessage(t)}function d(){var t={msg:o.a.RECOVERED_EARLY_EOF};e.postMessage(t)}function u(t){var n={msg:o.a.MEDIA_INFO,data:t};e.postMessage(n)}function p(t){var n={msg:o.a.METADATA_ARRIVED,data:t};e.postMessage(n)}function h(t){var n={msg:o.a.SCRIPTDATA_ARRIVED,data:t};e.postMessage(n)}function m(t){var n={msg:o.a.TIMED_ID3_METADATA_ARRIVED,data:t};e.postMessage(n)}function f(t){var n={msg:o.a.SYNCHRONOUS_KLV_METADATA_ARRIVED,data:t};e.postMessage(n)}function A(t){var n={msg:o.a.ASYNCHRONOUS_KLV_METADATA_ARRIVED,data:t};e.postMessage(n)}function g(t){var n={msg:o.a.SMPTE2038_METADATA_ARRIVED,data:t};e.postMessage(n)}function _(t){var n={msg:o.a.SCTE35_METADATA_ARRIVED,data:t};e.postMessage(n)}function y(t){var n={msg:o.a.PES_PRIVATE_DATA_DESCRIPTOR,data:t};e.postMessage(n)}function v(t){var n={msg:o.a.PES_PRIVATE_DATA_ARRIVED,data:t};e.postMessage(n)}function E(t){var n={msg:o.a.STATISTICS_INFO,data:t};e.postMessage(n)}function C(t,n){e.postMessage({msg:o.a.IO_ERROR,data:{type:t,info:n}})}function b(t,n){e.postMessage({msg:o.a.DEMUX_ERROR,data:{type:t,info:n}})}function x(t){e.postMessage({msg:o.a.RECOMMEND_SEEKPOINT,data:t})}a.a.install(),e.addEventListener("message",function(a){switch(a.data.cmd){case"init":(t=new i.a(a.data.param[0],a.data.param[1])).on(o.a.IO_ERROR,C.bind(this)),t.on(o.a.DEMUX_ERROR,b.bind(this)),t.on(o.a.INIT_SEGMENT,s.bind(this)),t.on(o.a.MEDIA_SEGMENT,l.bind(this)),t.on(o.a.LOADING_COMPLETE,c.bind(this)),t.on(o.a.RECOVERED_EARLY_EOF,d.bind(this)),t.on(o.a.MEDIA_INFO,u.bind(this)),t.on(o.a.METADATA_ARRIVED,p.bind(this)),t.on(o.a.SCRIPTDATA_ARRIVED,h.bind(this)),t.on(o.a.TIMED_ID3_METADATA_ARRIVED,m.bind(this)),t.on(o.a.SYNCHRONOUS_KLV_METADATA_ARRIVED,f.bind(this)),t.on(o.a.ASYNCHRONOUS_KLV_METADATA_ARRIVED,A.bind(this)),t.on(o.a.SMPTE2038_METADATA_ARRIVED,g.bind(this)),t.on(o.a.SCTE35_METADATA_ARRIVED,_.bind(this)),t.on(o.a.PES_PRIVATE_DATA_DESCRIPTOR,y.bind(this)),t.on(o.a.PES_PRIVATE_DATA_ARRIVED,v.bind(this)),t.on(o.a.STATISTICS_INFO,E.bind(this)),t.on(o.a.RECOMMEND_SEEKPOINT,x.bind(this));break;case"destroy":t&&(t.destroy(),t=null),e.postMessage({msg:"destroyed"});break;case"start":t.start();break;case"stop":t.stop();break;case"seek":t.seek(a.data.param);break;case"pause":t.pause();break;case"resume":t.resume();break;case"logging_config":var w=a.data.param;r.a.applyConfig(w),!0===w.enableCallback?r.a.addLogListener(n):r.a.removeLogListener(n)}})}},function(e,t,n){e.exports=n(25).default},function(e,t,n){(function(t,n){var r;r=function(){"use strict";function e(e){return"function"==typeof e}var r=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},a=0,i=void 0,o=void 0,s=function(e,t){m[a]=e,m[a+1]=t,2===(a+=2)&&(o?o(f):v())},l="undefined"!=typeof window?window:void 0,c=l||{},d=c.MutationObserver||c.WebKitMutationObserver,u="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),p="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function h(){var e=setTimeout;return function(){return e(f,1)}}var m=new Array(1e3);function f(){for(var e=0;e<a;e+=2)(0,m[e])(m[e+1]),m[e]=void 0,m[e+1]=void 0;a=0}var A,g,_,y,v=void 0;function E(e,t){var n=this,r=new this.constructor(x);void 0===r[b]&&O(r);var a=n._state;if(a){var i=arguments[a-1];s(function(){return L(a,r,i,n._result)})}else I(n,r,e,t);return r}function C(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(x);return B(t,e),t}u?v=function(){return t.nextTick(f)}:d?(g=0,_=new d(f),y=document.createTextNode(""),_.observe(y,{characterData:!0}),v=function(){y.data=g=++g%2}):p?((A=new MessageChannel).port1.onmessage=f,v=function(){return A.port2.postMessage(0)}):v=void 0===l?function(){try{var e=Function("return this")().require("vertx");return void 0!==(i=e.runOnLoop||e.runOnContext)?function(){i(f)}:h()}catch(e){return h()}}():h();var b=Math.random().toString(36).substring(2);function x(){}function w(t,n,r){n.constructor===t.constructor&&r===E&&n.constructor.resolve===C?function(e,t){1===t._state?k(e,t._result):2===t._state?T(e,t._result):I(t,void 0,function(t){return B(e,t)},function(t){return T(e,t)})}(t,n):void 0===r?k(t,n):e(r)?function(e,t,n){s(function(e){var r=!1,a=function(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}(n,t,function(n){r||(r=!0,t!==n?B(e,n):k(e,n))},function(t){r||(r=!0,T(e,t))},e._label);!r&&a&&(r=!0,T(e,a))},e)}(t,n,r):k(t,n)}function B(e,t){if(e===t)T(e,new TypeError("You cannot resolve a promise with itself"));else if(a=typeof(r=t),null===r||"object"!==a&&"function"!==a)k(e,t);else{var n=void 0;try{n=t.then}catch(t){return void T(e,t)}w(e,t,n)}var r,a}function S(e){e._onerror&&e._onerror(e._result),R(e)}function k(e,t){void 0===e._state&&(e._result=t,e._state=1,0!==e._subscribers.length&&s(R,e))}function T(e,t){void 0===e._state&&(e._state=2,e._result=t,s(S,e))}function I(e,t,n,r){var a=e._subscribers,i=a.length;e._onerror=null,a[i]=t,a[i+1]=n,a[i+2]=r,0===i&&e._state&&s(R,e)}function R(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,a=void 0,i=e._result,o=0;o<t.length;o+=3)r=t[o],a=t[o+n],r?L(n,r,a,i):a(i);e._subscribers.length=0}}function L(t,n,r,a){var i=e(r),o=void 0,s=void 0,l=!0;if(i){try{o=r(a)}catch(e){l=!1,s=e}if(n===o)return void T(n,new TypeError("A promises callback cannot return that same promise."))}else o=a;void 0!==n._state||(i&&l?B(n,o):!1===l?T(n,s):1===t?k(n,o):2===t&&T(n,o))}var D=0;function O(e){e[b]=D++,e._state=void 0,e._result=void 0,e._subscribers=[]}var N=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(x),this.promise[b]||O(this.promise),r(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?k(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&k(this.promise,this._result))):T(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;void 0===this._state&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===C){var a=void 0,i=void 0,o=!1;try{a=e.then}catch(e){o=!0,i=e}if(a===E&&void 0!==e._state)this._settledAt(e._state,t,e._result);else if("function"!=typeof a)this._remaining--,this._result[t]=e;else if(n===P){var s=new n(x);o?T(s,i):w(s,e,a),this._willSettleAt(s,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(r(e),t)},e.prototype._settledAt=function(e,t,n){var r=this.promise;void 0===r._state&&(this._remaining--,2===e?T(r,n):this._result[t]=n),0===this._remaining&&k(r,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;I(e,void 0,function(e){return n._settledAt(1,t,e)},function(e){return n._settledAt(2,t,e)})},e}(),P=function(){function t(e){this[b]=D++,this._result=this._state=void 0,this._subscribers=[],x!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(e,t){try{t(function(t){B(e,t)},function(t){T(e,t)})}catch(t){T(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.finally=function(t){var n=this.constructor;return e(t)?this.then(function(e){return n.resolve(t()).then(function(){return e})},function(e){return n.resolve(t()).then(function(){throw e})}):this.then(t,t)},t}();return P.prototype.then=E,P.all=function(e){return new N(this,e).promise},P.race=function(e){var t=this;return r(e)?new t(function(n,r){for(var a=e.length,i=0;i<a;i++)t.resolve(e[i]).then(n,r)}):new t(function(e,t){return t(new TypeError("You must pass an array to race."))})},P.resolve=C,P.reject=function(e){var t=new this(x);return T(t,e),t},P._setScheduler=function(e){o=e},P._setAsap=function(e){s=e},P._asap=s,P.polyfill=function(){var e=void 0;if(void 0!==n)e=n;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===r&&!t.cast)return}e.Promise=P},P.Promise=P,P},e.exports=r()}).call(this,n(22),n(23))},function(e,t){var n,r,a=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var l,c=[],d=!1,u=-1;function p(){d&&l&&(d=!1,l.length?c=l.concat(c):u=-1,c.length&&h())}function h(){if(!d){var e=s(p);d=!0;for(var t=c.length;t;){for(l=c,c=[];++u<t;)l&&l[u].run();u=-1,t=c.length}l=null,d=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function f(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new m(e,t)),1!==c.length||d||s(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=f,a.addListener=f,a.once=f,a.off=f,a.removeListener=f,a.removeAllListeners=f,a.emit=f,a.prependListener=f,a.prependOnceListener=f,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(8),i=n(3),o=n(7),s=n(16),l=n(17),c=n(1),d=n(4),u=n(10);t.default=function(e){var t="PlayerEngineWorker",n=function(t,n){e.postMessage({msg:"logcat_callback",type:t,logcat:n})}.bind(void 0),p=null,h=null,m=null,f=null,A=!1,g=!1,_=0,y=0,v=!1;function E(){m&&(m.shutdown(),m.destroy(),m=null)}function C(){if(null==p||null==h)throw new i.a("Worker not initialized");if(f)throw new i.a("Transmuxer has been initialized");g||(!h.deferLoadAfterSourceOpen||A?((f=new l.a(p,h)).on(c.a.INIT_SEGMENT,function(e,t){m.appendInitSegment(t)}),f.on(c.a.MEDIA_SEGMENT,function(t,n){m.appendMediaSegment(n),e.postMessage({msg:"buffered_position_changed",buffered_position_milliseconds:n.info.endDts})}),f.on(c.a.LOADING_COMPLETE,function(){m.endOfStream(),e.postMessage({msg:"player_event",event:d.a.LOADING_COMPLETE})}),f.on(c.a.RECOVERED_EARLY_EOF,function(){e.postMessage({msg:"player_event",event:d.a.RECOVERED_EARLY_EOF})}),f.on(c.a.IO_ERROR,function(t,n){e.postMessage({msg:"player_event",event:d.a.ERROR,error_type:u.b.NETWORK_ERROR,error_detail:t,info:n})}),f.on(c.a.DEMUX_ERROR,function(t,n){e.postMessage({msg:"player_event",event:d.a.ERROR,error_type:u.b.MEDIA_ERROR,error_detail:t,info:n})}),f.on(c.a.MEDIA_INFO,function(e){k(c.a.MEDIA_INFO,e)}),f.on(c.a.STATISTICS_INFO,function(e){k(c.a.STATISTICS_INFO,e)}),f.on(c.a.RECOMMEND_SEEKPOINT,function(t){!function(t){e.postMessage({msg:"transmuxing_event",event:c.a.RECOMMEND_SEEKPOINT,milliseconds:t})}(t)}),f.on(c.a.METADATA_ARRIVED,function(e){T(d.a.METADATA_ARRIVED,e)}),f.on(c.a.SCRIPTDATA_ARRIVED,function(e){T(d.a.SCRIPTDATA_ARRIVED,e)}),f.on(c.a.TIMED_ID3_METADATA_ARRIVED,function(e){T(d.a.TIMED_ID3_METADATA_ARRIVED,e)}),f.on(c.a.SYNCHRONOUS_KLV_METADATA_ARRIVED,function(e){T(d.a.SYNCHRONOUS_KLV_METADATA_ARRIVED,e)}),f.on(c.a.ASYNCHRONOUS_KLV_METADATA_ARRIVED,function(e){T(d.a.ASYNCHRONOUS_KLV_METADATA_ARRIVED,e)}),f.on(c.a.SMPTE2038_METADATA_ARRIVED,function(e){T(d.a.SMPTE2038_METADATA_ARRIVED,e)}),f.on(c.a.SCTE35_METADATA_ARRIVED,function(e){T(d.a.SCTE35_METADATA_ARRIVED,e)}),f.on(c.a.PES_PRIVATE_DATA_DESCRIPTOR,function(e){T(d.a.PES_PRIVATE_DATA_DESCRIPTOR,e)}),f.on(c.a.PES_PRIVATE_DATA_ARRIVED,function(e){T(d.a.PES_PRIVATE_DATA_ARRIVED,e)}),f.open()):g=!0)}function b(){m&&m.flush(),f&&(f.close(),f.destroy(),f=null)}function x(){A=!0,g&&(g=!1,C())}function w(){e.postMessage({msg:"mse_event",event:o.a.UPDATE_END})}function B(){r.a.v(t,"MSE SourceBuffer is full, report to main thread"),e.postMessage({msg:"mse_event",event:o.a.BUFFER_FULL})}function S(t){e.postMessage({msg:"player_event",event:d.a.ERROR,error_type:u.b.MEDIA_ERROR,error_detail:u.b.MEDIA_MSE_ERROR,info:t})}function k(t,n){e.postMessage({msg:"transmuxing_event",event:t,info:n})}function T(t,n){e.postMessage({msg:"player_event",event:t,extraData:n})}e.addEventListener("message",function(i){if(!v){var l=i.data;switch(l.cmd){case"logging_config":var c=l;a.a.applyConfig(c.logging_config),!0===c.logging_config.enableCallback?a.a.addLogListener(n):a.a.removeLogListener(n);break;case"init":p=(c=l).media_data_source,h=c.config;break;case"destroy":f&&b(),m&&E(),v=!0,e.postMessage({msg:"destroyed"});break;case"initialize_mse":!function(){r.a.v(t,"Initializing MediaSource in DedicatedWorker"),(m=new s.a(h)).on(o.a.SOURCE_OPEN,x.bind(this)),m.on(o.a.UPDATE_END,w.bind(this)),m.on(o.a.BUFFER_FULL,B.bind(this)),m.on(o.a.ERROR,S.bind(this)),m.initialize({getCurrentTime:function(){return _},getReadyState:function(){return y}});var n=m.getHandle();e.postMessage({msg:"mse_init",handle:n},[n])}();break;case"shutdown_mse":E();break;case"load":C();break;case"unload":b();break;case"unbuffered_seek":c=l,m.flush(),f.seek(c.milliseconds);break;case"timeupdate":_=(c=l).current_time;break;case"readystatechange":y=(c=l).ready_state;break;case"pause_transmuxer":f.pause();break;case"resume_transmuxer":f.resume()}}})}},function(e,t,n){"use strict";n.r(t);var r=n(15),a=n(14),i={enableWorker:!1,enableWorkerForMSE:!1,enableStashBuffer:!0,stashInitialSize:void 0,isLive:!1,liveBufferLatencyChasing:!1,liveBufferLatencyChasingOnPaused:!1,liveBufferLatencyMaxLatency:1.5,liveBufferLatencyMinRemain:.5,liveSync:!1,liveSyncMaxLatency:1.2,liveSyncTargetLatency:.8,liveSyncPlaybackRate:1.2,lazyLoad:!0,lazyLoadMaxDuration:180,lazyLoadRecoverDuration:30,deferLoadAfterSourceOpen:!0,autoCleanupMaxBackwardDuration:180,autoCleanupMinBackwardDuration:120,statisticsInfoReportInterval:600,fixAudioTimestampGap:!0,accurateSeek:!1,seekType:"range",seekParamStart:"bstart",seekParamEnd:"bend",rangeLoadZeroStart:!1,customSeekHandler:void 0,reuseRedirectedURL:!1,headers:void 0,customLoader:void 0};function o(){return Object.assign({},i)}var s=function(){function e(){}return e.supportMSEH264Playback=function(){var e=self.MediaSource&&self.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),t=self.ManagedMediaSource&&self.ManagedMediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"');return e||t},e.supportMSEH265Playback=function(){var e=self.MediaSource&&self.MediaSource.isTypeSupported('video/mp4; codecs="hvc1.1.6.L93.B0"'),t=self.ManagedMediaSource&&self.ManagedMediaSource.isTypeSupported('video/mp4; codecs="hvc1.1.6.L93.B0"');return e||t},e.supportNetworkStreamIO=function(){var e=new a.a({},o()),t=e.loaderType;return e.destroy(),"fetch-stream-loader"==t||"xhr-moz-chunked-loader"==t},e.getNetworkLoaderTypeName=function(){var e=new a.a({},o()),t=e.loaderType;return e.destroy(),t},e.supportNativeMediaPlayback=function(t){null==e.videoElement&&(e.videoElement=window.document.createElement("video"));var n=e.videoElement.canPlayType(t);return"probably"===n||"maybe"==n},e.getFeatureList=function(){var t={msePlayback:!1,mseLivePlayback:!1,mseH265Playback:!1,networkStreamIO:!1,networkLoaderName:"",nativeMP4H264Playback:!1,nativeMP4H265Playback:!1,nativeWebmVP8Playback:!1,nativeWebmVP9Playback:!1};return t.msePlayback=e.supportMSEH264Playback(),t.networkStreamIO=e.supportNetworkStreamIO(),t.networkLoaderName=e.getNetworkLoaderTypeName(),t.mseLivePlayback=t.msePlayback&&t.networkStreamIO,t.mseH265Playback=e.supportMSEH265Playback(),t.nativeMP4H264Playback=e.supportNativeMediaPlayback('video/mp4; codecs="avc1.42001E, mp4a.40.2"'),t.nativeMP4H265Playback=e.supportNativeMediaPlayback('video/mp4; codecs="hvc1.1.6.L93.B0"'),t.nativeWebmVP8Playback=e.supportNativeMediaPlayback('video/webm; codecs="vp8.0, vorbis"'),t.nativeWebmVP9Playback=e.supportNativeMediaPlayback('video/webm; codecs="vp9"'),t},e}(),l=n(2),c=n(0),d=n(9),u=n.n(d),p=n(16),h=n(4),m=n(17),f=n(7),A=n(10),g=n(3),_=n(1),y=n(5),v=n(11),E=function(){function e(e,t,n){this.TAG="SeekingHandler",this._config=null,this._media_element=null,this._always_seek_keyframe=!1,this._on_unbuffered_seek=null,this._request_set_current_time=!1,this._seek_request_record_clocktime=null,this._idr_sample_list=new v.a,this.e=null,this._config=e,this._media_element=t,this._on_unbuffered_seek=n,this.e={onMediaSeeking:this._onMediaSeeking.bind(this)};var r=y.a.chrome&&(y.a.version.major<50||50===y.a.version.major&&y.a.version.build<2661);this._always_seek_keyframe=!!(r||y.a.msedge||y.a.msie),this._always_seek_keyframe&&(this._config.accurateSeek=!1),this._media_element.addEventListener("seeking",this.e.onMediaSeeking)}return e.prototype.destroy=function(){this._idr_sample_list.clear(),this._idr_sample_list=null,this._media_element.removeEventListener("seeking",this.e.onMediaSeeking),this._media_element=null,this._on_unbuffered_seek=null},e.prototype.seek=function(e){var t=this._isPositionBuffered(e),n=!1;if(e<1&&this._media_element.buffered.length>0){var r=this._media_element.buffered.start(0);(r<1&&e<r||y.a.safari)&&(n=!0,e=y.a.safari?.1:r)}if(n)this.directSeek(e);else if(t)if(this._always_seek_keyframe){var a=this._getNearestKeyframe(Math.floor(1e3*e));null!=a&&(e=a.dts/1e3),this.directSeek(e)}else this.directSeek(e);else this._idr_sample_list.clear(),this._on_unbuffered_seek(Math.floor(1e3*e)),this._config.accurateSeek&&this.directSeek(e)},e.prototype.directSeek=function(e){this._request_set_current_time=!0,this._media_element.currentTime=e},e.prototype.appendSyncPoints=function(e){this._idr_sample_list.appendArray(e)},e.prototype._onMediaSeeking=function(t){if(this._request_set_current_time)this._request_set_current_time=!1;else{var n=this._media_element.currentTime,r=this._media_element.buffered;if(n<1&&r.length>0){var a=r.start(0);if(a<1&&n<a||y.a.safari){var i=y.a.safari?.1:a;return void this.directSeek(i)}}if(this._isPositionBuffered(n)){if(this._always_seek_keyframe){var o=this._getNearestKeyframe(Math.floor(1e3*n));null!=o&&(n=o.dts/1e3,this.directSeek(n))}}else this._seek_request_record_clocktime=e._getClockTime(),window.setTimeout(this._pollAndApplyUnbufferedSeek.bind(this),50)}},e.prototype._pollAndApplyUnbufferedSeek=function(){if(null!=this._seek_request_record_clocktime)if(this._seek_request_record_clocktime<=e._getClockTime()-100){var t=this._media_element.currentTime;this._seek_request_record_clocktime=null,this._isPositionBuffered(t)||(this._idr_sample_list.clear(),this._on_unbuffered_seek(Math.floor(1e3*t)),this._config.accurateSeek&&this.directSeek(t))}else window.setTimeout(this._pollAndApplyUnbufferedSeek.bind(this),50)},e.prototype._isPositionBuffered=function(e){for(var t=this._media_element.buffered,n=0;n<t.length;n++){var r=t.start(n),a=t.end(n);if(e>=r&&e<a)return!0}return!1},e.prototype._getNearestKeyframe=function(e){return this._idr_sample_list.getLastSyncPointBeforeDts(e)},e._getClockTime=function(){return self.performance&&self.performance.now?self.performance.now():Date.now()},e}(),C=function(){function e(e,t,n,r){this.TAG="LoadingController",this._config=null,this._media_element=null,this._on_pause_transmuxer=null,this._on_resume_transmuxer=null,this._paused=!1,this.e=null,this._config=e,this._media_element=t,this._on_pause_transmuxer=n,this._on_resume_transmuxer=r,this.e={onMediaTimeUpdate:this._onMediaTimeUpdate.bind(this)}}return e.prototype.destroy=function(){this._media_element.removeEventListener("timeupdate",this.e.onMediaTimeUpdate),this.e=null,this._media_element=null,this._config=null,this._on_pause_transmuxer=null,this._on_resume_transmuxer=null},e.prototype.notifyBufferedPositionChanged=function(e){!this._config.isLive&&this._config.lazyLoad&&(null==e?this._suspendTransmuxerIfNeeded():this._suspendTransmuxerIfBufferedPositionExceeded(e))},e.prototype._onMediaTimeUpdate=function(e){this._paused&&this._resumeTransmuxerIfNeeded()},e.prototype._suspendTransmuxerIfNeeded=function(){for(var e=this._media_element.buffered,t=this._media_element.currentTime,n=0,r=0;r<e.length;r++){var a=e.start(r),i=e.end(r);if(a<=t&&t<i){n=i;break}}n>0&&this._suspendTransmuxerIfBufferedPositionExceeded(n)},e.prototype._suspendTransmuxerIfBufferedPositionExceeded=function(e){e>=this._media_element.currentTime+this._config.lazyLoadMaxDuration&&!this._paused&&(c.a.v(this.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),this.suspendTransmuxer(),this._media_element.addEventListener("timeupdate",this.e.onMediaTimeUpdate))},e.prototype.suspendTransmuxer=function(){this._paused=!0,this._on_pause_transmuxer()},e.prototype._resumeTransmuxerIfNeeded=function(){for(var e=this._media_element.buffered,t=this._media_element.currentTime,n=this._config.lazyLoadRecoverDuration,r=!1,a=0;a<e.length;a++){var i=e.start(a),o=e.end(a);if(t>=i&&t<o){t>=o-n&&(r=!0);break}}r&&(c.a.v(this.TAG,"Continue loading from paused position"),this.resumeTransmuxer(),this._media_element.removeEventListener("timeupdate",this.e.onMediaTimeUpdate))},e.prototype.resumeTransmuxer=function(){this._paused=!1,this._on_resume_transmuxer()},e}(),b=function(){function e(e,t){this.TAG="StartupStallJumper",this._media_element=null,this._on_direct_seek=null,this._canplay_received=!1,this.e=null,this._media_element=e,this._on_direct_seek=t,this.e={onMediaCanPlay:this._onMediaCanPlay.bind(this),onMediaStalled:this._onMediaStalled.bind(this),onMediaProgress:this._onMediaProgress.bind(this)},this._media_element.addEventListener("canplay",this.e.onMediaCanPlay),this._media_element.addEventListener("stalled",this.e.onMediaStalled),this._media_element.addEventListener("progress",this.e.onMediaProgress)}return e.prototype.destroy=function(){this._media_element.removeEventListener("canplay",this.e.onMediaCanPlay),this._media_element.removeEventListener("stalled",this.e.onMediaStalled),this._media_element.removeEventListener("progress",this.e.onMediaProgress),this._media_element=null,this._on_direct_seek=null},e.prototype._onMediaCanPlay=function(e){this._canplay_received=!0,this._media_element.removeEventListener("canplay",this.e.onMediaCanPlay)},e.prototype._onMediaStalled=function(e){this._detectAndFixStuckPlayback(!0)},e.prototype._onMediaProgress=function(e){this._detectAndFixStuckPlayback()},e.prototype._detectAndFixStuckPlayback=function(e){var t=this._media_element,n=t.buffered;e||!this._canplay_received||t.readyState<2?n.length>0&&t.currentTime<n.start(0)&&(c.a.w(this.TAG,"Playback seems stuck at ".concat(t.currentTime,", seek to ").concat(n.start(0))),this._on_direct_seek(n.start(0)),this._media_element.removeEventListener("progress",this.e.onMediaProgress)):this._media_element.removeEventListener("progress",this.e.onMediaProgress)},e}(),x=function(){function e(e,t,n){this._config=null,this._media_element=null,this._on_direct_seek=null,this._config=e,this._media_element=t,this._on_direct_seek=n}return e.prototype.destroy=function(){this._on_direct_seek=null,this._media_element=null,this._config=null},e.prototype.notifyBufferedRangeUpdate=function(){this._chaseLiveLatency()},e.prototype._chaseLiveLatency=function(){var e=this._media_element.buffered,t=this._media_element.currentTime,n=this._media_element.paused;if(this._config.isLive&&this._config.liveBufferLatencyChasing&&0!=e.length&&(this._config.liveBufferLatencyChasingOnPaused||!n)){var r=e.end(e.length-1);if(r>this._config.liveBufferLatencyMaxLatency&&r-t>this._config.liveBufferLatencyMaxLatency){var a=r-this._config.liveBufferLatencyMinRemain;this._on_direct_seek(a)}}},e}(),w=function(){function e(e,t){this._config=null,this._media_element=null,this.e=null,this._config=e,this._media_element=t,this.e={onMediaTimeUpdate:this._onMediaTimeUpdate.bind(this)},this._media_element.addEventListener("timeupdate",this.e.onMediaTimeUpdate)}return e.prototype.destroy=function(){this._media_element.removeEventListener("timeupdate",this.e.onMediaTimeUpdate),this._media_element=null,this._config=null},e.prototype._onMediaTimeUpdate=function(e){if(this._config.isLive&&this._config.liveSync){var t=this._getCurrentLatency();if(t>this._config.liveSyncMaxLatency){var n=Math.min(2,Math.max(1,this._config.liveSyncPlaybackRate));this._media_element.playbackRate=n}else t>this._config.liveSyncTargetLatency||1!==this._media_element.playbackRate&&0!==this._media_element.playbackRate&&(this._media_element.playbackRate=1)}},e.prototype._getCurrentLatency=function(){if(!this._media_element)return 0;var e=this._media_element.buffered,t=this._media_element.currentTime;return 0==e.length?0:e.end(e.length-1)-t},e}(),B=function(){function e(e,t){this.TAG="PlayerEngineMainThread",this._emitter=new d,this._media_element=null,this._mse_controller=null,this._transmuxer=null,this._pending_seek_time=null,this._seeking_handler=null,this._loading_controller=null,this._startup_stall_jumper=null,this._live_latency_chaser=null,this._live_latency_synchronizer=null,this._mse_source_opened=!1,this._has_pending_load=!1,this._loaded_metadata_received=!1,this._media_info=null,this._statistics_info=null,this.e=null,this._media_data_source=e,this._config=o(),"object"==typeof t&&Object.assign(this._config,t),!0===e.isLive&&(this._config.isLive=!0),this.e={onMediaLoadedMetadata:this._onMediaLoadedMetadata.bind(this)}}return e.prototype.destroy=function(){this._emitter.emit(h.a.DESTROYING),this._transmuxer&&this.unload(),this._media_element&&this.detachMediaElement(),this.e=null,this._media_data_source=null,this._emitter.removeAllListeners(),this._emitter=null},e.prototype.on=function(e,t){var n=this;this._emitter.addListener(e,t),e===h.a.MEDIA_INFO&&this._media_info?Promise.resolve().then(function(){return n._emitter.emit(h.a.MEDIA_INFO,n.mediaInfo)}):e==h.a.STATISTICS_INFO&&this._statistics_info&&Promise.resolve().then(function(){return n._emitter.emit(h.a.STATISTICS_INFO,n.statisticsInfo)})},e.prototype.off=function(e,t){this._emitter.removeListener(e,t)},e.prototype.attachMediaElement=function(e){var t=this;this._media_element=e,e.src="",e.removeAttribute("src"),e.srcObject=null,e.load(),e.addEventListener("loadedmetadata",this.e.onMediaLoadedMetadata),this._mse_controller=new p.a(this._config),this._mse_controller.on(f.a.UPDATE_END,this._onMSEUpdateEnd.bind(this)),this._mse_controller.on(f.a.BUFFER_FULL,this._onMSEBufferFull.bind(this)),this._mse_controller.on(f.a.SOURCE_OPEN,this._onMSESourceOpen.bind(this)),this._mse_controller.on(f.a.ERROR,this._onMSEError.bind(this)),this._mse_controller.on(f.a.START_STREAMING,this._onMSEStartStreaming.bind(this)),this._mse_controller.on(f.a.END_STREAMING,this._onMSEEndStreaming.bind(this)),this._mse_controller.initialize({getCurrentTime:function(){return t._media_element.currentTime},getReadyState:function(){return t._media_element.readyState}}),this._mse_controller.isManagedMediaSource()?(e.disableRemotePlayback=!0,e.srcObject=this._mse_controller.getObject()):e.src=this._mse_controller.getObjectURL()},e.prototype.detachMediaElement=function(){this._media_element&&(this._mse_controller.shutdown(),this._media_element.removeEventListener("loadedmetadata",this.e.onMediaLoadedMetadata),this._media_element.src="",this._media_element.removeAttribute("src"),this._media_element.srcObject=null,this._media_element.load(),this._media_element=null,this._mse_controller.revokeObjectURL()),this._mse_controller&&(this._mse_controller.destroy(),this._mse_controller=null)},e.prototype.load=function(){var e=this;if(!this._media_element)throw new g.a("HTMLMediaElement must be attached before load()!");if(this._transmuxer)throw new g.a("load() has been called, please call unload() first!");this._has_pending_load||(!this._config.deferLoadAfterSourceOpen||this._mse_source_opened?(this._transmuxer=new m.a(this._media_data_source,this._config),this._transmuxer.on(_.a.INIT_SEGMENT,function(t,n){e._mse_controller.appendInitSegment(n)}),this._transmuxer.on(_.a.MEDIA_SEGMENT,function(t,n){e._mse_controller.appendMediaSegment(n),!e._config.isLive&&"video"===t&&n.data&&n.data.byteLength>0&&"info"in n&&e._seeking_handler.appendSyncPoints(n.info.syncPoints),e._loading_controller.notifyBufferedPositionChanged(n.info.endDts/1e3)}),this._transmuxer.on(_.a.LOADING_COMPLETE,function(){e._mse_controller.endOfStream(),e._emitter.emit(h.a.LOADING_COMPLETE)}),this._transmuxer.on(_.a.RECOVERED_EARLY_EOF,function(){e._emitter.emit(h.a.RECOVERED_EARLY_EOF)}),this._transmuxer.on(_.a.IO_ERROR,function(t,n){e._emitter.emit(h.a.ERROR,A.b.NETWORK_ERROR,t,n)}),this._transmuxer.on(_.a.DEMUX_ERROR,function(t,n){e._emitter.emit(h.a.ERROR,A.b.MEDIA_ERROR,t,n)}),this._transmuxer.on(_.a.MEDIA_INFO,function(t){e._media_info=t,e._emitter.emit(h.a.MEDIA_INFO,Object.assign({},t))}),this._transmuxer.on(_.a.STATISTICS_INFO,function(t){e._statistics_info=e._fillStatisticsInfo(t),e._emitter.emit(h.a.STATISTICS_INFO,Object.assign({},t))}),this._transmuxer.on(_.a.RECOMMEND_SEEKPOINT,function(t){e._media_element&&!e._config.accurateSeek&&e._seeking_handler.directSeek(t/1e3)}),this._transmuxer.on(_.a.METADATA_ARRIVED,function(t){e._emitter.emit(h.a.METADATA_ARRIVED,t)}),this._transmuxer.on(_.a.SCRIPTDATA_ARRIVED,function(t){e._emitter.emit(h.a.SCRIPTDATA_ARRIVED,t)}),this._transmuxer.on(_.a.TIMED_ID3_METADATA_ARRIVED,function(t){e._emitter.emit(h.a.TIMED_ID3_METADATA_ARRIVED,t)}),this._transmuxer.on(_.a.SYNCHRONOUS_KLV_METADATA_ARRIVED,function(t){e._emitter.emit(h.a.SYNCHRONOUS_KLV_METADATA_ARRIVED,t)}),this._transmuxer.on(_.a.ASYNCHRONOUS_KLV_METADATA_ARRIVED,function(t){e._emitter.emit(h.a.ASYNCHRONOUS_KLV_METADATA_ARRIVED,t)}),this._transmuxer.on(_.a.SMPTE2038_METADATA_ARRIVED,function(t){e._emitter.emit(h.a.SMPTE2038_METADATA_ARRIVED,t)}),this._transmuxer.on(_.a.SCTE35_METADATA_ARRIVED,function(t){e._emitter.emit(h.a.SCTE35_METADATA_ARRIVED,t)}),this._transmuxer.on(_.a.PES_PRIVATE_DATA_DESCRIPTOR,function(t){e._emitter.emit(h.a.PES_PRIVATE_DATA_DESCRIPTOR,t)}),this._transmuxer.on(_.a.PES_PRIVATE_DATA_ARRIVED,function(t){e._emitter.emit(h.a.PES_PRIVATE_DATA_ARRIVED,t)}),this._seeking_handler=new E(this._config,this._media_element,this._onRequiredUnbufferedSeek.bind(this)),this._loading_controller=new C(this._config,this._media_element,this._onRequestPauseTransmuxer.bind(this),this._onRequestResumeTransmuxer.bind(this)),this._startup_stall_jumper=new b(this._media_element,this._onRequestDirectSeek.bind(this)),this._config.isLive&&this._config.liveBufferLatencyChasing&&(this._live_latency_chaser=new x(this._config,this._media_element,this._onRequestDirectSeek.bind(this))),this._config.isLive&&this._config.liveSync&&(this._live_latency_synchronizer=new w(this._config,this._media_element)),this._media_element.readyState>0&&this._seeking_handler.directSeek(0),this._transmuxer.open()):this._has_pending_load=!0)},e.prototype.unload=function(){var e,t,n,r,a,i,o,s,l;null===(e=this._media_element)||void 0===e||e.pause(),null===(t=this._live_latency_synchronizer)||void 0===t||t.destroy(),this._live_latency_synchronizer=null,null===(n=this._live_latency_chaser)||void 0===n||n.destroy(),this._live_latency_chaser=null,null===(r=this._startup_stall_jumper)||void 0===r||r.destroy(),this._startup_stall_jumper=null,null===(a=this._loading_controller)||void 0===a||a.destroy(),this._loading_controller=null,null===(i=this._seeking_handler)||void 0===i||i.destroy(),this._seeking_handler=null,null===(o=this._mse_controller)||void 0===o||o.flush(),null===(s=this._transmuxer)||void 0===s||s.close(),null===(l=this._transmuxer)||void 0===l||l.destroy(),this._transmuxer=null},e.prototype.play=function(){return this._media_element.play()},e.prototype.pause=function(){this._media_element.pause()},e.prototype.seek=function(e){this._media_element&&this._seeking_handler?this._seeking_handler.seek(e):this._pending_seek_time=e},Object.defineProperty(e.prototype,"mediaInfo",{get:function(){return Object.assign({},this._media_info)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"statisticsInfo",{get:function(){return Object.assign({},this._statistics_info)},enumerable:!1,configurable:!0}),e.prototype._onMSESourceOpen=function(){this._mse_source_opened=!0,this._has_pending_load&&(this._has_pending_load=!1,this.load())},e.prototype._onMSEUpdateEnd=function(){this._config.isLive&&this._config.liveBufferLatencyChasing&&this._live_latency_chaser&&this._live_latency_chaser.notifyBufferedRangeUpdate(),this._loading_controller.notifyBufferedPositionChanged()},e.prototype._onMSEBufferFull=function(){c.a.v(this.TAG,"MSE SourceBuffer is full, suspend transmuxing task"),this._loading_controller.suspendTransmuxer()},e.prototype._onMSEError=function(e){this._emitter.emit(h.a.ERROR,A.b.MEDIA_ERROR,A.a.MEDIA_MSE_ERROR,e)},e.prototype._onMSEStartStreaming=function(){this._loaded_metadata_received&&(this._config.isLive||(c.a.v(this.TAG,"Resume transmuxing task due to ManagedMediaSource onStartStreaming"),this._loading_controller.resumeTransmuxer()))},e.prototype._onMSEEndStreaming=function(){this._config.isLive||(c.a.v(this.TAG,"Suspend transmuxing task due to ManagedMediaSource onEndStreaming"),this._loading_controller.suspendTransmuxer())},e.prototype._onMediaLoadedMetadata=function(e){this._loaded_metadata_received=!0,null!=this._pending_seek_time&&(this._seeking_handler.seek(this._pending_seek_time),this._pending_seek_time=null)},e.prototype._onRequestDirectSeek=function(e){this._seeking_handler.directSeek(e)},e.prototype._onRequiredUnbufferedSeek=function(e){this._mse_controller.flush(),this._transmuxer.seek(e)},e.prototype._onRequestPauseTransmuxer=function(){this._transmuxer.pause()},e.prototype._onRequestResumeTransmuxer=function(){this._transmuxer.resume()},e.prototype._fillStatisticsInfo=function(e){if(e.playerType="MSEPlayer",!(this._media_element instanceof HTMLVideoElement))return e;var t=!0,n=0,r=0;if(this._media_element.getVideoPlaybackQuality){var a=this._media_element.getVideoPlaybackQuality();n=a.totalVideoFrames,r=a.droppedVideoFrames}else null!=this._media_element.webkitDecodedFrameCount?(n=this._media_element.webkitDecodedFrameCount,r=this._media_element.webkitDroppedFrameCount):t=!1;return t&&(e.decodedFrames=n,e.droppedFrames=r),e},e}(),S=n(18),k=n(8),T=function(){function e(e,t){this.TAG="PlayerEngineDedicatedThread",this._emitter=new d,this._media_element=null,this._worker_destroying=!1,this._seeking_handler=null,this._loading_controller=null,this._startup_stall_jumper=null,this._live_latency_chaser=null,this._live_latency_synchronizer=null,this._pending_seek_time=null,this._media_info=null,this._statistics_info=null,this.e=null,this._media_data_source=e,this._config=o(),"object"==typeof t&&Object.assign(this._config,t),!0===e.isLive&&(this._config.isLive=!0),this.e={onLoggingConfigChanged:this._onLoggingConfigChanged.bind(this),onMediaLoadedMetadata:this._onMediaLoadedMetadata.bind(this),onMediaTimeUpdate:this._onMediaTimeUpdate.bind(this),onMediaReadyStateChanged:this._onMediaReadyStateChange.bind(this)},k.a.registerListener(this.e.onLoggingConfigChanged),this._worker=S(24,{all:!0}),this._worker.addEventListener("message",this._onWorkerMessage.bind(this)),this._worker.postMessage({cmd:"init",media_data_source:this._media_data_source,config:this._config}),this._worker.postMessage({cmd:"logging_config",logging_config:k.a.getConfig()})}return e.isSupported=function(){return!(!self.Worker||!(self.MediaSource&&"canConstructInDedicatedWorker"in self.MediaSource&&!0===self.MediaSource.canConstructInDedicatedWorker||self.ManagedMediaSource&&"canConstructInDedicatedWorker"in self.ManagedMediaSource&&!0===self.ManagedMediaSource.canConstructInDedicatedWorker))},e.prototype.destroy=function(){this._emitter.emit(h.a.DESTROYING),this.unload(),this.detachMediaElement(),this._worker_destroying=!0,this._worker.postMessage({cmd:"destroy"}),k.a.removeListener(this.e.onLoggingConfigChanged),this.e=null,this._media_data_source=null,this._emitter.removeAllListeners(),this._emitter=null},e.prototype.on=function(e,t){var n=this;this._emitter.addListener(e,t),e===h.a.MEDIA_INFO&&this._media_info?Promise.resolve().then(function(){return n._emitter.emit(h.a.MEDIA_INFO,n.mediaInfo)}):e==h.a.STATISTICS_INFO&&this._statistics_info&&Promise.resolve().then(function(){return n._emitter.emit(h.a.STATISTICS_INFO,n.statisticsInfo)})},e.prototype.off=function(e,t){this._emitter.removeListener(e,t)},e.prototype.attachMediaElement=function(e){this._media_element=e,this._media_element.src="",this._media_element.removeAttribute("src"),this._media_element.srcObject=null,this._media_element.load(),this._media_element.addEventListener("loadedmetadata",this.e.onMediaLoadedMetadata),this._media_element.addEventListener("timeupdate",this.e.onMediaTimeUpdate),this._media_element.addEventListener("readystatechange",this.e.onMediaReadyStateChanged),this._worker.postMessage({cmd:"initialize_mse"})},e.prototype.detachMediaElement=function(){this._worker.postMessage({cmd:"shutdown_mse"}),this._media_element&&(this._media_element.removeEventListener("loadedmetadata",this.e.onMediaLoadedMetadata),this._media_element.removeEventListener("timeupdate",this.e.onMediaTimeUpdate),this._media_element.removeEventListener("readystatechange",this.e.onMediaReadyStateChanged),this._media_element.src="",this._media_element.removeAttribute("src"),this._media_element.srcObject=null,this._media_element.load(),this._media_element=null)},e.prototype.load=function(){this._worker.postMessage({cmd:"load"}),this._seeking_handler=new E(this._config,this._media_element,this._onRequiredUnbufferedSeek.bind(this)),this._loading_controller=new C(this._config,this._media_element,this._onRequestPauseTransmuxer.bind(this),this._onRequestResumeTransmuxer.bind(this)),this._startup_stall_jumper=new b(this._media_element,this._onRequestDirectSeek.bind(this)),this._config.isLive&&this._config.liveBufferLatencyChasing&&(this._live_latency_chaser=new x(this._config,this._media_element,this._onRequestDirectSeek.bind(this))),this._config.isLive&&this._config.liveSync&&(this._live_latency_synchronizer=new w(this._config,this._media_element)),this._media_element.readyState>0&&this._seeking_handler.directSeek(0)},e.prototype.unload=function(){var e,t,n,r,a,i;null===(e=this._media_element)||void 0===e||e.pause(),this._worker.postMessage({cmd:"unload"}),null===(t=this._live_latency_synchronizer)||void 0===t||t.destroy(),this._live_latency_synchronizer=null,null===(n=this._live_latency_chaser)||void 0===n||n.destroy(),this._live_latency_chaser=null,null===(r=this._startup_stall_jumper)||void 0===r||r.destroy(),this._startup_stall_jumper=null,null===(a=this._loading_controller)||void 0===a||a.destroy(),this._loading_controller=null,null===(i=this._seeking_handler)||void 0===i||i.destroy(),this._seeking_handler=null},e.prototype.play=function(){return this._media_element.play()},e.prototype.pause=function(){this._media_element.pause()},e.prototype.seek=function(e){this._media_element&&this._seeking_handler?this._seeking_handler.seek(e):this._pending_seek_time=e},Object.defineProperty(e.prototype,"mediaInfo",{get:function(){return Object.assign({},this._media_info)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"statisticsInfo",{get:function(){return Object.assign({},this._statistics_info)},enumerable:!1,configurable:!0}),e.prototype._onLoggingConfigChanged=function(e){var t;null===(t=this._worker)||void 0===t||t.postMessage({cmd:"logging_config",logging_config:e})},e.prototype._onMSEUpdateEnd=function(){this._config.isLive&&this._config.liveBufferLatencyChasing&&this._live_latency_chaser&&this._live_latency_chaser.notifyBufferedRangeUpdate(),this._loading_controller.notifyBufferedPositionChanged()},e.prototype._onMSEBufferFull=function(){c.a.v(this.TAG,"MSE SourceBuffer is full, suspend transmuxing task"),this._loading_controller.suspendTransmuxer()},e.prototype._onMediaLoadedMetadata=function(e){null!=this._pending_seek_time&&(this._seeking_handler.seek(this._pending_seek_time),this._pending_seek_time=null)},e.prototype._onRequestDirectSeek=function(e){this._seeking_handler.directSeek(e)},e.prototype._onRequiredUnbufferedSeek=function(e){this._worker.postMessage({cmd:"unbuffered_seek",milliseconds:e})},e.prototype._onRequestPauseTransmuxer=function(){this._worker.postMessage({cmd:"pause_transmuxer"})},e.prototype._onRequestResumeTransmuxer=function(){this._worker.postMessage({cmd:"resume_transmuxer"})},e.prototype._onMediaTimeUpdate=function(e){this._worker.postMessage({cmd:"timeupdate",current_time:e.target.currentTime})},e.prototype._onMediaReadyStateChange=function(e){this._worker.postMessage({cmd:"readystatechange",ready_state:e.target.readyState})},e.prototype._onWorkerMessage=function(e){var t,n=e.data,r=n.msg;if("destroyed"==r||this._worker_destroying)return this._worker_destroying=!1,null===(t=this._worker)||void 0===t||t.terminate(),void(this._worker=null);switch(r){case"mse_init":var a=n;"ManagedMediaSource"in self&&!("MediaSource"in self)&&(this._media_element.disableRemotePlayback=!0),this._media_element.srcObject=a.handle;break;case"mse_event":(a=n).event==f.a.UPDATE_END?this._onMSEUpdateEnd():a.event==f.a.BUFFER_FULL&&this._onMSEBufferFull();break;case"transmuxing_event":if((a=n).event==_.a.MEDIA_INFO){var i=n;this._media_info=i.info,this._emitter.emit(h.a.MEDIA_INFO,Object.assign({},i.info))}else if(a.event==_.a.STATISTICS_INFO){var o=n;this._statistics_info=this._fillStatisticsInfo(o.info),this._emitter.emit(h.a.STATISTICS_INFO,Object.assign({},o.info))}else if(a.event==_.a.RECOMMEND_SEEKPOINT){var s=n;this._media_element&&!this._config.accurateSeek&&this._seeking_handler.directSeek(s.milliseconds/1e3)}break;case"player_event":if((a=n).event==h.a.ERROR){var l=n;this._emitter.emit(h.a.ERROR,l.error_type,l.error_detail,l.info)}else if("extraData"in a){var d=n;this._emitter.emit(d.event,d.extraData)}break;case"logcat_callback":a=n,c.a.emitter.emit("log",a.type,a.logcat);break;case"buffered_position_changed":a=n,this._loading_controller.notifyBufferedPositionChanged(a.buffered_position_milliseconds/1e3)}},e.prototype._fillStatisticsInfo=function(e){if(e.playerType="MSEPlayer",!(this._media_element instanceof HTMLVideoElement))return e;var t=!0,n=0,r=0;if(this._media_element.getVideoPlaybackQuality){var a=this._media_element.getVideoPlaybackQuality();n=a.totalVideoFrames,r=a.droppedVideoFrames}else null!=this._media_element.webkitDecodedFrameCount?(n=this._media_element.webkitDecodedFrameCount,r=this._media_element.webkitDroppedFrameCount):t=!1;return t&&(e.decodedFrames=n,e.droppedFrames=r),e},e}(),I=function(){function e(e,t){this.TAG="MSEPlayer",this._type="MSEPlayer",this._media_element=null,this._player_engine=null;var n=e.type.toLowerCase();if("mse"!==n&&"mpegts"!==n&&"m2ts"!==n&&"flv"!==n)throw new g.b("MSEPlayer requires an mpegts/m2ts/flv MediaDataSource input!");if(t&&t.enableWorkerForMSE&&T.isSupported())try{this._player_engine=new T(e,t)}catch(n){c.a.e(this.TAG,"Error while initializing PlayerEngineDedicatedThread, fallback to PlayerEngineMainThread"),this._player_engine=new B(e,t)}else this._player_engine=new B(e,t)}return e.prototype.destroy=function(){this._player_engine.destroy(),this._player_engine=null,this._media_element=null},e.prototype.on=function(e,t){this._player_engine.on(e,t)},e.prototype.off=function(e,t){this._player_engine.off(e,t)},e.prototype.attachMediaElement=function(e){this._media_element=e,this._player_engine.attachMediaElement(e)},e.prototype.detachMediaElement=function(){this._media_element=null,this._player_engine.detachMediaElement()},e.prototype.load=function(){this._player_engine.load()},e.prototype.unload=function(){this._player_engine.unload()},e.prototype.play=function(){return this._player_engine.play()},e.prototype.pause=function(){this._player_engine.pause()},Object.defineProperty(e.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"buffered",{get:function(){return this._media_element.buffered},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"duration",{get:function(){return this._media_element.duration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"volume",{get:function(){return this._media_element.volume},set:function(e){this._media_element.volume=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"muted",{get:function(){return this._media_element.muted},set:function(e){this._media_element.muted=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentTime",{get:function(){return this._media_element?this._media_element.currentTime:0},set:function(e){this._player_engine.seek(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mediaInfo",{get:function(){return this._player_engine.mediaInfo},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"statisticsInfo",{get:function(){return this._player_engine.statisticsInfo},enumerable:!1,configurable:!0}),e}(),R=function(){function e(e,t){this.TAG="NativePlayer",this._type="NativePlayer",this._emitter=new u.a,this._config=o(),"object"==typeof t&&Object.assign(this._config,t);var n=e.type.toLowerCase();if("mse"===n||"mpegts"===n||"m2ts"===n||"flv"===n)throw new g.b("NativePlayer does't support mse/mpegts/m2ts/flv MediaDataSource input!");if(e.hasOwnProperty("segments"))throw new g.b("NativePlayer(".concat(e.type,") doesn't support multipart playback!"));this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this)},this._pendingSeekTime=null,this._statisticsReporter=null,this._mediaDataSource=e,this._mediaElement=null}return e.prototype.destroy=function(){this._emitter.emit(h.a.DESTROYING),this._mediaElement&&(this.unload(),this.detachMediaElement()),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null},e.prototype.on=function(e,t){var n=this;e===h.a.MEDIA_INFO?null!=this._mediaElement&&0!==this._mediaElement.readyState&&Promise.resolve().then(function(){n._emitter.emit(h.a.MEDIA_INFO,n.mediaInfo)}):e===h.a.STATISTICS_INFO&&null!=this._mediaElement&&0!==this._mediaElement.readyState&&Promise.resolve().then(function(){n._emitter.emit(h.a.STATISTICS_INFO,n.statisticsInfo)}),this._emitter.addListener(e,t)},e.prototype.off=function(e,t){this._emitter.removeListener(e,t)},e.prototype.attachMediaElement=function(e){if(this._mediaElement=e,e.addEventListener("loadedmetadata",this.e.onvLoadedMetadata),null!=this._pendingSeekTime)try{e.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch(e){}},e.prototype.detachMediaElement=function(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement=null),null!=this._statisticsReporter&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},e.prototype.load=function(){if(!this._mediaElement)throw new g.a("HTMLMediaElement must be attached before load()!");this._mediaElement.src=this._mediaDataSource.url,this._mediaElement.readyState>0&&(this._mediaElement.currentTime=0),this._mediaElement.preload="auto",this._mediaElement.load(),this._statisticsReporter=window.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval)},e.prototype.unload=function(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src")),null!=this._statisticsReporter&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},e.prototype.play=function(){return this._mediaElement.play()},e.prototype.pause=function(){this._mediaElement.pause()},Object.defineProperty(e.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"buffered",{get:function(){return this._mediaElement.buffered},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"duration",{get:function(){return this._mediaElement.duration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"volume",{get:function(){return this._mediaElement.volume},set:function(e){this._mediaElement.volume=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"muted",{get:function(){return this._mediaElement.muted},set:function(e){this._mediaElement.muted=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentTime",{get:function(){return this._mediaElement?this._mediaElement.currentTime:0},set:function(e){this._mediaElement?this._mediaElement.currentTime=e:this._pendingSeekTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mediaInfo",{get:function(){var e={mimeType:(this._mediaElement instanceof HTMLAudioElement?"audio/":"video/")+this._mediaDataSource.type};return this._mediaElement&&(e.duration=Math.floor(1e3*this._mediaElement.duration),this._mediaElement instanceof HTMLVideoElement&&(e.width=this._mediaElement.videoWidth,e.height=this._mediaElement.videoHeight)),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"statisticsInfo",{get:function(){var e={playerType:this._type,url:this._mediaDataSource.url};if(!(this._mediaElement instanceof HTMLVideoElement))return e;var t=!0,n=0,r=0;if(this._mediaElement.getVideoPlaybackQuality){var a=this._mediaElement.getVideoPlaybackQuality();n=a.totalVideoFrames,r=a.droppedVideoFrames}else null!=this._mediaElement.webkitDecodedFrameCount?(n=this._mediaElement.webkitDecodedFrameCount,r=this._mediaElement.webkitDroppedFrameCount):t=!1;return t&&(e.decodedFrames=n,e.droppedFrames=r),e},enumerable:!1,configurable:!0}),e.prototype._onvLoadedMetadata=function(e){null!=this._pendingSeekTime&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null),this._emitter.emit(h.a.MEDIA_INFO,this.mediaInfo)},e.prototype._reportStatisticsInfo=function(){this._emitter.emit(h.a.STATISTICS_INFO,this.statisticsInfo)},e}();r.a.install();var L={createPlayer:function(e,t){var n=e;if(null==n||"object"!=typeof n)throw new g.b("MediaDataSource must be an javascript object!");if(!n.hasOwnProperty("type"))throw new g.b("MediaDataSource must has type field to indicate video file type!");switch(n.type){case"mse":case"mpegts":case"m2ts":case"flv":return new I(n,t);default:return new R(n,t)}},isSupported:function(){return s.supportMSEH264Playback()},getFeatureList:function(){return s.getFeatureList()}};L.BaseLoader=l.a,L.LoaderStatus=l.c,L.LoaderErrors=l.b,L.Events=h.a,L.ErrorTypes=A.b,L.ErrorDetails=A.a,L.MSEPlayer=I,L.NativePlayer=R,L.LoggingControl=k.a,Object.defineProperty(L,"version",{enumerable:!0,get:function(){return"1.8.0"}}),t.default=L}])},8785(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deserializeClipInfo=void 0,t.deserializeClipInfo=function(e){const t=e.match(/"([\s\S]*)" +(MOVIE|STILL|AUDIO) +([\s\S]*)/i);if(!t)return;const n=t[3].split(" ");let r=0;{const e=`${n[1]}`.match(/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/);if(e){const t=new Date(parseInt(e[1],10),parseInt(e[2],10)-1,parseInt(e[3],10),parseInt(e[4],10),parseInt(e[5],10),parseInt(e[6],10));t.getTime()>0&&(r=t.getTime())}}let a=0;{const e=`${n[3]}`.match(/(\d+)\/(\d+)/);e&&(a=parseInt(e[2],10))}return{clip:t[1],type:t[2],size:parseInt(n[0],10),datetime:r,frames:parseInt(n[2])||0,framerate:a}}},8797(e){(function(){e.exports=function(){function e(e){this.arr=e||[]}return Object.defineProperty(e.prototype,"length",{get:function(){return this.arr.length}}),e.prototype.item=function(e){return this.arr[e]||null},e.prototype.contains=function(e){return-1!==this.arr.indexOf(e)},e}()}).call(this)},8805(e,t,n){(function(){"use strict";var e,r,a,i,o={}.hasOwnProperty;r=n(6465),e=n(6712),a=n(1912),i=n(2114),t.defaults=r.defaults,t.processors=i,t.ValidationError=function(){function e(e){this.message=e}return function(e,t){for(var n in t)o.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(e,Error),e}(),t.Builder=e.Builder,t.Parser=a.Parser,t.parseString=a.parseString,t.parseStringPromise=a.parseStringPromise}).call(this)},8962(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deserializeInfoLayer=void 0;const r=n(5340);t.deserializeInfoLayer=async e=>(0,r.deserializeInfoChannel)(e)},9170(e,t,n){"use strict";n.d(t,{A:()=>s});var r=n(1354),a=n.n(r),i=n(6314),o=n.n(i)()(a());o.push([e.id,".sidebar {\n  width: 380px;\n  background: rgba(255, 255, 255, 0.02);\n  border-right: 1px solid var(--border-color);\n  display: flex;\n  flex-direction: column;\n  flex-shrink: 0;\n}\n\n.sidebar-tabs {\n  display: flex;\n  border-bottom: 1px solid var(--border-color);\n  background: rgba(255, 255, 255, 0.03);\n}\n\n.sidebar-tab {\n  flex: 1;\n  padding: 12px 16px;\n  background: none;\n  border: none;\n  color: var(--text-secondary);\n  font-size: 13px;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all var(--transition);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 8px;\n  border-bottom: 2px solid transparent;\n}\n\n.sidebar-tab:hover {\n  color: var(--text-primary);\n  background: rgba(255, 255, 255, 0.05);\n}\n\n.sidebar-tab.active {\n  color: var(--accent-secondary);\n  border-bottom-color: var(--accent-secondary);\n  background: rgba(0, 255, 136, 0.05);\n}\n\n.sidebar-tab svg {\n  width: 16px;\n  height: 16px;\n}\n\n.sidebar-content {\n  flex: 1;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n}","",{version:3,sources:["webpack://./src/renderer/components/Sidebar.css"],names:[],mappings:"AAAA;EACE,YAAY;EACZ,qCAAqC;EACrC,2CAA2C;EAC3C,aAAa;EACb,sBAAsB;EACtB,cAAc;AAChB;;AAEA;EACE,aAAa;EACb,4CAA4C;EAC5C,qCAAqC;AACvC;;AAEA;EACE,OAAO;EACP,kBAAkB;EAClB,gBAAgB;EAChB,YAAY;EACZ,4BAA4B;EAC5B,eAAe;EACf,gBAAgB;EAChB,eAAe;EACf,iCAAiC;EACjC,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,QAAQ;EACR,oCAAoC;AACtC;;AAEA;EACE,0BAA0B;EAC1B,qCAAqC;AACvC;;AAEA;EACE,8BAA8B;EAC9B,4CAA4C;EAC5C,mCAAmC;AACrC;;AAEA;EACE,WAAW;EACX,YAAY;AACd;;AAEA;EACE,OAAO;EACP,gBAAgB;EAChB,aAAa;EACb,sBAAsB;AACxB",sourcesContent:[".sidebar {\r\n  width: 380px;\r\n  background: rgba(255, 255, 255, 0.02);\r\n  border-right: 1px solid var(--border-color);\r\n  display: flex;\r\n  flex-direction: column;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.sidebar-tabs {\r\n  display: flex;\r\n  border-bottom: 1px solid var(--border-color);\r\n  background: rgba(255, 255, 255, 0.03);\r\n}\r\n\r\n.sidebar-tab {\r\n  flex: 1;\r\n  padding: 12px 16px;\r\n  background: none;\r\n  border: none;\r\n  color: var(--text-secondary);\r\n  font-size: 13px;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  transition: all var(--transition);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 8px;\r\n  border-bottom: 2px solid transparent;\r\n}\r\n\r\n.sidebar-tab:hover {\r\n  color: var(--text-primary);\r\n  background: rgba(255, 255, 255, 0.05);\r\n}\r\n\r\n.sidebar-tab.active {\r\n  color: var(--accent-secondary);\r\n  border-bottom-color: var(--accent-secondary);\r\n  background: rgba(0, 255, 136, 0.05);\r\n}\r\n\r\n.sidebar-tab svg {\r\n  width: 16px;\r\n  height: 16px;\r\n}\r\n\r\n.sidebar-content {\r\n  flex: 1;\r\n  overflow: hidden;\r\n  display: flex;\r\n  flex-direction: column;\r\n}"],sourceRoot:""}]);const s=o},9187(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Connection=t.ResponseTypes=void 0;const r=n(228),a=n(9278),i=n(9632),o=n(1657),s=n(7674),l=/(RES (?<ReqId>.+) )?(?<ResponseCode>\d{3}) ((?<Action>.+) )?(OK|ERROR|FAILED)/i;var c;!function(e){e.Info="INFO",e.OK="OK",e.ClientError="ERROR",e.ServerError="FAILED"}(c=t.ResponseTypes||(t.ResponseTypes={}));const d={100:{type:c.Info,message:"Information about an event."},101:{type:c.Info,message:"Information about an event. A line of data is being returned."},200:{type:c.OK,message:"The command has been executed and several lines of data are being returned"},201:{type:c.OK,message:"The command has been executed and data is being returned."},202:{type:c.OK,message:"The command has been executed."},400:{type:c.ClientError,message:"Command not understood and data is being returned."},401:{type:c.ClientError,message:"Illegal video_channel"},402:{type:c.ClientError,message:"Parameter missing"},403:{type:c.ClientError,message:"Illegal parameter"},404:{type:c.ClientError,message:"Media file not found"},500:{type:c.ServerError,message:"Internal server error"},501:{type:c.ServerError,message:"Internal server error"},502:{type:c.ServerError,message:"Media file unreadable"},503:{type:c.ServerError,message:"Access error"}};class u extends r.EventEmitter{constructor(e,t=5250,n,r){super(),this.host=e,this.port=t,this._getRequestForResponse=r,this._unprocessedData="",this._unprocessedLines=[],this._connected=!1,this._version=o.Version.v23x,n&&this._setupSocket()}get connected(){return this._connected}set version(e){this._version=e}changeConnection(e,t=5250){this.host=e,this.port=t,this._socket?.end(),this._setupSocket()}disconnect(){this._socket?.end()}async sendCommand(e,t){if(!e.command)throw new Error("No command specified");if(!e.params)throw new Error("No parameters specified");const n=this._serializeCommand(e,t);return new Promise(e=>{this._socket?.write(n+"\r\n",t=>e(t||void 0))})}_processIncomingData(e){this._unprocessedData+=e.toString("utf-8");const t=this._unprocessedData.split("\r\n");for(this._unprocessedData=t.pop()??"",this._unprocessedLines.push(...t);this._unprocessedLines.length>0;){const e=l.exec(this._unprocessedLines[0]);if(e?.groups?.ResponseCode){let t=1;const n=parseInt(e?.groups?.ResponseCode),r={reqId:e?.groups?.ReqId,command:e?.groups?.Action,responseCode:n,data:void 0,...d[n]};let a;if(200===r.responseCode){const e=this._unprocessedLines.indexOf("");if(-1===e)break;a=this._unprocessedLines.slice(1,e),t+=a.length+1}else if(201===r.responseCode||400===r.responseCode){if(this._unprocessedLines.length<2)break;a=[this._unprocessedLines[1]],t++}r.data=a,this._unprocessedLines.splice(0,t),this._deserializeAndEmitResponse(r,a)}else this._unprocessedLines.splice(0,1)}}_deserializeAndEmitResponse(e,t){Promise.resolve().then(async()=>{const n=this._getRequestForResponse(e);if(n){const r=this._getVersionedDeserializers()[n.command.command];r&&t?.length&&(e.data=await r(t))}this.emit("data",e,void 0)}).catch(t=>{this.emit("data",e,t)})}_triggerReconnect(){this._reconnectTimeout||(this._reconnectTimeout=setTimeout(()=>{this._reconnectTimeout=void 0,this._connected||this._setupSocket()},5e3))}_setupSocket(){this._socket&&(this._socket.removeAllListeners(),this._socket.destroyed||this._socket.destroy()),this._socket=new a.Socket,this._socket.setEncoding("utf-8"),this._socket.on("data",e=>{try{this._processIncomingData(e)}catch(e){this.emit("error",e)}}),this._socket.on("connect",()=>{this._setConnected(!0),this._discardUnprocessed()}),this._socket.on("close",()=>{this._discardUnprocessed(),this._setConnected(!1),this._triggerReconnect()}),this._socket.on("error",e=>{this._discardUnprocessed(),`${e}`.match(/ECONNREFUSED/)?this._setConnected(!1):this.emit("error",e)}),this._socket.connect(this.port,this.host)}_discardUnprocessed(){this._unprocessedData="",this._unprocessedLines=[]}_setConnected(e){e?this._connected||(this._connected=!0,this.emit("connect")):this._connected&&(this._connected=!1,this.emit("disconnect"))}_serializeCommand(e,t){let n=this._getVersionedSerializers()[e.command].map(t=>t(e.command,e.params).trim()).filter(e=>""!==e).join(" ");return t&&(n="REQ "+t+" "+n),n}_getVersionedSerializers(){return this._version<=o.Version.v21x?s.serializersV21:s.serializers}_getVersionedDeserializers(){return i.deserializers}}t.Connection=u},9250(e,t,n){"use strict";n.d(t,{A:()=>s});var r=n(1354),a=n.n(r),i=n(6314),o=n.n(i)()(a());o.push([e.id,".timecode-input {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n}\n\n.timecode-input.disabled {\n  opacity: 0.5;\n  pointer-events: none;\n}\n\n.timecode-fields {\n  display: flex;\n  align-items: center;\n  background: var(--bg-primary);\n  border: 1px solid var(--border-color);\n  border-radius: 3px;\n  padding: 2px 4px;\n}\n\n.timecode-fields:focus-within {\n  border-color: var(--accent-primary);\n  box-shadow: 0 0 0 2px rgba(0, 170, 136, 0.15);\n}\n\n.timecode-field {\n  width: 20px;\n  padding: 2px 0;\n  font-size: 11px;\n  font-family: 'SF Mono', 'Monaco', 'Consolas', monospace;\n  background: transparent;\n  border: none;\n  color: var(--text-primary);\n  text-align: center;\n  outline: none;\n}\n\n.timecode-field::placeholder {\n  color: var(--text-tertiary);\n  opacity: 0.5;\n}\n\n.timecode-field:focus {\n  background: rgba(0, 170, 136, 0.1);\n  border-radius: 2px;\n}\n\n.timecode-separator {\n  font-size: 11px;\n  color: var(--text-tertiary);\n  font-family: 'SF Mono', 'Monaco', 'Consolas', monospace;\n  user-select: none;\n}\n\n.timecode-fps {\n  font-size: 9px;\n  color: var(--text-tertiary);\n  white-space: nowrap;\n}\n\n/* Compact version for inline use */\n.timecode-input.compact .timecode-fields {\n  padding: 1px 2px;\n}\n\n.timecode-input.compact .timecode-field {\n  width: 16px;\n  font-size: 10px;\n}\n\n.timecode-input.compact .timecode-separator {\n  font-size: 10px;\n}\n\n.timecode-input.compact .timecode-fps {\n  font-size: 8px;\n}\n","",{version:3,sources:["webpack://./src/renderer/components/TimecodeInput.css"],names:[],mappings:"AAAA;EACE,aAAa;EACb,mBAAmB;EACnB,QAAQ;AACV;;AAEA;EACE,YAAY;EACZ,oBAAoB;AACtB;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,6BAA6B;EAC7B,qCAAqC;EACrC,kBAAkB;EAClB,gBAAgB;AAClB;;AAEA;EACE,mCAAmC;EACnC,6CAA6C;AAC/C;;AAEA;EACE,WAAW;EACX,cAAc;EACd,eAAe;EACf,uDAAuD;EACvD,uBAAuB;EACvB,YAAY;EACZ,0BAA0B;EAC1B,kBAAkB;EAClB,aAAa;AACf;;AAEA;EACE,2BAA2B;EAC3B,YAAY;AACd;;AAEA;EACE,kCAAkC;EAClC,kBAAkB;AACpB;;AAEA;EACE,eAAe;EACf,2BAA2B;EAC3B,uDAAuD;EACvD,iBAAiB;AACnB;;AAEA;EACE,cAAc;EACd,2BAA2B;EAC3B,mBAAmB;AACrB;;AAEA,mCAAmC;AACnC;EACE,gBAAgB;AAClB;;AAEA;EACE,WAAW;EACX,eAAe;AACjB;;AAEA;EACE,eAAe;AACjB;;AAEA;EACE,cAAc;AAChB",sourcesContent:[".timecode-input {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n}\r\n\r\n.timecode-input.disabled {\r\n  opacity: 0.5;\r\n  pointer-events: none;\r\n}\r\n\r\n.timecode-fields {\r\n  display: flex;\r\n  align-items: center;\r\n  background: var(--bg-primary);\r\n  border: 1px solid var(--border-color);\r\n  border-radius: 3px;\r\n  padding: 2px 4px;\r\n}\r\n\r\n.timecode-fields:focus-within {\r\n  border-color: var(--accent-primary);\r\n  box-shadow: 0 0 0 2px rgba(0, 170, 136, 0.15);\r\n}\r\n\r\n.timecode-field {\r\n  width: 20px;\r\n  padding: 2px 0;\r\n  font-size: 11px;\r\n  font-family: 'SF Mono', 'Monaco', 'Consolas', monospace;\r\n  background: transparent;\r\n  border: none;\r\n  color: var(--text-primary);\r\n  text-align: center;\r\n  outline: none;\r\n}\r\n\r\n.timecode-field::placeholder {\r\n  color: var(--text-tertiary);\r\n  opacity: 0.5;\r\n}\r\n\r\n.timecode-field:focus {\r\n  background: rgba(0, 170, 136, 0.1);\r\n  border-radius: 2px;\r\n}\r\n\r\n.timecode-separator {\r\n  font-size: 11px;\r\n  color: var(--text-tertiary);\r\n  font-family: 'SF Mono', 'Monaco', 'Consolas', monospace;\r\n  user-select: none;\r\n}\r\n\r\n.timecode-fps {\r\n  font-size: 9px;\r\n  color: var(--text-tertiary);\r\n  white-space: nowrap;\r\n}\r\n\r\n/* Compact version for inline use */\r\n.timecode-input.compact .timecode-fields {\r\n  padding: 1px 2px;\r\n}\r\n\r\n.timecode-input.compact .timecode-field {\r\n  width: 16px;\r\n  font-size: 10px;\r\n}\r\n\r\n.timecode-input.compact .timecode-separator {\r\n  font-size: 10px;\r\n}\r\n\r\n.timecode-input.compact .timecode-fps {\r\n  font-size: 8px;\r\n}\r\n"],sourceRoot:""}]);const s=o},9251(e,t,n){"use strict";n.d(t,{A:()=>s});var r=n(1354),a=n.n(r),i=n(6314),o=n.n(i)()(a());o.push([e.id,".app-header {\n  height: 60px;\n  background: rgba(255, 255, 255, 0.03);\n  backdrop-filter: blur(10px);\n  border-bottom: 1px solid var(--border-color);\n  padding: 0 20px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  flex-shrink: 0;\n}\n\n.header-left,\n.header-center,\n.header-right {\n  flex: 1;\n  display: flex;\n  align-items: center;\n}\n\n.header-center {\n  justify-content: center;\n}\n\n.header-right {\n  justify-content: flex-end;\n}\n\n.app-logo {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n\n.logo-icon {\n  width: 36px;\n  height: 36px;\n  background: var(--accent-gradient);\n  border-radius: 8px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 16px;\n  font-weight: 700;\n  color: var(--bg-primary);\n}\n\n.logo-text {\n  display: flex;\n  flex-direction: column;\n}\n\n.logo-title {\n  font-size: 15px;\n  font-weight: 600;\n  color: var(--text-primary);\n  line-height: 1.2;\n}\n\n.logo-subtitle {\n  font-size: 11px;\n  color: var(--text-tertiary);\n  line-height: 1.2;\n}\n\n.server-info {\n  padding: 6px 12px;\n  background: rgba(255, 255, 255, 0.05);\n  border-radius: 6px;\n  font-size: 12px;\n  color: var(--text-secondary);\n}\n\n.server-version {\n  font-family: 'Courier New', monospace;\n}\n\n.header-btn {\n  width: 36px;\n  height: 36px;\n  padding: 0;\n  border-radius: 8px;\n  background: transparent;\n  border: 1px solid transparent;\n  color: var(--text-secondary);\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all var(--transition);\n  margin-right: 12px;\n}\n\n.header-btn:hover {\n  background: rgba(255, 255, 255, 0.08);\n  border-color: var(--border-color);\n  color: var(--text-primary);\n}\n\n.status-indicator {\n  cursor: pointer;\n  user-select: none;\n  transition: all var(--transition);\n}\n\n.status-indicator:hover {\n  background: rgba(255, 255, 255, 0.08);\n}\n\n.status-text {\n  font-weight: 500;\n}","",{version:3,sources:["webpack://./src/renderer/components/Header.css"],names:[],mappings:"AAAA;EACE,YAAY;EACZ,qCAAqC;EACrC,2BAA2B;EAC3B,4CAA4C;EAC5C,eAAe;EACf,aAAa;EACb,mBAAmB;EACnB,8BAA8B;EAC9B,cAAc;AAChB;;AAEA;;;EAGE,OAAO;EACP,aAAa;EACb,mBAAmB;AACrB;;AAEA;EACE,uBAAuB;AACzB;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,SAAS;AACX;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,kCAAkC;EAClC,kBAAkB;EAClB,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,eAAe;EACf,gBAAgB;EAChB,wBAAwB;AAC1B;;AAEA;EACE,aAAa;EACb,sBAAsB;AACxB;;AAEA;EACE,eAAe;EACf,gBAAgB;EAChB,0BAA0B;EAC1B,gBAAgB;AAClB;;AAEA;EACE,eAAe;EACf,2BAA2B;EAC3B,gBAAgB;AAClB;;AAEA;EACE,iBAAiB;EACjB,qCAAqC;EACrC,kBAAkB;EAClB,eAAe;EACf,4BAA4B;AAC9B;;AAEA;EACE,qCAAqC;AACvC;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,UAAU;EACV,kBAAkB;EAClB,uBAAuB;EACvB,6BAA6B;EAC7B,4BAA4B;EAC5B,eAAe;EACf,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,iCAAiC;EACjC,kBAAkB;AACpB;;AAEA;EACE,qCAAqC;EACrC,iCAAiC;EACjC,0BAA0B;AAC5B;;AAEA;EACE,eAAe;EACf,iBAAiB;EACjB,iCAAiC;AACnC;;AAEA;EACE,qCAAqC;AACvC;;AAEA;EACE,gBAAgB;AAClB",sourcesContent:[".app-header {\r\n  height: 60px;\r\n  background: rgba(255, 255, 255, 0.03);\r\n  backdrop-filter: blur(10px);\r\n  border-bottom: 1px solid var(--border-color);\r\n  padding: 0 20px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.header-left,\r\n.header-center,\r\n.header-right {\r\n  flex: 1;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.header-center {\r\n  justify-content: center;\r\n}\r\n\r\n.header-right {\r\n  justify-content: flex-end;\r\n}\r\n\r\n.app-logo {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n}\r\n\r\n.logo-icon {\r\n  width: 36px;\r\n  height: 36px;\r\n  background: var(--accent-gradient);\r\n  border-radius: 8px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 16px;\r\n  font-weight: 700;\r\n  color: var(--bg-primary);\r\n}\r\n\r\n.logo-text {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.logo-title {\r\n  font-size: 15px;\r\n  font-weight: 600;\r\n  color: var(--text-primary);\r\n  line-height: 1.2;\r\n}\r\n\r\n.logo-subtitle {\r\n  font-size: 11px;\r\n  color: var(--text-tertiary);\r\n  line-height: 1.2;\r\n}\r\n\r\n.server-info {\r\n  padding: 6px 12px;\r\n  background: rgba(255, 255, 255, 0.05);\r\n  border-radius: 6px;\r\n  font-size: 12px;\r\n  color: var(--text-secondary);\r\n}\r\n\r\n.server-version {\r\n  font-family: 'Courier New', monospace;\r\n}\r\n\r\n.header-btn {\r\n  width: 36px;\r\n  height: 36px;\r\n  padding: 0;\r\n  border-radius: 8px;\r\n  background: transparent;\r\n  border: 1px solid transparent;\r\n  color: var(--text-secondary);\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  transition: all var(--transition);\r\n  margin-right: 12px;\r\n}\r\n\r\n.header-btn:hover {\r\n  background: rgba(255, 255, 255, 0.08);\r\n  border-color: var(--border-color);\r\n  color: var(--text-primary);\r\n}\r\n\r\n.status-indicator {\r\n  cursor: pointer;\r\n  user-select: none;\r\n  transition: all var(--transition);\r\n}\r\n\r\n.status-indicator:hover {\r\n  background: rgba(255, 255, 255, 0.08);\r\n}\r\n\r\n.status-text {\r\n  font-weight: 500;\r\n}"],sourceRoot:""}]);const s=o},9278(e){"use strict";e.exports=require("net")},9288(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compact=t.ensureArray=t.literal=void 0,t.literal=function(e){return e},t.ensureArray=function(e){return Array.isArray(e)?e:[e]},t.compact=function(e){return e.filter(e=>void 0!==e)}},9479(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},9482(e){(function(){e.exports=function(){function e(e){this.nodes=e}return Object.defineProperty(e.prototype,"length",{get:function(){return this.nodes.length||0}}),e.prototype.clone=function(){return this.nodes=null},e.prototype.item=function(e){return this.nodes[e]||null},e}()}).call(this)},9602(e,t,n){(function(){var t,r,a={}.hasOwnProperty;t=n(231),r=n(3910),e.exports=function(e){function n(e,r){if(n.__super__.constructor.call(this,e),null==r)throw new Error("Missing raw text. "+this.debugInfo());this.type=t.Raw,this.value=this.stringify.raw(r)}return function(e,t){for(var n in t)a.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(n,e),n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(e){return this.options.writer.raw(this,this.options.writer.filterOptions(e))},n}(r)}).call(this)},9632(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deserializers=void 0;const r=n(6469),a=n(2037),i=n(5340),o=n(8962),s=n(6267),l=n(8785),c=n(3467),d=n(9288);t.deserializers={[r.Commands.Cls]:async e=>(0,d.compact)(e.map(l.deserializeClipInfo)),[r.Commands.Cinf]:async e=>(0,l.deserializeClipInfo)(e[0]),[r.Commands.Version]:async e=>(0,c.deserializeVersion)(e[0]),[r.Commands.Info]:async e=>(0,d.compact)(e.map(s.deserializeInfo)),[r.Commands.InfoChannel]:async e=>(0,i.deserializeInfoChannel)(e[0]),[r.Commands.InfoLayer]:async e=>(0,o.deserializeInfoLayer)(e[0]),[r.Commands.InfoConfig]:async e=>(0,a.deserializeInfoConfig)(e[0])}},9787(e,t,n){"use strict";n.d(t,{A:()=>s});var r=n(1354),a=n.n(r),i=n(6314),o=n.n(i)()(a());o.push([e.id,".channels-container {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n\n.channels-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 20px;\n}\n\n.channels-title {\n  font-size: 20px;\n  font-weight: 600;\n  color: var(--text-primary);\n}\n\n.channel-format-inline {\n  font-size: 14px;\n  font-weight: 400;\n  color: var(--text-tertiary);\n  margin-left: 12px;\n}\n\n.channels-grid {\n  display: flex;\n  gap: 20px;\n  overflow-x: auto;\n  padding-bottom: 20px;\n  flex: 1;\n}\n\n.empty-state {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 16px;\n  text-align: center;\n  color: var(--text-tertiary);\n}\n\n.empty-state h3 {\n  font-size: 18px;\n  font-weight: 600;\n  color: var(--text-secondary);\n  margin: 0;\n}\n\n.empty-state p {\n  font-size: 14px;\n  margin: 0;\n}\n\n/* When a channel is expanded, the grid should take full height */\n.channels-container.has-expanded .channels-grid {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}","",{version:3,sources:["webpack://./src/renderer/components/ChannelsContainer.css"],names:[],mappings:"AAAA;EACE,YAAY;EACZ,aAAa;EACb,sBAAsB;AACxB;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,8BAA8B;EAC9B,mBAAmB;AACrB;;AAEA;EACE,eAAe;EACf,gBAAgB;EAChB,0BAA0B;AAC5B;;AAEA;EACE,eAAe;EACf,gBAAgB;EAChB,2BAA2B;EAC3B,iBAAiB;AACnB;;AAEA;EACE,aAAa;EACb,SAAS;EACT,gBAAgB;EAChB,oBAAoB;EACpB,OAAO;AACT;;AAEA;EACE,OAAO;EACP,aAAa;EACb,sBAAsB;EACtB,mBAAmB;EACnB,uBAAuB;EACvB,SAAS;EACT,kBAAkB;EAClB,2BAA2B;AAC7B;;AAEA;EACE,eAAe;EACf,gBAAgB;EAChB,4BAA4B;EAC5B,SAAS;AACX;;AAEA;EACE,eAAe;EACf,SAAS;AACX;;AAEA,iEAAiE;AACjE;EACE,OAAO;EACP,aAAa;EACb,sBAAsB;AACxB",sourcesContent:[".channels-container {\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.channels-header {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.channels-title {\r\n  font-size: 20px;\r\n  font-weight: 600;\r\n  color: var(--text-primary);\r\n}\r\n\r\n.channel-format-inline {\r\n  font-size: 14px;\r\n  font-weight: 400;\r\n  color: var(--text-tertiary);\r\n  margin-left: 12px;\r\n}\r\n\r\n.channels-grid {\r\n  display: flex;\r\n  gap: 20px;\r\n  overflow-x: auto;\r\n  padding-bottom: 20px;\r\n  flex: 1;\r\n}\r\n\r\n.empty-state {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 16px;\r\n  text-align: center;\r\n  color: var(--text-tertiary);\r\n}\r\n\r\n.empty-state h3 {\r\n  font-size: 18px;\r\n  font-weight: 600;\r\n  color: var(--text-secondary);\r\n  margin: 0;\r\n}\r\n\r\n.empty-state p {\r\n  font-size: 14px;\r\n  margin: 0;\r\n}\r\n\r\n/* When a channel is expanded, the grid should take full height */\r\n.channels-container.has-expanded .channels-grid {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n}"],sourceRoot:""}]);const s=o},9790(e,t,n){(function(){var t,r,a={}.hasOwnProperty;r=n(3910),t=n(231),e.exports=function(e){function n(e,r,a){if(n.__super__.constructor.call(this,e),null==r)throw new Error("Missing DTD element name. "+this.debugInfo());a||(a="(#PCDATA)"),Array.isArray(a)&&(a="("+a.join(",")+")"),this.name=this.stringify.name(r),this.type=t.ElementDeclaration,this.value=this.stringify.dtdElementValue(a)}return function(e,t){for(var n in t)a.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(n,e),n.prototype.toString=function(e){return this.options.writer.dtdElement(this,this.options.writer.filterOptions(e))},n}(r)}).call(this)},9982(e,t,n){"use strict";e.exports=n(7463)}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={id:r,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nc=void 0,(()=>{"use strict";var e=n(6540),t=n(5338),r=n(5072),a=n.n(r),i=n(7825),o=n.n(i),s=n(7659),l=n.n(s),c=n(5056),d=n.n(c),u=n(540),p=n.n(u),h=n(1113),m=n.n(h),f=n(3621),A={};A.styleTagTransform=m(),A.setAttributes=d(),A.insert=l().bind(null,"head"),A.domAPI=o(),A.insertStyleElement=p(),a()(f.A,A),f.A&&f.A.locals&&f.A.locals;var g=n(6383);const _={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let y;const v=new Uint8Array(16);function E(){if(!y&&(y="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!y))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return y(v)}const C=[];for(let e=0;e<256;++e)C.push((e+256).toString(16).slice(1));const b=function(e,t,n){if(_.randomUUID&&!t&&!e)return _.randomUUID();const r=(e=e||{}).random||(e.rng||E)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return function(e,t=0){return C[e[t+0]]+C[e[t+1]]+C[e[t+2]]+C[e[t+3]]+"-"+C[e[t+4]]+C[e[t+5]]+"-"+C[e[t+6]]+C[e[t+7]]+"-"+C[e[t+8]]+C[e[t+9]]+"-"+C[e[t+10]]+C[e[t+11]]+C[e[t+12]]+C[e[t+13]]+C[e[t+14]]+C[e[t+15]]}(r)};function x(e){if(!e)return"";let t;if("object"==typeof e&&e.relativePath)return e.relativePath.replace(/\\/g,"/");t="object"==typeof e&&e.path?e.path:String(e);const n=t.replace(/\\/g,"/").split("/"),r=n[n.length-1],a=[".mp4",".mov",".avi",".mkv",".webm",".wmv",".flv",".m4v",".mpeg",".mpg",".mxf",".ts",".m2ts",".jpg",".jpeg",".png",".gif",".bmp",".tga",".tiff"],i=r.lastIndexOf(".");if(i>0){const e=r.toLowerCase().slice(i);if(a.includes(e))return r.slice(0,i)}return r}function w(e){const t=e.match(/^"([^"]+)"\s+(\w+)\s+(\d+)\s+(\d+)\s+(\d+)\s+(\d+)\/(\d+)/);if(!t)return null;const[,n,r,a,i,o,s,l]=t,c=parseInt(s,10),d=parseInt(l,10),u=c>0?d/c:0;return{clip:n,type:r,size:parseInt(a,10),datetime:parseInt(i,10),frames:parseInt(o,10),framerate:u}}function B(e){return!e?.framerate||e.framerate>0&&e.framerate<=120?e:{...e,framerate:e.framerate/100}}async function S(e,t=null){if(!e)throw new Error("Not connected to CasparCG");try{const n=t?{subDirectory:t}:{},r=await e.cls(n);if(r?.request){const e=await r.request;if(console.log("CLS response:",e),e.message&&"string"==typeof e.message){const t=e.message.split("\n").filter(e=>e.trim()).map(w).filter(Boolean);if(t.length>0)return console.log("CLS parsed from raw message:",t.slice(0,3)),t}return(e.data||[]).map(B)}return[]}catch(e){throw console.error("CLS command failed:",e),e}}function k(e){const t=e.match(/^"([^"]+)"\s+(\d+T\d+)\s+(\d+)/);if(!t)return null;const[,n,r,a]=t;return{clip:n,datetime:r,size:parseInt(a,10)}}async function T(e){if(!e)throw new Error("Not connected to CasparCG");try{const t=await e.thumbnailList({});if(t?.request){const e=await t.request;if(console.log("THUMBNAIL LIST response:",e),e.message&&"string"==typeof e.message){const t=e.message.split("\n").filter(e=>e.trim()).map(k).filter(Boolean);if(t.length>0)return console.log("Thumbnails parsed from raw message:",t.length,"items"),t}return e.data||[]}return[]}catch(e){throw console.error("THUMBNAIL LIST command failed:",e),e}}async function I(e,t){if(!e)throw new Error("Not connected to CasparCG");try{const n=t.includes(" ")&&!t.startsWith('"')?`"${t}"`:t;console.log("THUMBNAIL RETRIEVE:",n);const r=await e.thumbnailRetrieve({filename:n});if(r?.request){const e=await r.request;return console.log("THUMBNAIL RETRIEVE response:",e),e.data?e.data:e.message&&"string"==typeof e.message?e.message.trim():null}return null}catch(e){throw console.error("Thumbnail retrieve failed for",t,":",e),e}}async function R(e,t){if(!e)throw new Error("Not connected to CasparCG");try{const n=t.includes(" ")&&!t.startsWith('"')?`"${t}"`:t;console.log("THUMBNAIL GENERATE:",n);const r=await e.thumbnailGenerate({filename:n});if(r?.request){const e=await r.request;return console.log("THUMBNAIL GENERATE response:",e),!0}return!1}catch(e){throw console.error("Thumbnail generate failed for",t,":",e),e}}async function L(e,t=null,n=null){if(!e)throw new Error("Not connected to CasparCG");try{const r={};null!==t&&(r.channel=t),null!==n&&(r.layer=n);const a=await e.info(r);return a?.request&&(await a.request).data||null}catch(e){throw console.error("INFO command failed:",e),e}}function D(e){if(!e)return null;const t=e.match(/[ip](\d{4})$/i);if(t)return parseInt(t[1],10)/100;const n=e.match(/[ip](\d{2})$/i);if(n)return parseInt(n[1],10);const r=e.match(/[ip](\d+)$/i);if(r){const e=parseInt(r[1],10);return e>100?e/100:e}return e.toUpperCase().includes("PAL")?25:e.toUpperCase().includes("NTSC")?29.97:null}function O(e){if(!e)return null;const t=e.match(/^(\d+)([pi])/i);return t?`${t[1]}${t[2].toLowerCase()}`:e.toUpperCase().includes("PAL")?"576i":e.toUpperCase().includes("NTSC")?"480i":e}function N(e,t=null){if(!e)return null;if(Array.isArray(e)){const n=null!==t?e.find(e=>e.channel===t):e[0];return n?{frameRate:n.frameRate||D(n.format),resolution:O(n.format),format:n.format}:null}return"object"==typeof e?{frameRate:e.frameRate||e.framerate||D(e.format),resolution:O(e.format),format:e.format}:null}const P=async function(e,t,n,r=null,a={}){if(!e)throw new Error("Not connected to CasparCG");try{if(r){const i={channel:t,layer:n,clip:x(r)};a.loop&&(i.loop=!0);const o=r.frameRate??a.frameRate??25;if(void 0!==r.inPointFrames&&null!==r.inPointFrames?i.seek=r.inPointFrames:void 0!==a.inPoint&&null!==a.inPoint&&(i.seek=Math.floor(a.inPoint*o)),void 0!==r.outPointFrames&&null!==r.outPointFrames){const e=r.inPointFrames||0;i.length=r.outPointFrames-e}else void 0!==a.outPoint&&null!==a.outPoint&&(i.length=Math.floor((a.outPoint-(a.inPoint||0))*o));return await e.play(i)}return await e.play({channel:t,layer:n})}catch(e){throw console.error("Play command failed:",e),e}},M=async function(e,t,n,r,a={}){if(!e)throw new Error("Not connected to CasparCG");try{const i={channel:t,layer:n,clip:x(r),auto:a.auto??!0};a.loop&&(i.loop=!0);const o=r.frameRate??a.frameRate??25;if(void 0!==r.inPointFrames&&null!==r.inPointFrames?i.seek=r.inPointFrames:void 0!==a.inPoint&&null!==a.inPoint&&(i.seek=Math.floor(a.inPoint*o)),void 0!==r.outPointFrames&&null!==r.outPointFrames){const e=r.inPointFrames||0;i.length=r.outPointFrames-e}else void 0!==a.outPoint&&null!==a.outPoint&&(i.length=Math.floor((a.outPoint-(a.inPoint||0))*o));return await e.loadbg(i)}catch(e){throw console.error("LoadBg command failed:",e),e}},U=async function(e,t,n){if(!e)throw new Error("Not connected to CasparCG");try{return await e.pause({channel:t,layer:n})}catch(e){throw console.error("Pause command failed:",e),e}},F=async function(e,t,n){if(!e)throw new Error("Not connected to CasparCG");try{return await e.resume({channel:t,layer:n})}catch(e){throw console.error("Resume command failed:",e),e}},z=async function(e,t,n){if(!e)throw new Error("Not connected to CasparCG");try{return await e.stop({channel:t,layer:n})}catch(e){throw console.error("Stop command failed:",e),e}},j=async function(e,t,n=null){if(!e)throw new Error("Not connected to CasparCG");try{const r={channel:t};return null!==n&&(r.layer=n),await e.clear(r)}catch(e){throw console.error("Clear command failed:",e),e}},V=async function(e,t,n,r){if(!e)throw new Error("Not connected to CasparCG");try{return await e.call({channel:t,layer:n,...r})}catch(e){throw console.error("Call command failed:",e),e}},G=async function(e,t,n,r,a=!0,i={}){if(!e)throw new Error("Not connected to CasparCG");try{return await e.cgAdd({channel:t,layer:n,template:r,playOnLoad:a,data:JSON.stringify(i)})}catch(e){throw console.error("CG Add command failed:",e),e}},q=async function(e,t,n){if(!e)throw new Error("Not connected to CasparCG");try{return await e.cgPlay({channel:t,layer:n})}catch(e){throw console.error("CG Play command failed:",e),e}},W=async function(e,t,n){if(!e)throw new Error("Not connected to CasparCG");try{return await e.cgStop({channel:t,layer:n})}catch(e){throw console.error("CG Stop command failed:",e),e}},H=async function(e,t,n,r){if(!e)throw new Error("Not connected to CasparCG");try{return await e.cgUpdate({channel:t,layer:n,data:JSON.stringify(r)})}catch(e){throw console.error("CG Update command failed:",e),e}},Y=async function(e,t){if(!e)throw new Error("Not connected to CasparCG");try{const n=t.trim().split(/\s+/)[0].toUpperCase();if("function"==typeof e.createCommand){const n=e.createCommand(t);return await e.execute(n)}throw new Error(`Raw AMCP command execution not supported: ${n}. Use specific command types instead.`)}catch(e){throw console.error("Raw command failed:",e),e}};async function Q(e,t,n){const{type:r,channel:a,layer:i,params:o={}}=e,s=$(o,n);if(r.startsWith("CLIENT_"))return await K(r,a,i,s,n);switch(r){case"PLAY":return await P(t,a,i,s.clip,s);case"LOADBG":return await M(t,a,i,s.clip,s);case"PAUSE":return await U(t,a,i);case"RESUME":return await F(t,a,i);case"STOP":return await z(t,a,i);case"CLEAR":return await j(t,a,i);case"CG_ADD":return await G(t,a,i,s.template,s.playOnLoad??!0,s.data||{});case"CG_PLAY":return await q(t,a,i);case"CG_STOP":return await W(t,a,i);case"CG_UPDATE":return await H(t,a,i,s.data||{});case"CALL":return await V(t,a,i,s);case"CUSTOM":if(s.amcp)return"function"==typeof t.executeCommand?await t.executeCommand(s.amcp):"function"==typeof t.cgDo?await t.cgDo(s.amcp):await Y(t,s.amcp);throw new Error("Custom command requires amcp parameter");default:throw new Error(`Unknown command type: ${r}`)}}async function K(e,t,n,r,a){const{appContext:i}=a;if(!i)throw new Error("Client commands require app context");switch(e){case"CLIENT_TOGGLE_PLAYLIST_MODE":return i.togglePlaylistMode(t,n),{success:!0};case"CLIENT_TOGGLE_LOOP_MODE":return i.toggleLoopMode(t,n),{success:!0};case"CLIENT_TOGGLE_LOOP_ITEM":return i.toggleLoopItem(t,n),{success:!0};case"CLIENT_ADD_CHANNEL":return i.addChannel(),{success:!0};case"CLIENT_ADD_LAYER":return i.addLayer(t),{success:!0};case"CLIENT_NEXT_ITEM":return await i.nextItem(t,n),{success:!0};case"CLIENT_PREV_ITEM":return await i.prevItem(t,n),{success:!0};case"CLIENT_LOAD_RUNDOWN":if(r.rundownName&&i.loadRundown)return await i.loadRundown(r.rundownName),{success:!0};throw new Error("Load rundown requires rundownName parameter");default:throw new Error(`Unknown client command: ${e}`)}}function $(e,t){const n={};for(const[r,a]of Object.entries(e))if("string"==typeof a&&a.startsWith("$")){const e=a.slice(1);n[r]=t[e]??a}else n[r]="object"==typeof a&&null!==a?$(a,t):a;return n}function X(e){return new Promise(t=>setTimeout(t,e))}function Z(e="PLAY"){return{type:e,channel:1,layer:10,params:{},delay:0}}const J=[{value:"PLAY",label:"Play",description:"Play media on a layer",category:"caspar"},{value:"LOADBG",label:"Load BG",description:"Load media in background",category:"caspar"},{value:"PAUSE",label:"Pause",description:"Pause playback",category:"caspar"},{value:"RESUME",label:"Resume",description:"Resume playback",category:"caspar"},{value:"STOP",label:"Stop",description:"Stop playback",category:"caspar"},{value:"CLEAR",label:"Clear",description:"Clear layer",category:"caspar"},{value:"CG_ADD",label:"CG Add",description:"Add template to layer",category:"caspar"},{value:"CG_PLAY",label:"CG Play",description:"Play template",category:"caspar"},{value:"CG_STOP",label:"CG Stop",description:"Stop template",category:"caspar"},{value:"CG_UPDATE",label:"CG Update",description:"Update template data",category:"caspar"},{value:"CUSTOM",label:"Custom",description:"Custom AMCP command",category:"caspar"},{value:"CLIENT_TOGGLE_PLAYLIST_MODE",label:"Toggle Playlist Mode",description:"Toggle auto-advance mode",category:"client"},{value:"CLIENT_TOGGLE_LOOP_MODE",label:"Toggle Loop Mode",description:"Toggle playlist looping",category:"client"},{value:"CLIENT_TOGGLE_LOOP_ITEM",label:"Toggle Loop Item",description:"Toggle item loop",category:"client"},{value:"CLIENT_ADD_CHANNEL",label:"Add Channel",description:"Add new channel",category:"client"},{value:"CLIENT_ADD_LAYER",label:"Add Layer",description:"Add layer to channel",category:"client"},{value:"CLIENT_NEXT_ITEM",label:"Next Item",description:"Go to next playlist item",category:"client"},{value:"CLIENT_PREV_ITEM",label:"Previous Item",description:"Go to previous playlist item",category:"client"},{value:"CLIENT_LOAD_RUNDOWN",label:"Load Rundown",description:"Load saved rundown",category:"client"}];function ee(e){switch(e?.toUpperCase()){case"MOVIE":return"video";case"STILL":return"image";case"AUDIO":return"audio";default:return"media"}}function te(e){if(!e)return null;const t=function(e){if(null==e)return null;const t=parseFloat(e);return isNaN(t)||t<=0||t>120?null:Math.round(100*t)/100}(e.framerate);return{duration:t&&e.frames>0?e.frames/t:0,frameRate:t,frameCount:e.frames,size:e.size,type:ee(e.type),lastModified:e.datetime?new Date(1e3*e.datetime).toISOString():null,source:"casparcg"}}function ne(e,t){if(!e||!t)return null;const n=e.replace(/\\/g,"/"),r=t.replace(/\\/g,"/").replace(/\/$/,"");if(!n.toLowerCase().startsWith(r.toLowerCase()))return null;let a=n.substring(r.length);a.startsWith("/")&&(a=a.substring(1));const i=a.lastIndexOf(".");return i>0&&(a=a.substring(0,i)),a}function re(e,t,n){if(!n||0===n.length)return null;const r=ne(e,t);if(!r)return null;const a=r.toLowerCase().replace(/\\/g,"/");return n.find(e=>(e.clip||"").toLowerCase().replace(/\\/g,"/")===a)}const ae=(0,e.createContext)();function ie(){const t=(0,e.useContext)(ae);if(!t)throw new Error("useApp must be used within AppProvider");return t}const oe={channels:[],media:{rootPath:null,tree:[],selectedFile:null},casparMedia:{list:[],thumbnails:{},lastRefresh:null,isLoading:!1},macros:[],ui:{currentView:"multi",expandedChannel:null,sidebarTab:"files",previewSize:400},activeStreams:{},autoConnectTrigger:0,autoConnectChannelId:null};function se({children:t}){const[n,r]=(0,e.useState)(oe),[a,i]=(0,e.useState)({isConnected:!1,host:"127.0.0.1",port:5250,oscPort:6250,previewUrl:"",casparCG:null,serverInfo:null}),[o,s]=(0,e.useState)(!1),[l,c]=(0,e.useState)(!1),[d,u]=(0,e.useState)(!1),[p,h]=(0,e.useState)({host:"127.0.0.1",port:5250,oscPort:6250,defaultImageDuration:5,previewQuality:50,networkCache:500,previewPort:9250,mediaFolderPath:"",previewScale:"384:216",previewPreset:"ultrafast",previewTune:"zerolatency",previewAudioBitrate:"128k",autoLoadLastSession:!0,autoConnectPreviews:!1}),[m,f]=(0,e.useState)([]),A=(0,e.useRef)(null),_=(0,e.useRef)(null),y=(0,e.useRef)({}),v=(0,e.useRef)({}),E=(0,e.useRef)({}),C=(0,e.useRef)({}),x=(0,e.useRef)(p),w=(0,e.useRef)(n);(0,e.useEffect)(()=>{x.current=p},[p]),(0,e.useEffect)(()=>{w.current=n},[n]),(0,e.useEffect)(()=>{O(),V(),We()},[]),(0,e.useEffect)(()=>{const{ipcRenderer:e}=window.require("electron"),t=(e,t)=>{!function(e,t){const{address:n,args:r,parsed:a}=e;if(!a||!a.channel||!a.layer)return;const{channel:i,layer:o,type:s}=a;switch(s){case"time":r.length>=1&&t({type:"time",channel:i,layer:o,currentTime:parseFloat(r[0])||0,totalTime:r.length>=2&&parseFloat(r[1])||null});break;case"frame":r.length>=1&&t({type:"frame",channel:i,layer:o,currentFrame:parseInt(r[0])||0,totalFrames:r.length>=2&&parseInt(r[1])||null});break;case"paused":t({type:"paused",channel:i,layer:o,isPaused:!0===r[0]||1===r[0]||"true"===r[0]});break;case"loop":t({type:"loop",channel:i,layer:o,isLooping:!0===r[0]||1===r[0]||"true"===r[0]});break;case"producer_type":const e=String(r[0]||"");t({type:"producer_type",channel:i,layer:o,producerType:e,isEmpty:""===e||"empty"===e,isImage:"image-producer"===e||"image"===e});break;case"path":t({type:"path",channel:i,layer:o,path:String(r[0]||"")})}}(t,D)};return e.on("osc:message",t),A.current=t,()=>{e.removeListener("osc:message",t)}},[]);const B=(0,e.useCallback)((e,t)=>{r(n=>{const r=n.channels.find(t=>t.id===e);if(!r)return n;const a=r.layers.find(e=>e.id===t);if(!a||!a.playlistMode||0===a.playlist.length)return n;let i=a.currentIndex+1;if(i>=a.playlist.length){if(!a.loopMode)return{...n,channels:n.channels.map(n=>n.id!==e?n:{...n,layers:n.layers.map(e=>e.id!==t?e:{...e,isPlaying:!1,currentIndex:-1,playlist:e.playlist.map(e=>({...e,playing:!1}))})})};i=0}return{...n,channels:n.channels.map(n=>n.id!==e?n:{...n,layers:n.layers.map(e=>e.id!==t?e:{...e,currentIndex:i,pendingAutoAdvance:i,playlist:e.playlist.map((e,t)=>({...e,playing:t===i,selected:t===i}))})})}})},[]),k=(0,e.useCallback)((e,t)=>{const n=`${e}-${t}`;y.current[n]&&(clearTimeout(y.current[n]),delete y.current[n]),delete E.current[n],delete C.current[n]},[]),D=(0,e.useCallback)(e=>{const{type:t,channel:n,layer:a}=e,i=`${n}-${a}`;r(r=>{const o=r.channels.find(e=>e.id===n),s=o?.layers.find(e=>e.id===a);let l=e.totalTime;if("time"===t&&null==l)if(s&&s.currentIndex>=0&&s.playlist[s.currentIndex]){const e=s.playlist[s.currentIndex];l=e.metadata?.duration||e.duration||s.totalTime||0}else l=s?.totalTime||0;if("time"===t&&l>0){const t=v.current[i],r=l-e.currentTime;r<=.1&&r>=0?t&&!0===t.completed||(v.current[i]={...e,totalTime:l,completed:!0},s&&!s.loopItem&&setTimeout(()=>B(n,a),0)):v.current[i]={...e,totalTime:l,completed:!1}}return{...r,channels:r.channels.map(r=>r.id!==n?r:{...r,layers:r.layers.map(n=>{if(n.id!==a)return n;switch(t){case"time":let t=e.totalTime;if(null==t)if(n.currentIndex>=0&&n.playlist[n.currentIndex]){const e=n.playlist[n.currentIndex];t=e.metadata?.duration||e.duration||n.totalTime||0}else t=n.totalTime||0;return{...n,currentTime:e.currentTime,totalTime:t};case"frame":return{...n,currentFrame:e.currentFrame,totalFrames:e.totalFrames??n.totalFrames};case"paused":return{...n,isPaused:e.isPaused};case"producer_type":return{...n,currentProducerType:e.producerType,isImage:e.isImage};default:return n}})})}})},[B]);(0,e.useEffect)(()=>{const{ipcRenderer:e}=window.require("electron"),t=async()=>{const t=x.current,n=w.current;if(await e.invoke("config:save",{connection:{host:a.host,port:a.port,oscPort:a.oscPort,previewUrl:a.previewUrl},settings:t}),n.channels.length>0){const t={channels:n.channels.map(e=>({id:e.id,name:e.name,expanded:e.expanded,layers:e.layers.map(e=>({id:e.id,playlist:e.playlist.map(e=>({id:e.id,type:e.type,name:e.name,path:e.path,relativePath:e.relativePath,duration:e.duration,resolution:e.resolution,frameRate:e.frameRate,inPointFrames:e.inPointFrames,outPointFrames:e.outPointFrames,inPoint:e.inPoint,outPoint:e.outPoint})),currentIndex:e.currentIndex,playlistMode:e.playlistMode,loopMode:e.loopMode,loopItem:e.loopItem,selectedItems:e.selectedItems||[]}))})),ui:{expandedChannel:n.ui.expandedChannel}};await e.invoke("rundown:save","__LastSession__",t)}else await e.invoke("rundown:delete","__LastSession__");e.send("app:state-saved")};e.on("app:before-quit",t);const n=()=>{const t=x.current;e.invoke("config:save",{connection:{host:a.host,port:a.port,oscPort:a.oscPort,previewUrl:a.previewUrl},settings:t})};return window.addEventListener("beforeunload",n),()=>{e.removeListener("app:before-quit",t),window.removeEventListener("beforeunload",n)}},[a.host,a.port,a.oscPort,a.previewUrl]),(0,e.useEffect)(()=>(_.current&&(clearInterval(_.current),_.current=null),a.isConnected&&a.casparCG&&(_.current=setInterval(async()=>{try{await a.casparCG.info()}catch(e){console.error("Heartbeat failed, connection lost:",e),i(e=>({...e,isConnected:!1,casparCG:null,serverInfo:null})),_.current&&(clearInterval(_.current),_.current=null)}},5e3)),()=>{_.current&&(clearInterval(_.current),_.current=null)}),[a.isConnected,a.casparCG]),(0,e.useEffect)(()=>{const e=setInterval(()=>{r(e=>{let t=!1;const n=e.channels.map(e=>({...e,layers:e.layers.map(n=>{const r=`${e.id}-${n.id}`,a=E.current[r];if(n.isPlaying&&!n.isPaused&&a&&n.currentIndex>=0){const e=n.playlist[n.currentIndex];if("image"===e?.type&&e.duration>0){const r=(Date.now()-a)/1e3,i=Math.min(r,e.duration);if(Math.abs(i-n.currentTime)>.05)return t=!0,{...n,currentTime:i,totalTime:e.duration}}}return n})}));return t?{...e,channels:n}:e})},100);return()=>clearInterval(e)},[]),(0,e.useEffect)(()=>{a.casparCG&&a.isConnected&&n.channels.forEach(e=>{e.layers.forEach(async t=>{if(void 0!==t.pendingAutoAdvance&&null!==t.pendingAutoAdvance){const n=t.pendingAutoAdvance,i=t.playlist[n];if(i){const o=`${e.id}-${t.id}`;try{if(await P(a.casparCG,e.id,t.id,i,{loop:t.loopItem,inPoint:i.inPoint,outPoint:i.outPoint}),y.current[o]&&(clearTimeout(y.current[o]),delete y.current[o]),delete C.current[o],"image"===i.type?(E.current[o]=Date.now(),t.playlistMode&&i.duration>0&&!t.loopItem&&(y.current[o]=setTimeout(()=>{r(n=>{const r=n.channels.find(t=>t.id===e.id),a=r?.layers.find(e=>e.id===t.id);return a?.playlistMode&&!a?.loopItem&&setTimeout(()=>B(e.id,t.id),0),n}),delete y.current[o]},1e3*i.duration))):delete E.current[o],r(r=>({...r,channels:r.channels.map(r=>r.id!==e.id?r:{...r,layers:r.layers.map(e=>e.id!==t.id?e:{...e,pendingAutoAdvance:null,isPlaying:!0,currentIndex:n,playlist:e.playlist.map((e,t)=>({...e,playing:t===n,selected:t===n}))})})})),t.playlistMode&&n<t.playlist.length-1&&"image"!==i.type){const r=t.playlist[n+1];await M(a.casparCG,e.id,t.id,r,{auto:!0,loop:t.loopItem,inPoint:r.inPoint,outPoint:r.outPoint})}}catch(n){console.error("Auto-advance playback failed:",n),r(n=>({...n,channels:n.channels.map(n=>n.id!==e.id?n:{...n,layers:n.layers.map(e=>e.id!==t.id?e:{...e,pendingAutoAdvance:null})})}))}}}})})},[n.channels,a.casparCG,a.isConnected,B]);const O=async()=>{const{ipcRenderer:e}=window.require("electron"),t=await e.invoke("config:load");if(t){if(t.connection&&i(e=>({...e,...t.connection})),t.settings&&(h(e=>({...e,...t.settings})),t.settings.mediaFolderPath))try{const n=await e.invoke("media:scanFolder",t.settings.mediaFolderPath);n.success?(r(e=>({...e,media:{...e.media,rootPath:t.settings.mediaFolderPath,tree:n.tree}})),await e.invoke("media:watchFolder",t.settings.mediaFolderPath)):r(e=>({...e,media:{...e.media,rootPath:t.settings.mediaFolderPath}}))}catch(e){console.error("Error loading media folder:",e),r(e=>({...e,media:{...e.media,rootPath:t.settings.mediaFolderPath}}))}if(!1!==t.settings?.autoLoadLastSession)try{const n=await e.invoke("rundown:load","__LastSession__");if(n.success&&n.data){const e=(n.data.channels||[]).map(e=>({...e,layers:e.layers.map(e=>({...e,isPlaying:!1,isPaused:!1,currentTime:0,totalTime:0,currentFrame:0,totalFrames:0,deletedItems:e.deletedItems||[],playlist:e.playlist.map(e=>({...e,selected:!1,playing:!1}))}))}));r(r=>({...r,channels:e,ui:{...r.ui,...n.data.ui},autoConnectTrigger:t.settings?.autoConnectPreviews?(r.autoConnectTrigger||0)+1:r.autoConnectTrigger,autoConnectChannelId:t.settings?.autoConnectPreviews?"all":null}))}}catch(e){}}},j=(0,e.useCallback)(async e=>{const{ipcRenderer:t}=window.require("electron"),n={...p,...e};return h(n),await t.invoke("config:save",{connection:{host:a.host,port:a.port,oscPort:a.oscPort,previewUrl:a.previewUrl},settings:n}),n},[p,a]),V=async()=>{const{ipcRenderer:e}=window.require("electron"),t=await e.invoke("macro:list");r(e=>({...e,macros:t}))},G=(0,e.useCallback)(async(e,t,n,a="")=>{const{ipcRenderer:o}=window.require("electron");try{i(e=>{if(e.casparCG)try{e.casparCG.disconnect()}catch(e){console.log("Error disconnecting previous connection:",e)}return{...e,isConnected:!1,casparCG:null}});const s=new g.CasparCG({host:e,port:parseInt(t),autoConnect:!1});await s.connect();let l={version:"Unknown"};try{const e=await s.version();if(e&&e.request){const t=await e.request;if(t&&t.data)if(t.data.fullVersion)l.version=t.data.fullVersion;else if("string"==typeof t.data){const e=t.data.match(/(\d+\.\d+\.\d+)/);e&&(l.version=e[1])}}else if(e&&!e.error&&e.response&&e.response.data){const t=e.response.data;if(t.fullVersion)l.version=t.fullVersion;else if("string"==typeof t){const e=t.match(/(\d+\.\d+\.\d+)/);e&&(l.version=e[1])}}}catch(e){console.log("VERSION command failed:",e)}i(r=>({...r,isConnected:!0,host:e,port:parseInt(t),oscPort:parseInt(n),previewUrl:a||"",casparCG:s,serverInfo:l})),s.on("disconnect",()=>{console.log("CasparCG disconnected"),i(e=>({...e,isConnected:!1,casparCG:null,serverInfo:null}))}),s.on("error",e=>{console.error("CasparCG connection error:",e),i(e=>e.casparCG===s?{...e,isConnected:!1,casparCG:null,serverInfo:null}:e)});const c=await o.invoke("osc:start",parseInt(n));return c.success?(u(!0),console.log("OSC Server started on port",n)):console.warn("Failed to start OSC server:",c.error),console.log("Connected to CasparCG:",l),setTimeout(async()=>{try{const e=await S(s);console.log("CLS auto-refresh returned",e.length,"items"),r(t=>({...t,casparMedia:{...t.casparMedia,list:e,lastRefresh:(new Date).toISOString(),isLoading:!1}}))}catch(e){console.warn("Auto-refresh CasparCG media failed:",e)}try{const e=await T(s);console.log("THUMBNAIL LIST returned",e.length,"thumbnails")}catch(e){console.warn("Failed to fetch thumbnail list:",e)}try{const e=w.current.channels,t=await L(s);for(const n of e){const e=N(t,n.id);e&&(console.log(`Channel ${n.id}: ${e.resolution} @ ${e.frameRate}fps`),r(t=>({...t,channels:t.channels.map(t=>t.id===n.id?{...t,channelFrameRate:e.frameRate,channelResolution:e.resolution}:t)})))}}catch(e){console.warn("Failed to fetch channel info:",e)}},500),!0}catch(e){return console.error("Connection failed:",e),i(e=>({...e,isConnected:!1,casparCG:null})),!1}},[]),q=(0,e.useCallback)(async()=>{const{ipcRenderer:e}=window.require("electron");a.casparCG&&a.casparCG.disconnect(),await e.invoke("osc:stop"),u(!1),i(e=>({...e,isConnected:!1,casparCG:null,serverInfo:null}))},[a.casparCG]),W=(0,e.useCallback)(async()=>{const e=n.channels.length+1,t={id:e,name:`Channel ${e}`,layers:[$(1)],expanded:!1};if(r(n=>({...n,channels:[...n.channels,t],autoConnectTrigger:p.autoConnectPreviews?(n.autoConnectTrigger||0)+1:n.autoConnectTrigger,autoConnectChannelId:p.autoConnectPreviews?e:null})),a.casparCG&&a.isConnected)try{const t=N(await L(a.casparCG),e);t&&(console.log(`Channel ${e}: ${t.resolution} @ ${t.frameRate}fps`),r(n=>({...n,channels:n.channels.map(n=>n.id===e?{...n,channelFrameRate:t.frameRate,channelResolution:t.resolution}:n)})))}catch(t){console.warn(`Failed to fetch info for channel ${e}:`,t)}},[n.channels,p.autoConnectPreviews,a.casparCG,a.isConnected]),H=(0,e.useCallback)(e=>{r(t=>({...t,channels:t.channels.filter(t=>t.id!==e)}))},[]),Y=(0,e.useCallback)(e=>{r(t=>({...t,channels:t.channels.map(t=>{if(t.id===e){const e=$(t.layers.length+1);return{...t,layers:[...t.layers,e]}}return t})}))},[]),$=e=>({id:e,playlist:[],currentIndex:-1,playlistMode:!1,loopMode:!1,loopItem:!1,currentTime:0,totalTime:0,isPlaying:!1,isPaused:!1,selectedItems:[],deletedItems:[]}),Z=(0,e.useCallback)(async(e,t=null)=>{const n=t||a.casparCG;if(n)try{const t=N(await L(n,e),e);t&&r(n=>({...n,channels:n.channels.map(n=>n.id===e?{...n,channelFrameRate:t.frameRate,channelResolution:t.resolution}:n)}))}catch(t){console.warn(`Failed to fetch info for channel ${e}:`,t)}},[a.casparCG]),J=((0,e.useCallback)(async(e=null)=>{const t=e||a.casparCG;if(t)for(const e of n.channels)await Z(e.id,t)},[n.channels,Z,a.casparCG]),(0,e.useCallback)((e,t)=>{if(!t||!e)return null;const n=e.replace(/\\/g,"/"),r=t.replace(/\\/g,"/");if(n.startsWith(r)){let e=n.substring(r.length);e.startsWith("/")&&(e=e.substring(1));const t=e.lastIndexOf(".");return t>0&&(e=e.substring(0,t)),e}return null},[])),ee=(0,e.useCallback)(async(e,t,a)=>{const i=J(a.path,n.media.rootPath);let o=a.type||ne(a.name),s="image"===o?p.defaultImageDuration:0,l="",c=25;const d=re(a.path,n.media.rootPath,n.casparMedia.list);if(d){const e=te(d);e&&(s=e.duration||s,c=e.frameRate||c,e.type&&"media"!==e.type&&(o=e.type))}else a.metadata&&(s=a.metadata.duration||s,l=a.metadata.resolution||"",c=a.metadata.frameRate??c);const u={id:b(),type:o,name:a.name,path:a.path,relativePath:i,duration:s,resolution:l,frameRate:c,inPointFrames:null,outPointFrames:null,inPoint:null,outPoint:null,selected:!1,playing:!1};r(n=>({...n,channels:n.channels.map(n=>n.id===e?{...n,layers:n.layers.map(e=>e.id===t?{...e,playlist:[...e.playlist,u]}:e)}:n)}))},[n.media.rootPath,n.casparMedia.list,p.defaultImageDuration,J]),ne=e=>{const t=e.toLowerCase().split(".").pop();return["mp4","mov","avi","mkv","webm","wmv","flv"].includes(t)?"video":["jpg","jpeg","png","gif","bmp","tga","tiff"].includes(t)?"image":["mp3","wav","ogg","aac","flac"].includes(t)?"audio":"media"},ie=(0,e.useCallback)((e,t)=>{k(e,t),r(n=>({...n,channels:n.channels.map(n=>n.id===e?{...n,layers:n.layers.filter(e=>e.id!==t)}:n)}))},[k]),se=(0,e.useCallback)((e,t,n)=>{r(r=>({...r,channels:r.channels.map(r=>r.id===e?{...r,layers:r.layers.map(e=>{if(e.id===t){const t=e.playlist.findIndex(e=>e.id===n);return{...e,currentIndex:t,playlist:e.playlist.map((e,n)=>({...e,selected:n===t}))}}return e})}:r)}))},[]),le=(0,e.useCallback)((e,t,n)=>{r(r=>({...r,channels:r.channels.map(r=>r.id===e?{...r,layers:r.layers.map(e=>{if(e.id===t){const t=e.playlist.filter(e=>e.id!==n),r=e.currentIndex>=t.length?t.length-1:e.currentIndex;return{...e,playlist:t,currentIndex:r}}return e})}:r)}))},[]),ce=(0,e.useCallback)((e,t,n,a)=>{r(r=>({...r,channels:r.channels.map(r=>r.id===e?{...r,layers:r.layers.map(e=>{if(e.id===t){const t=[...e.playlist],[r]=t.splice(n,1);return t.splice(a,0,r),{...e,playlist:t}}return e})}:r)}))},[]),de=(0,e.useCallback)((e,t,n,a)=>{r(r=>({...r,channels:r.channels.map(r=>r.id===e?{...r,layers:r.layers.map(e=>e.id===t?{...e,playlist:e.playlist.map(e=>e.id===n?{...e,duration:parseFloat(a)||0}:e)}:e)}:r)}))},[]),ue=(0,e.useCallback)((e,t,n,a,i)=>{r(r=>({...r,channels:r.channels.map(r=>r.id===e?{...r,layers:r.layers.map(e=>e.id===t?{...e,playlist:e.playlist.map(e=>{if(e.id===n){const t=e.frameRate||25,n=null!==a?a/t:null,r=null!==i?i/t:null;return{...e,inPointFrames:a,outPointFrames:i,inPoint:n,outPoint:r}}return e})}:e)}:r)}))},[]),pe=(0,e.useCallback)((e,t,n,a)=>{r(r=>({...r,channels:r.channels.map(r=>r.id===e?{...r,layers:r.layers.map(e=>e.id===t?{...e,playlist:e.playlist.map(e=>e.id===n?{...e,frameRate:a.frameRate??e.frameRate,duration:a.duration??e.duration,resolution:a.resolution??e.resolution,metadataVerified:!0}:e)}:e)}:r)}))},[]),he=(0,e.useCallback)((e,t,n,a="replace")=>{r(r=>({...r,channels:r.channels.map(r=>r.id===e?{...r,layers:r.layers.map(e=>{if(e.id===t){let t;return"replace"===a?t=n:"toggle"===a?(t=[...e.selectedItems],n.forEach(e=>{const n=t.indexOf(e);n>=0?t.splice(n,1):t.push(e)})):"add"===a&&(t=[...new Set([...e.selectedItems,...n])]),{...e,selectedItems:t}}return e})}:r)}))},[]),me=(0,e.useCallback)((e,t)=>{r(n=>{const r=n.channels.find(t=>t.id===e);if(!r)return n;const a=r.layers.find(e=>e.id===t);if(!a||0===a.selectedItems.length)return n;const i=a.playlist.filter(e=>a.selectedItems.includes(e.id));if(0===i.length)return n;const o={items:i.map(e=>({item:e,index:a.playlist.findIndex(t=>t.id===e.id)})),timestamp:Date.now()};return{...n,channels:n.channels.map(n=>n.id===e?{...n,layers:n.layers.map(e=>e.id===t?{...e,playlist:e.playlist.filter(e=>!a.selectedItems.includes(e.id)),selectedItems:[],deletedItems:[...e.deletedItems,o].slice(-10)}:e)}:n)}})},[]),fe=(0,e.useCallback)((e,t)=>{r(n=>{const r=n.channels.find(t=>t.id===e);if(!r)return n;const a=r.layers.find(e=>e.id===t);if(!a||0===a.deletedItems.length)return n;const i=a.deletedItems[a.deletedItems.length-1],o=[...a.playlist];return i.items.sort((e,t)=>e.index-t.index).forEach(({item:e,index:t})=>{o.splice(Math.min(t,o.length),0,e)}),{...n,channels:n.channels.map(n=>n.id===e?{...n,layers:n.layers.map(e=>e.id===t?{...e,playlist:o,deletedItems:e.deletedItems.slice(0,-1)}:e)}:n)}})},[]),Ae=(0,e.useCallback)((e,t)=>{r(n=>{const a=n.channels.find(t=>t.id===e),i=a?.layers.find(e=>e.id===t),o=!i?.playlistMode;if(o&&i?.isPlaying&&i?.currentIndex>=0){const n=i.playlist[i.currentIndex];if("image"===n?.type&&n?.duration>0&&!i.loopItem){const a=`${e}-${t}`;y.current[a]&&clearTimeout(y.current[a]),y.current[a]=setTimeout(()=>{r(n=>{const r=n.channels.find(t=>t.id===e),a=r?.layers.find(e=>e.id===t);return a?.playlistMode&&!a?.loopItem&&setTimeout(()=>B(e,t),0),n}),delete y.current[a]},1e3*n.duration)}}return{...n,channels:n.channels.map(n=>n.id===e?{...n,layers:n.layers.map(e=>e.id===t?{...e,playlistMode:o}:e)}:n)}})},[B]),ge=(0,e.useCallback)((e,t)=>{r(n=>({...n,channels:n.channels.map(n=>n.id===e?{...n,layers:n.layers.map(e=>e.id===t?{...e,loopMode:!e.loopMode}:e)}:n)}))},[]),_e=(0,e.useCallback)((e,t)=>{r(n=>({...n,channels:n.channels.map(n=>n.id===e?{...n,layers:n.layers.map(e=>e.id===t?{...e,loopItem:!e.loopItem}:e)}:n)}))},[]),ye=(0,e.useCallback)((e,t,n)=>{r(r=>({...r,channels:r.channels.map(r=>r.id===e?{...r,layers:r.layers.map(e=>e.id===t&&e.currentIndex>=0?{...e,playlist:e.playlist.map((t,r)=>r===e.currentIndex?{...t,inPoint:n}:t)}:e)}:r)}))},[]),ve=(0,e.useCallback)((e,t,n)=>{r(r=>({...r,channels:r.channels.map(r=>r.id===e?{...r,layers:r.layers.map(e=>e.id===t&&e.currentIndex>=0?{...e,playlist:e.playlist.map((t,r)=>r===e.currentIndex?{...t,outPoint:n}:t)}:e)}:r)}))},[]),Ee=(0,e.useCallback)((e,t)=>{r(n=>({...n,channels:n.channels.map(n=>n.id===e?{...n,layers:n.layers.map(e=>e.id===t&&e.currentIndex>=0?{...e,playlist:e.playlist.map((t,n)=>n===e.currentIndex?{...t,inPoint:null,outPoint:null}:t)}:e)}:n)}))},[]),Ce=(0,e.useCallback)(async(e,t,i=null)=>{if(!a.casparCG||!a.isConnected)return console.warn("Not connected to CasparCG"),!1;const o=n.channels.find(t=>t.id===e);if(!o)return!1;const s=o.layers.find(e=>e.id===t);if(!s)return!1;const l=null!==i?i:s.currentIndex;if(l<0||l>=s.playlist.length)return!1;const c=s.playlist[l];try{await P(a.casparCG,e,t,c,{loop:s.loopItem,inPoint:c.inPoint,outPoint:c.outPoint}),r(n=>({...n,channels:n.channels.map(n=>n.id===e?{...n,layers:n.layers.map(e=>e.id===t?{...e,isPlaying:!0,isPaused:!1,currentIndex:l,playlist:e.playlist.map((e,t)=>({...e,playing:t===l,selected:t===l}))}:e)}:n)}));const n=`${e}-${t}`;if(y.current[n]&&(clearTimeout(y.current[n]),delete y.current[n]),delete C.current[n],"image"===c.type?E.current[n]=Date.now():delete E.current[n],"image"===c.type&&s.playlistMode&&c.duration>0&&!s.loopItem&&(y.current[n]=setTimeout(()=>{r(n=>{const r=n.channels.find(t=>t.id===e),a=r?.layers.find(e=>e.id===t);return a?.playlistMode&&!a?.loopItem&&setTimeout(()=>B(e,t),0),n}),delete y.current[n]},1e3*c.duration)),s.playlistMode&&l<s.playlist.length-1&&"image"!==c.type){const n=s.playlist[l+1];await M(a.casparCG,e,t,n,{auto:!0,loop:s.loopItem,inPoint:n.inPoint,outPoint:n.outPoint})}return!0}catch(e){return console.error("Failed to play item:",e),!1}},[a.casparCG,a.isConnected,n.channels,B]),be=(0,e.useCallback)(async(e,t)=>{if(!a.casparCG||!a.isConnected)return!1;const n=`${e}-${t}`;y.current[n]&&(clearTimeout(y.current[n]),delete y.current[n]);const i=E.current[n];i&&(C.current[n]=(Date.now()-i)/1e3,delete E.current[n]);try{return await U(a.casparCG,e,t),r(n=>({...n,channels:n.channels.map(n=>n.id===e?{...n,layers:n.layers.map(e=>e.id===t?{...e,isPlaying:!1,isPaused:!0}:e)}:n)})),!0}catch(e){return console.error("Failed to pause:",e),!1}},[a.casparCG,a.isConnected]),xe=(0,e.useCallback)(async(e,t)=>{if(!a.casparCG||!a.isConnected)return!1;const i=`${e}-${t}`;try{await F(a.casparCG,e,t);const o=n.channels.find(t=>t.id===e),s=o?.layers.find(e=>e.id===t),l=s?.currentIndex>=0?s.playlist[s.currentIndex]:null;if("image"===l?.type){const n=C.current[i]||0;if(E.current[i]=Date.now()-1e3*n,delete C.current[i],s?.playlistMode&&l.duration>0&&!s.loopItem){const a=l.duration-n;a>0&&(y.current[i]=setTimeout(()=>{r(n=>{const r=n.channels.find(t=>t.id===e),a=r?.layers.find(e=>e.id===t);return a?.playlistMode&&!a?.loopItem&&setTimeout(()=>B(e,t),0),n}),delete y.current[i]},1e3*a))}}return r(n=>({...n,channels:n.channels.map(n=>n.id===e?{...n,layers:n.layers.map(e=>e.id===t?{...e,isPlaying:!0,isPaused:!1}:e)}:n)})),!0}catch(e){return console.error("Failed to resume:",e),!1}},[a.casparCG,a.isConnected,n.channels,B]),we=(0,e.useCallback)(async(e,t)=>{if(!a.casparCG||!a.isConnected)return!1;k(e,t);try{return await z(a.casparCG,e,t),r(n=>({...n,channels:n.channels.map(n=>n.id===e?{...n,layers:n.layers.map(e=>{if(e.id===t){const t=e.currentIndex>=0?e.playlist[e.currentIndex]:null;return{...e,isPlaying:!1,isPaused:!1,currentTime:0,currentIndex:-1,selectedItems:t?[t.id]:[],playlist:e.playlist.map(e=>({...e,playing:!1,selected:!1}))}}return e})}:n)})),!0}catch(e){return console.error("Failed to stop:",e),!1}},[a.casparCG,a.isConnected,k]),Be=(0,e.useCallback)(async(e,t)=>{const r=n.channels.find(t=>t.id===e);if(!r)return;const a=r.layers.find(e=>e.id===t);if(!a||0===a.playlist.length)return;let i=a.currentIndex+1;if(i>=a.playlist.length){if(!a.loopMode)return;i=0}await Ce(e,t,i)},[n.channels,Ce]),Se=(0,e.useCallback)(async(e,t)=>{const r=n.channels.find(t=>t.id===e);if(!r)return;const a=r.layers.find(e=>e.id===t);if(!a||0===a.playlist.length)return;let i=a.currentIndex-1;i<0&&(i=a.loopMode?a.playlist.length-1:0),await Ce(e,t,i)},[n.channels,Ce]),ke=(0,e.useCallback)(e=>{null!==e?n.channels.find(t=>t.id===e)&&r(t=>({...t,ui:{...t.ui,currentView:"multi"===t.ui.currentView?"expanded":"multi",expandedChannel:"multi"===t.ui.currentView?e:null}})):r(e=>({...e,ui:{...e.ui,currentView:"multi",expandedChannel:null}}))},[n.channels]),Te=(0,e.useCallback)((e,t)=>{r(n=>({...n,media:{...n.media,rootPath:e,tree:t}}))},[]),Ie=(0,e.useCallback)(e=>{r(t=>({...t,media:{...t.media,selectedFile:e}}))},[]),Re=(0,e.useCallback)(async()=>{if(a.casparCG&&a.isConnected){r(e=>({...e,casparMedia:{...e.casparMedia,isLoading:!0}}));try{const e=await S(a.casparCG);console.log("CLS returned",e.length,"items"),r(t=>({...t,casparMedia:{...t.casparMedia,list:e,lastRefresh:(new Date).toISOString(),isLoading:!1}}))}catch(e){console.error("Failed to refresh CasparCG media:",e),r(e=>({...e,casparMedia:{...e.casparMedia,isLoading:!1}}))}}else console.warn("Cannot refresh CasparCG media: Not connected")},[a.casparCG,a.isConnected]),Le=(0,e.useRef)(new Set),De=(0,e.useRef)(null),Oe=(0,e.useCallback)(async()=>{if(!a.casparCG||!a.isConnected)return[];try{const e=await T(a.casparCG);return De.current=e,console.log("Loaded thumbnail list:",e.length,"thumbnails available"),e}catch(e){return console.warn("Failed to load thumbnail list:",e),[]}},[a.casparCG,a.isConnected]),Ne=(0,e.useCallback)(async e=>{if(!a.casparCG||!a.isConnected||!e)return null;const t=e.replace(/\.[^/.]+$/,"");let n=null;if(r(e=>(n=e.casparMedia.thumbnails[t]||e.casparMedia.thumbnails[t.toUpperCase()],e)),n)return n;const i=t.toUpperCase();if(Le.current.has(i))return null;try{console.log("Fetching thumbnail for clip:",t);let e=await I(a.casparCG,t);if(!e)try{await R(a.casparCG,t),await new Promise(e=>setTimeout(e,500)),e=await I(a.casparCG,t)}catch(e){console.warn("Thumbnail generation failed for",t,e)}if(e){const t=`data:image/png;base64,${e}`;return r(e=>({...e,casparMedia:{...e.casparMedia,thumbnails:{...e.casparMedia.thumbnails,[i]:t}}})),t}console.log("No thumbnail data returned for:",t),Le.current.add(i)}catch(e){console.warn("Failed to retrieve thumbnail for",t,e),Le.current.add(i)}return null},[a.casparCG,a.isConnected]),Pe=(0,e.useCallback)(e=>{const t=n=>n.map(n=>n.id===e&&"folder"===n.type?{...n,expanded:!n.expanded}:n.children?{...n,children:t(n.children)}:n);r(e=>({...e,media:{...e.media,tree:t(e.media.tree)}}))},[]),Me=(0,e.useCallback)(e=>{r(t=>({...t,ui:{...t.ui,sidebarTab:e}}))},[]),Ue=(0,e.useCallback)(e=>{r(t=>({...t,ui:{...t.ui,previewSize:Math.max(200,Math.min(800,e))}}))},[]),Fe=(0,e.useCallback)((e,t,n)=>{r(r=>({...r,activeStreams:{...r.activeStreams,[e]:{streamUrl:t,relayPort:n,isActive:!0}}}))},[]),ze=(0,e.useCallback)(e=>{r(t=>{const n={...t.activeStreams};return delete n[e],{...t,activeStreams:n}})},[]),je=(0,e.useCallback)(async e=>{const{ipcRenderer:t}=window.require("electron"),n={...e,id:b(),createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()};return await t.invoke("macro:save",n.id,n),r(e=>({...e,macros:[...e.macros,n]})),n},[]),Ve=(0,e.useCallback)(async e=>{const{ipcRenderer:t}=window.require("electron"),n={...e,updatedAt:(new Date).toISOString()};return await t.invoke("macro:save",e.id,n),r(t=>({...t,macros:t.macros.map(t=>t.id===e.id?n:t)})),n},[]),Ge=(0,e.useCallback)(async e=>{const{ipcRenderer:t}=window.require("electron");await t.invoke("macro:delete",e),r(t=>({...t,macros:t.macros.filter(t=>t.id!==e)}))},[]),qe=(0,e.useCallback)(async e=>{const t=e.commands?.some(e=>e.type?.startsWith("CLIENT_"));if(!(t||a.casparCG&&a.isConnected))return console.warn("Cannot execute macro: Not connected to CasparCG"),{success:!1,error:"Not connected"};try{const t={togglePlaylistMode:Ae,toggleLoopMode:ge,toggleLoopItem:_e,addChannel:W,addLayer:Y,nextItem:Be,prevItem:Se,loadRundown:Ye},n=await async function(e,t,n={}){if(!e||!e.commands||0===e.commands.length)throw new Error("Invalid macro: no commands");const r=[];let a=!1;for(const i of e.commands){if(a&&!e.continueOnError)break;try{if(i.type&&i.type.startsWith("CLIENT_")){const e=await K(i.type,i.channel,i.layer,i.params||{},n);r.push({command:i,success:!0,result:e})}else{if(!t)throw new Error("Not connected to CasparCG");const e=await Q(i,t,n);r.push({command:i,success:!0,result:e})}i.delay>0&&await X(i.delay)}catch(e){console.error("Macro command failed:",i,e),r.push({command:i,success:!1,error:e.message}),a=!0}}return{success:!a,results:r,macro:e.name}}(e,a.casparCG,{appContext:t});return console.log("Macro executed:",n),n}catch(e){return console.error("Macro execution failed:",e),{success:!1,error:e.message}}},[a.casparCG,a.isConnected,Ae,ge,_e,W,Y,Be,Se]),We=async()=>{const{ipcRenderer:e}=window.require("electron"),t=await e.invoke("rundown:list");f(t)},He=(0,e.useCallback)(async e=>{const{ipcRenderer:t}=window.require("electron"),r={channels:n.channels.map(e=>({id:e.id,name:e.name,expanded:e.expanded,layers:e.layers.map(e=>({id:e.id,playlist:e.playlist.map(e=>({id:e.id,type:e.type,name:e.name,path:e.path,relativePath:e.relativePath,duration:e.duration,resolution:e.resolution,frameRate:e.frameRate,inPointFrames:e.inPointFrames,outPointFrames:e.outPointFrames,inPoint:e.inPoint,outPoint:e.outPoint})),currentIndex:e.currentIndex,playlistMode:e.playlistMode,loopMode:e.loopMode,loopItem:e.loopItem,selectedItems:e.selectedItems||[]}))})),ui:{expandedChannel:n.ui.expandedChannel}},a=await t.invoke("rundown:save",e,r);return a.success&&await We(),a},[n.channels,n.ui]),Ye=(0,e.useCallback)(async e=>{const{ipcRenderer:t}=window.require("electron"),n=await t.invoke("rundown:load",e);if(n.success&&n.data){const e=(n.data.channels||[]).map(e=>({...e,layers:e.layers.map(e=>({...e,isPlaying:!1,isPaused:!1,currentTime:0,totalTime:0,currentFrame:0,totalFrames:0,deletedItems:e.deletedItems||[],playlist:e.playlist.map(e=>({...e,selected:!1,playing:!1}))}))}));if(r(t=>({...t,channels:e,ui:{...t.ui,...n.data.ui},autoConnectTrigger:p.autoConnectPreviews?(t.autoConnectTrigger||0)+1:t.autoConnectTrigger,autoConnectChannelId:p.autoConnectPreviews?"all":null})),a.casparCG&&a.isConnected)try{const t=await L(a.casparCG);for(const n of e){const e=N(t,n.id);e&&(console.log(`Channel ${n.id}: ${e.resolution} @ ${e.frameRate}fps`),r(t=>({...t,channels:t.channels.map(t=>t.id===n.id?{...t,channelFrameRate:e.frameRate,channelResolution:e.resolution}:t)})))}}catch(e){console.warn("Failed to fetch channel info:",e)}return{success:!0}}return n},[p.autoConnectPreviews,a.casparCG,a.isConnected]),Qe=(0,e.useCallback)(async e=>{const{ipcRenderer:t}=window.require("electron"),n=await t.invoke("rundown:delete",e);return n.success&&await We(),n},[]),Ke=(0,e.useCallback)(()=>{r(e=>({...e,channels:[],ui:{...e.ui,currentView:"multi",expandedChannel:null}}))},[]),$e={state:n,setState:r,connection:a,setConnection:i,showConnectionDialog:o,setShowConnectionDialog:s,showSettings:l,setShowSettings:c,settings:p,updateSettings:j,connectToCaspar:G,disconnect:q,addChannel:W,deleteChannel:H,addLayer:Y,deleteLayer:ie,addMediaToPlaylist:ee,selectPlaylistItem:se,removePlaylistItem:le,reorderPlaylistItems:ce,updateItemDuration:de,updateItemInOutPoints:ue,updateItemMetadata:pe,selectPlaylistItems:he,deleteSelectedItems:me,undoDelete:fe,togglePlaylistMode:Ae,toggleLoopMode:ge,toggleLoopItem:_e,setInPoint:ye,setOutPoint:ve,clearInOutPoints:Ee,playItem:Ce,pausePlayback:be,resumePlayback:xe,stopPlayback:we,nextItem:Be,prevItem:Se,toggleExpandChannel:ke,setMediaRoot:Te,selectMediaFile:Ie,toggleFolderExpand:Pe,setSidebarTab:Me,setExpandedPreviewHeight:Ue,setStreamActive:Fe,setStreamInactive:ze,saveSettings:async()=>{const{ipcRenderer:e}=window.require("electron");await e.invoke("config:save",{connection:{host:a.host,port:a.port,oscPort:a.oscPort,previewUrl:a.previewUrl},settings:p})},loadMacros:V,createMacro:je,updateMacro:Ve,deleteMacro:Ge,executeMacro:qe,rundowns:m,loadRundownList:We,saveRundown:He,loadRundown:Ye,deleteRundown:Qe,clearAllChannels:Ke,refreshCasparMedia:Re,refreshThumbnailList:Oe,getCasparThumbnail:Ne};return e.createElement(ae.Provider,{value:$e},t)}var le=n(2948),ce={};function de({onClose:t}){const{connection:n,settings:r,connectToCaspar:a,setShowSettings:i}=ie(),[o,s]=(0,e.useState)(!1),[l,c]=(0,e.useState)(null);return e.createElement("div",{className:"modal-overlay"},e.createElement("div",{className:"modal connection-dialog"},e.createElement("div",{className:"modal-header"},e.createElement("h2",{className:"modal-title"},"Connect to CasparCG Server")),e.createElement("form",{onSubmit:async e=>{e.preventDefault(),c(null),s(!0);const i=await a(r.host,r.port,r.oscPort,n.previewUrl);s(!1),i?t():c("Failed to connect to CasparCG server. Please check your settings.")}},e.createElement("div",{className:"modal-body"},e.createElement("div",{className:"connection-info"},e.createElement("div",{className:"connection-detail"},e.createElement("span",{className:"detail-label"},"Host:"),e.createElement("span",{className:"detail-value"},r.host)),e.createElement("div",{className:"connection-detail"},e.createElement("span",{className:"detail-label"},"AMCP Port:"),e.createElement("span",{className:"detail-value"},r.port)),e.createElement("div",{className:"connection-detail"},e.createElement("span",{className:"detail-label"},"OSC Port:"),e.createElement("span",{className:"detail-value"},r.oscPort))),e.createElement("button",{type:"button",className:"btn btn-link settings-link",onClick:()=>{t(),i(!0)}},e.createElement("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},e.createElement("circle",{cx:"12",cy:"12",r:"3"}),e.createElement("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})),"Change connection settings"),l&&e.createElement("div",{className:"error-message"},l)),e.createElement("div",{className:"modal-footer"},n.isConnected&&e.createElement("button",{type:"button",className:"btn",onClick:()=>{n.isConnected&&t()}},"Cancel"),e.createElement("button",{type:"submit",className:"btn btn-primary",disabled:o},o?"Connecting...":"Connect")))))}ce.styleTagTransform=m(),ce.setAttributes=d(),ce.insert=l().bind(null,"head"),ce.domAPI=o(),ce.insertStyleElement=p(),a()(le.A,ce),le.A&&le.A.locals&&le.A.locals;var ue=n(961),pe=n(4933),he={};function me({value:t,onChange:n,options:r,placeholder:a="Select...",groupBy:i=null,className:o=""}){const[s,l]=(0,e.useState)(!1),[c,d]=(0,e.useState)(""),[u,p]=(0,e.useState)({top:0,left:0,width:0}),h=(0,e.useRef)(null),m=(0,e.useRef)(null),f=(0,e.useRef)(null),A=r.find(e=>e.value===t),g=r.filter(e=>e.label.toLowerCase().includes(c.toLowerCase())||e.description&&e.description.toLowerCase().includes(c.toLowerCase())),_=i?g.reduce((e,t)=>{const n=t[i]||"Other";return e[n]||(e[n]=[]),e[n].push(t),e},{}):{"":g};(0,e.useEffect)(()=>{if(s&&h.current){const e=h.current.getBoundingClientRect();p({top:e.bottom+4,left:e.left,width:e.width})}},[s]),(0,e.useEffect)(()=>{const e=e=>{const t=h.current&&h.current.contains(e.target),n=m.current&&m.current.contains(e.target);t||n||(l(!1),d(""))};if(s)return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[s]),(0,e.useEffect)(()=>{s&&f.current&&f.current.focus()},[s]);const y=e=>{"Escape"===e.key&&(l(!1),d(""))};return e.createElement("div",{className:`styled-select ${o} ${s?"open":""}`,ref:h},e.createElement("button",{type:"button",className:"styled-select-trigger",onClick:()=>{l(!s),s||d("")},onKeyDown:y},e.createElement("span",{className:"styled-select-value"},A?A.label:a),e.createElement("svg",{className:"styled-select-arrow",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},e.createElement("polyline",{points:"6 9 12 15 18 9",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))),(()=>{if(!s)return null;const a=e.createElement("div",{ref:m,className:"styled-select-dropdown styled-select-dropdown-portal",style:{position:"fixed",top:u.top,left:u.left,width:u.width,zIndex:1e4}},r.length>5&&e.createElement("div",{className:"styled-select-search"},e.createElement("input",{ref:f,type:"text",value:c,onChange:e=>d(e.target.value),onKeyDown:y,placeholder:"Search..."})),e.createElement("div",{className:"styled-select-options"},Object.entries(_).map(([r,a])=>e.createElement("div",{key:r||"default",className:"styled-select-group"},r&&e.createElement("div",{className:"styled-select-group-label"},r),a.map(r=>e.createElement("button",{key:r.value,type:"button",className:"styled-select-option "+(r.value===t?"selected":""),onClick:()=>(e=>{n(e.value),l(!1),d("")})(r)},e.createElement("span",{className:"option-label"},r.label),r.description&&e.createElement("span",{className:"option-description"},r.description))))),0===g.length&&e.createElement("div",{className:"styled-select-empty"},"No options found")));return(0,ue.createPortal)(a,document.body)})())}he.styleTagTransform=m(),he.setAttributes=d(),he.insert=l().bind(null,"head"),he.domAPI=o(),he.insertStyleElement=p(),a()(pe.A,he),pe.A&&pe.A.locals&&pe.A.locals;var fe=n(8571),Ae={};function ge({onClose:t}){const{settings:n,updateSettings:r,state:a,setMediaRoot:i}=ie(),[o,s]=(0,e.useState)({...n}),[l,c]=(0,e.useState)(!1),[d,u]=(0,e.useState)("connection");(0,e.useEffect)(()=>{s({...n})},[n]);const p=(e,t)=>{s(n=>({...n,[e]:t}))};return e.createElement("div",{className:"modal-overlay",onClick:t},e.createElement("div",{className:"settings-modal modal",onClick:e=>e.stopPropagation()},e.createElement("div",{className:"modal-header"},e.createElement("h2",{className:"modal-title"},"Settings")),e.createElement("div",{className:"settings-tabs"},e.createElement("button",{className:"settings-tab "+("connection"===d?"active":""),onClick:()=>u("connection")},"Connection"),e.createElement("button",{className:"settings-tab "+("preview"===d?"active":""),onClick:()=>u("preview")},"Preview"),e.createElement("button",{className:"settings-tab "+("media"===d?"active":""),onClick:()=>u("media")},"Media")),e.createElement("div",{className:"modal-body"},"connection"===d&&e.createElement("div",{className:"settings-section"},e.createElement("h3",{className:"settings-section-title"},"CasparCG Server"),e.createElement("div",{className:"input-group"},e.createElement("label",{htmlFor:"host"},"Host / IP Address"),e.createElement("input",{id:"host",type:"text",className:"input",value:o.host,onChange:e=>p("host",e.target.value),placeholder:"127.0.0.1"})),e.createElement("div",{className:"settings-row"},e.createElement("div",{className:"input-group"},e.createElement("label",{htmlFor:"port"},"AMCP Port"),e.createElement("input",{id:"port",type:"number",className:"input",value:o.port,onChange:e=>p("port",parseInt(e.target.value)||5250),placeholder:"5250"})),e.createElement("div",{className:"input-group"},e.createElement("label",{htmlFor:"oscPort"},"OSC Port"),e.createElement("input",{id:"oscPort",type:"number",className:"input",value:o.oscPort,onChange:e=>p("oscPort",parseInt(e.target.value)||6250),placeholder:"6250"})))),"preview"===d&&e.createElement("div",{className:"settings-section"},e.createElement("h3",{className:"settings-section-title"},"Preview Settings"),e.createElement("div",{className:"input-group"},e.createElement("label",{htmlFor:"previewQuality"},"Preview Quality (%)"),e.createElement("input",{id:"previewQuality",type:"number",className:"input",value:o.previewQuality,onChange:e=>p("previewQuality",Math.min(100,Math.max(0,parseInt(e.target.value)||50))),min:"0",max:"100",placeholder:"50"}),e.createElement("span",{className:"input-hint"},"Lower values reduce bandwidth but decrease quality")),e.createElement("div",{className:"settings-row"},e.createElement("div",{className:"input-group"},e.createElement("label",{htmlFor:"networkCache"},"Network Cache (ms)"),e.createElement("input",{id:"networkCache",type:"number",className:"input",value:o.networkCache,onChange:e=>p("networkCache",parseInt(e.target.value)||500),placeholder:"500"})),e.createElement("div",{className:"input-group"},e.createElement("label",{htmlFor:"previewPort"},"Preview Port"),e.createElement("input",{id:"previewPort",type:"number",className:"input",value:o.previewPort,onChange:e=>p("previewPort",parseInt(e.target.value)||9250),placeholder:"9250"}))),e.createElement("h3",{className:"settings-section-title",style:{marginTop:"20px"}},"MSE Streaming Options"),e.createElement("div",{className:"settings-row"},e.createElement("div",{className:"input-group"},e.createElement("label",{htmlFor:"previewScale"},"Preview Resolution"),e.createElement(me,{value:o.previewScale||"384:216",onChange:e=>p("previewScale",e),options:[{value:"288:162",label:"288x162 (Low)"},{value:"384:216",label:"384x216 (Default)"},{value:"480:270",label:"480x270 (Medium)"},{value:"640:360",label:"640x360 (High)"}]})),e.createElement("div",{className:"input-group"},e.createElement("label",{htmlFor:"previewPreset"},"Encoding Preset"),e.createElement(me,{value:o.previewPreset||"ultrafast",onChange:e=>p("previewPreset",e),options:[{value:"ultrafast",label:"Ultrafast (Lowest Latency)"},{value:"superfast",label:"Superfast"},{value:"veryfast",label:"Veryfast"},{value:"faster",label:"Faster"}]}))),e.createElement("div",{className:"settings-row"},e.createElement("div",{className:"input-group"},e.createElement("label",{htmlFor:"previewTune"},"Encoding Tune"),e.createElement(me,{value:o.previewTune||"zerolatency",onChange:e=>p("previewTune",e),options:[{value:"zerolatency",label:"Zero Latency (Live)"},{value:"film",label:"Film"},{value:"animation",label:"Animation"}]})),e.createElement("div",{className:"input-group"},e.createElement("label",{htmlFor:"previewAudioBitrate"},"Audio Bitrate"),e.createElement(me,{value:o.previewAudioBitrate||"128k",onChange:e=>p("previewAudioBitrate",e),options:[{value:"64k",label:"64k (Low)"},{value:"96k",label:"96k"},{value:"128k",label:"128k (Default)"},{value:"192k",label:"192k (High)"}]}))),e.createElement("span",{className:"input-hint"},"These settings affect the fmp4 streaming from CasparCG to the preview window"),e.createElement("h3",{className:"settings-section-title",style:{marginTop:"20px"}},"Auto-Connect"),e.createElement("div",{className:"input-group"},e.createElement("label",{className:"checkbox-label"},e.createElement("input",{type:"checkbox",checked:o.autoConnectPreviews||!1,onChange:e=>p("autoConnectPreviews",e.target.checked)}),"Auto-connect previews when loading rundowns"),e.createElement("span",{className:"input-hint"},"Automatically start live preview streams for all channels"))),"media"===d&&e.createElement("div",{className:"settings-section"},e.createElement("h3",{className:"settings-section-title"},"Media Settings"),e.createElement("div",{className:"input-group"},e.createElement("label",{htmlFor:"defaultImageDuration"},"Default Image Duration (seconds)"),e.createElement("input",{id:"defaultImageDuration",type:"number",className:"input",value:o.defaultImageDuration,onChange:e=>p("defaultImageDuration",parseInt(e.target.value)||5),min:"1",placeholder:"5"}),e.createElement("span",{className:"input-hint"},"How long images display before auto-advancing in playlists")),e.createElement("div",{className:"input-group"},e.createElement("label",null,"Media Folder Path"),e.createElement("div",{className:"folder-input-row"},e.createElement("input",{type:"text",className:"input",value:o.mediaFolderPath,readOnly:!0,placeholder:"No folder selected"}),e.createElement("button",{className:"btn",onClick:async()=>{const{ipcRenderer:e}=window.require("electron");try{const t=await e.invoke("media:selectFolder");if(t){s(e=>({...e,mediaFolderPath:t})),await r({mediaFolderPath:t});const n=await e.invoke("media:scanFolder",t);n.success&&(i(t,n.tree),await e.invoke("media:watchFolder",t))}}catch(e){console.error("Error selecting folder:",e)}}},"Browse..."),o.mediaFolderPath&&e.createElement("button",{className:"btn btn-danger-subtle",onClick:()=>{p("mediaFolderPath","")}},"Clear")),e.createElement("span",{className:"input-hint"},"The folder will be auto-loaded on startup")),e.createElement("h3",{className:"settings-section-title",style:{marginTop:"20px"}},"Session"),e.createElement("div",{className:"input-group"},e.createElement("label",{className:"checkbox-label"},e.createElement("input",{type:"checkbox",checked:!1!==o.autoLoadLastSession,onChange:e=>p("autoLoadLastSession",e.target.checked)}),"Auto-load last session on startup"),e.createElement("span",{className:"input-hint"},"Restore channels and playlists from previous session")))),e.createElement("div",{className:"modal-footer"},e.createElement("button",{className:"btn",onClick:t},"Cancel"),e.createElement("button",{className:"btn btn-primary",onClick:async()=>{c(!0);try{await r(o),t()}catch(e){console.error("Failed to save settings:",e)}finally{c(!1)}},disabled:l},l?"Saving...":"Save Settings"))))}Ae.styleTagTransform=m(),Ae.setAttributes=d(),Ae.insert=l().bind(null,"head"),Ae.domAPI=o(),Ae.insertStyleElement=p(),a()(fe.A,Ae),fe.A&&fe.A.locals&&fe.A.locals;var _e=n(9251),ye={};function ve(){const{connection:t,setShowConnectionDialog:n,setShowSettings:r,disconnect:a}=ie();return e.createElement("header",{className:"app-header"},e.createElement("div",{className:"header-left"},e.createElement("div",{className:"app-logo"},e.createElement("div",{className:"logo-icon"},"CP"),e.createElement("div",{className:"logo-text"},e.createElement("div",{className:"logo-title"},"CasparPlayer"),e.createElement("div",{className:"logo-subtitle"},"Broadcast Playout")))),e.createElement("div",{className:"header-center"},t.serverInfo&&e.createElement("div",{className:"server-info"},e.createElement("span",{className:"server-version"},"v",t.serverInfo.version||"Unknown"))),e.createElement("div",{className:"header-right"},e.createElement("button",{className:"header-btn",onClick:()=>{r(!0)},title:"Settings"},e.createElement("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},e.createElement("circle",{cx:"12",cy:"12",r:"3"}),e.createElement("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"}))),e.createElement("div",{className:"status-indicator",onClick:()=>{t.isConnected?a():n(!0)}},e.createElement("span",{className:"status-dot "+(t.isConnected?"connected":"")}),e.createElement("span",{className:"status-text"},t.isConnected?`Connected to ${t.host}:${t.port}`:"Disconnected"))))}ye.styleTagTransform=m(),ye.setAttributes=d(),ye.insert=l().bind(null,"head"),ye.domAPI=o(),ye.insertStyleElement=p(),a()(_e.A,ye),_e.A&&_e.A.locals&&_e.A.locals;const Ee="media_file",Ce="playlist_item",be="macro";function xe(e,t,n){const r=function(e,t){return{type:e,data:t,timestamp:Date.now()}}(t,n);e.dataTransfer.setData("application/json",JSON.stringify(r)),e.dataTransfer.effectAllowed="copyMove"}var we=n(2635),Be={};Be.styleTagTransform=m(),Be.setAttributes=d(),Be.insert=l().bind(null,"head"),Be.domAPI=o(),Be.insertStyleElement=p(),a()(we.A,Be),we.A&&we.A.locals&&we.A.locals;const Se=({type:t})=>{switch(t){case"folder":return e.createElement("svg",{className:"file-icon folder",viewBox:"0 0 24 24",fill:"currentColor"},e.createElement("path",{d:"M10 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"}));case"video":return e.createElement("svg",{className:"file-icon video",viewBox:"0 0 24 24",fill:"currentColor"},e.createElement("path",{d:"M18 4l2 4h-3l-2-4h-2l2 4h-3l-2-4H8l2 4H7L5 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4h-4z"}));case"image":return e.createElement("svg",{className:"file-icon image",viewBox:"0 0 24 24",fill:"currentColor"},e.createElement("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"}));case"audio":return e.createElement("svg",{className:"file-icon audio",viewBox:"0 0 24 24",fill:"currentColor"},e.createElement("path",{d:"M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"}));case"template":return e.createElement("svg",{className:"file-icon template",viewBox:"0 0 24 24",fill:"currentColor"},e.createElement("path",{d:"M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"}));default:return e.createElement("svg",{className:"file-icon",viewBox:"0 0 24 24",fill:"currentColor"},e.createElement("path",{d:"M14 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8l-6-6zm4 18H6V4h7v5h5v11z"}))}},ke=({expanded:t})=>e.createElement("svg",{className:"chevron-icon "+(t?"expanded":""),viewBox:"0 0 24 24",fill:"currentColor"},e.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}));function Te({item:t,depth:n,onSelect:r,onToggle:a,selectedFile:i}){const o="folder"===t.type,s=i?.id===t.id;return e.createElement("div",{className:"file-tree-item-container"},e.createElement("div",{className:`file-tree-item ${s?"selected":""} ${o?"folder":"file"}`,style:{paddingLeft:8+16*n+"px"},onClick:()=>{o?a(t.id):r(t)},onDoubleClick:()=>{o&&a(t.id)},draggable:!o,onDragStart:e=>{o?e.preventDefault():(xe(e,Ee,{id:t.id,name:t.name,path:t.path,type:t.type,metadata:t.metadata}),e.currentTarget.classList.add("dragging"))},onDragEnd:e=>{e.currentTarget.classList.remove("dragging")},"data-path":t.path,"data-type":t.type,"data-name":t.name},o&&e.createElement(ke,{expanded:t.expanded}),e.createElement(Se,{type:t.type}),e.createElement("span",{className:"file-name"},t.name),t.metadata?.duration&&e.createElement("span",{className:"file-duration"},function(e){if(!e)return"";return`${Math.floor(e/60)}:${Math.floor(e%60).toString().padStart(2,"0")}`}(t.metadata.duration))),o&&t.expanded&&t.children&&e.createElement("div",{className:"file-tree-children"},t.children.map(t=>e.createElement(Te,{key:t.id,item:t,depth:n+1,onSelect:r,onToggle:a,selectedFile:i}))))}var Ie=n(906),Re={};function Le({items:t,onSelect:n,onToggle:r,selectedFile:a}){return t&&0!==t.length?e.createElement("div",{className:"file-tree"},t.map(t=>e.createElement(Te,{key:t.id,item:t,depth:0,onSelect:n,onToggle:r,selectedFile:a}))):e.createElement("div",{className:"file-tree-empty"},e.createElement("p",null,"No media files found"))}function De(e){if(!e||0===e)return"0 B";const t=["B","KB","MB","GB","TB"],n=Math.min(Math.floor(Math.log10(e)/3),t.length-1);return`${(e/Math.pow(1e3,n)).toFixed(n>0?1:0)} ${t[n]}`}Re.styleTagTransform=m(),Re.setAttributes=d(),Re.insert=l().bind(null,"head"),Re.domAPI=o(),Re.insertStyleElement=p(),a()(Ie.A,Re),Ie.A&&Ie.A.locals&&Ie.A.locals;var Oe=n(108),Ne={};function Pe({file:t}){const{connection:n,state:r,getCasparThumbnail:a}=ie(),[i,o]=(0,e.useState)(null),[s,l]=(0,e.useState)(null),[c,d]=(0,e.useState)(!1);return(0,e.useEffect)(()=>{if(!t||!n.isConnected)return o(null),void l(null);(async()=>{d(!0);const e=ne(t.path,r.media.rootPath);if(e){const n=re(t.path,r.media.rootPath,r.casparMedia.list);l(n?te(n):null);const i=await a(e);o(i)}else l(null),o(null);d(!1)})()},[t,n.isConnected,r.media.rootPath,r.casparMedia.list,a]),n.isConnected?t?e.createElement("div",{className:"media-preview"},e.createElement("div",{className:"preview-thumbnail"},c?e.createElement("div",{className:"preview-loading"},e.createElement("div",{className:"loading-spinner"})):i?e.createElement("img",{src:i,alt:t.name}):e.createElement("div",{className:"preview-placeholder"},function(t){switch(t){case"video":return e.createElement("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"currentColor",opacity:"0.3"},e.createElement("path",{d:"M18 4l2 4h-3l-2-4h-2l2 4h-3l-2-4H8l2 4H7L5 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4h-4z"}));case"image":return e.createElement("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"currentColor",opacity:"0.3"},e.createElement("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"}));case"audio":return e.createElement("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"currentColor",opacity:"0.3"},e.createElement("path",{d:"M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"}));case"template":return e.createElement("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"currentColor",opacity:"0.3"},e.createElement("path",{d:"M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"}));default:return e.createElement("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"currentColor",opacity:"0.3"},e.createElement("path",{d:"M14 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8l-6-6zm4 18H6V4h7v5h5v11z"}))}}(t.type))),e.createElement("div",{className:"preview-info"},e.createElement("h4",{className:"preview-name",title:t.name},t.name),e.createElement("div",{className:"preview-details"},e.createElement("div",{className:"detail-row"},e.createElement("span",{className:"detail-label"},"Type"),e.createElement("span",{className:"detail-value type-badge","data-type":s?.type||t.type},s?.type||t.type)),s?.frameRate>0&&e.createElement("div",{className:"detail-row"},e.createElement("span",{className:"detail-label"},"Frame Rate"),e.createElement("span",{className:"detail-value"},s.frameRate.toFixed(2)," fps")),s?.duration>0&&e.createElement("div",{className:"detail-row"},e.createElement("span",{className:"detail-label"},"Duration"),e.createElement("span",{className:"detail-value"},function(e){if(!e||e<=0)return"00:00";const t=Math.floor(e/3600),n=Math.floor(e%3600/60),r=Math.floor(e%60);return t>0?`${t}:${n.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`:`${n.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`}(s.duration))),s?.frameCount>0&&e.createElement("div",{className:"detail-row"},e.createElement("span",{className:"detail-label"},"Frames"),e.createElement("span",{className:"detail-value"},s.frameCount.toLocaleString())),s?.size>0&&e.createElement("div",{className:"detail-row"},e.createElement("span",{className:"detail-label"},"Size"),e.createElement("span",{className:"detail-value"},De(s.size))),!s&&t.size>0&&e.createElement("div",{className:"detail-row"},e.createElement("span",{className:"detail-label"},"Size"),e.createElement("span",{className:"detail-value"},De(t.size)))),"casparcg"===s?.source&&e.createElement("div",{className:"preview-source"},e.createElement("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor",opacity:"0.5"},e.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})),e.createElement("span",null,"CasparCG metadata")),!s&&e.createElement("div",{className:"preview-source warning"},e.createElement("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor",opacity:"0.5"},e.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"})),e.createElement("span",null,"Not found in CasparCG media")),e.createElement("div",{className:"preview-path",title:t.path},t.relativePath||t.path))):e.createElement("div",{className:"media-preview empty"},e.createElement("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",opacity:"0.3"},e.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2",strokeWidth:"2"}),e.createElement("circle",{cx:"8.5",cy:"8.5",r:"1.5",strokeWidth:"2"}),e.createElement("polyline",{points:"21,15 16,10 5,21",strokeWidth:"2"})),e.createElement("p",null,"Select a file to preview")):e.createElement("div",{className:"media-preview empty"},e.createElement("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",opacity:"0.3"},e.createElement("path",{d:"M1 1l22 22M9 9v3a3 3 0 0 0 5.12 2.12M15 9.34V4a3 3 0 0 0-5.94-.6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("path",{d:"M17 16.95A7 7 0 0 1 5 12v-2m14 0v2a7 7 0 0 1-.11 1.23",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("line",{x1:"12",y1:"19",x2:"12",y2:"23",strokeWidth:"2"}),e.createElement("line",{x1:"8",y1:"23",x2:"16",y2:"23",strokeWidth:"2"})),e.createElement("p",null,"Connect to CasparCG to view media preview"))}Ne.styleTagTransform=m(),Ne.setAttributes=d(),Ne.insert=l().bind(null,"head"),Ne.domAPI=o(),Ne.insertStyleElement=p(),a()(Oe.A,Ne),Oe.A&&Oe.A.locals&&Oe.A.locals;var Me=n(8096),Ue={};function Fe(){const{state:t,connection:n,settings:r,setMediaRoot:a,selectMediaFile:i,toggleFolderExpand:o,refreshCasparMedia:s}=ie(),[l,c]=(0,e.useState)(!1),[d,u]=(0,e.useState)(null),[p,h]=(0,e.useState)(450),[m,f]=(0,e.useState)(!1),A=(0,e.useRef)(0),g=(0,e.useRef)(0),_=(0,e.useCallback)(e=>{e.preventDefault(),f(!0),A.current=e.clientY,g.current=p;const t=e=>{const t=A.current-e.clientY,n=Math.max(150,Math.min(500,g.current+t));h(n)},n=()=>{f(!1),document.removeEventListener("mousemove",t),document.removeEventListener("mouseup",n)};document.addEventListener("mousemove",t),document.addEventListener("mouseup",n)},[p]);(0,e.useEffect)(()=>{const{ipcRenderer:e}=window.require("electron"),n=(e,{eventType:n,filePath:r})=>{console.log("Media changed:",n,r),t.media.rootPath&&v(t.media.rootPath)};return e.on("media:changed",n),()=>{e.removeListener("media:changed",n)}},[t.media.rootPath]);const y=async()=>{const{ipcRenderer:e}=window.require("electron");try{const t=await e.invoke("media:selectFolder");t&&(await v(t),await e.invoke("media:watchFolder",t))}catch(e){console.error("Error opening folder:",e),u("Failed to open folder")}},v=async e=>{const{ipcRenderer:t}=window.require("electron");c(!0),u(null);try{const n=await t.invoke("media:scanFolder",e);n.success?a(e,n.tree):u(n.error||"Failed to scan folder")}catch(e){console.error("Error scanning folder:",e),u("Failed to scan folder")}finally{c(!1)}},E=()=>{t.media.rootPath&&v(t.media.rootPath),n.isConnected&&s()},C=(0,e.useCallback)(async e=>{const{ipcRenderer:t}=window.require("electron");if(e.metadata||"video"!==e.type&&"image"!==e.type)i(e);else{const n=await t.invoke("media:getMetadata",e.path,e.type);i({...e,metadata:n})}},[i]),b=(0,e.useCallback)(e=>{o(e)},[o]),x=r.mediaFolderPath&&t.media.rootPath;return e.createElement("div",{className:"file-browser"},e.createElement("div",{className:"file-browser-header"},x?e.createElement(e.Fragment,null,e.createElement("button",{className:"btn btn-primary",onClick:E,disabled:l},e.createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},e.createElement("path",{d:"M23 4v6h-6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("path",{d:"M1 20v-6h6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("path",{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})),l?"Scanning...":"Refresh"),e.createElement("button",{className:"btn btn-icon",onClick:y,disabled:l,title:"Change Folder"},e.createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},e.createElement("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z",strokeWidth:"2"})))):e.createElement(e.Fragment,null,e.createElement("button",{className:"btn btn-primary",onClick:y,disabled:l},e.createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},e.createElement("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z",strokeWidth:"2"})),l?"Scanning...":"Open Media Folder"),t.media.rootPath&&e.createElement("button",{className:"btn btn-icon",onClick:E,disabled:l,title:"Refresh"},e.createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},e.createElement("path",{d:"M23 4v6h-6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("path",{d:"M1 20v-6h6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("path",{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))))),d&&e.createElement("div",{className:"file-browser-error"},e.createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor"},e.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"})),e.createElement("span",null,d)),e.createElement("div",{className:"file-browser-content"},t.media.rootPath?e.createElement(e.Fragment,null,e.createElement("div",{className:"file-browser-path"},e.createElement("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"currentColor",opacity:"0.5"},e.createElement("path",{d:"M10 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"})),e.createElement("span",{title:t.media.rootPath},function(e){if(!e)return"";const t=e.split(/[\/\\]/);return t[t.length-1]||e}(t.media.rootPath))),e.createElement("div",{className:"file-tree-container"},l?e.createElement("div",{className:"scanning-indicator"},e.createElement("div",{className:"loading-spinner"}),e.createElement("span",null,"Scanning...")):e.createElement(Le,{items:t.media.tree,onSelect:C,onToggle:b,selectedFile:t.media.selectedFile}))):e.createElement("div",{className:"empty-state"},e.createElement("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",opacity:"0.3"},e.createElement("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z",strokeWidth:"2"})),e.createElement("p",null,"No media folder selected"),e.createElement("p",{className:"text-sm text-tertiary"},'Click "Open Media Folder" to browse your media files'))),e.createElement("div",{className:"file-browser-preview",style:{height:`${p}px`}},e.createElement("div",{className:"preview-resize-handle "+(m?"resizing":""),onMouseDown:_,title:"Drag to resize preview"},e.createElement("div",{className:"resize-handle-bar"})),e.createElement("div",{className:"file-browser-preview-content"},e.createElement(Pe,{file:t.media.selectedFile}))))}Ue.styleTagTransform=m(),Ue.setAttributes=d(),Ue.insert=l().bind(null,"head"),Ue.domAPI=o(),Ue.insertStyleElement=p(),a()(Me.A,Ue),Me.A&&Me.A.locals&&Me.A.locals;var ze=n(1613),je={};function Ve({macro:t,onSave:n,onCancel:r}){const[a,i]=(0,e.useState)(null);if((0,e.useEffect)(()=>{i(t?{...t}:{id:null,name:"New Macro",description:"",color:"#ff6432",commands:[],continueOnError:!1,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()})},[t]),!a)return null;const o=(e,t)=>{i(n=>({...n,[e]:t,updatedAt:(new Date).toISOString()}))};return e.createElement("div",{className:"modal-overlay",onClick:r},e.createElement("div",{className:"macro-editor modal",onClick:e=>e.stopPropagation()},e.createElement("div",{className:"modal-header"},e.createElement("h2",{className:"modal-title"},t?"Edit Macro":"New Macro")),e.createElement("div",{className:"modal-body"},e.createElement("div",{className:"macro-form"},e.createElement("div",{className:"input-group"},e.createElement("label",null,"Name"),e.createElement("input",{type:"text",className:"input",value:a.name,onChange:e=>o("name",e.target.value),placeholder:"Macro name"})),e.createElement("div",{className:"input-group"},e.createElement("label",null,"Description"),e.createElement("input",{type:"text",className:"input",value:a.description,onChange:e=>o("description",e.target.value),placeholder:"Optional description"})),e.createElement("div",{className:"input-row"},e.createElement("div",{className:"input-group"},e.createElement("label",null,"Color"),e.createElement("input",{type:"color",className:"input input-color",value:a.color,onChange:e=>o("color",e.target.value)})),e.createElement("div",{className:"input-group"},e.createElement("label",{className:"checkbox-label"},e.createElement("input",{type:"checkbox",checked:a.continueOnError,onChange:e=>o("continueOnError",e.target.checked)}),"Continue on error")))),e.createElement("div",{className:"commands-section"},e.createElement("div",{className:"commands-header"},e.createElement("h3",null,"Commands"),e.createElement("button",{className:"btn btn-primary btn-sm",onClick:()=>{i(e=>({...e,commands:[...e.commands,Z()]}))}},e.createElement("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},e.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19",strokeWidth:"2",strokeLinecap:"round"}),e.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12",strokeWidth:"2",strokeLinecap:"round"})),"Add Command")),e.createElement("div",{className:"commands-list"},0===a.commands.length?e.createElement("div",{className:"commands-empty"},e.createElement("p",null,'No commands. Click "Add Command" to start.')):a.commands.map((t,n)=>e.createElement(Ge,{key:n,command:t,index:n,total:a.commands.length,onUpdate:e=>((e,t)=>{i(n=>({...n,commands:n.commands.map((n,r)=>r===e?{...n,...t}:n)}))})(n,e),onRemove:()=>(e=>{i(t=>({...t,commands:t.commands.filter((t,n)=>n!==e)}))})(n),onMove:e=>((e,t)=>{const n=e+t;n<0||n>=a.commands.length||i(t=>{const r=[...t.commands];return[r[e],r[n]]=[r[n],r[e]],{...t,commands:r}})})(n,e)}))))),e.createElement("div",{className:"modal-footer"},e.createElement("button",{className:"btn",onClick:r},"Cancel"),e.createElement("button",{className:"btn btn-primary",onClick:()=>{n(a)},disabled:!a.name.trim()},"Save Macro"))))}function Ge({command:t,index:n,total:r,onUpdate:a,onRemove:i,onMove:o}){const s=(e,n)=>{a({params:{...t.params,[e]:n}})};return e.createElement("div",{className:"command-editor"},e.createElement("div",{className:"command-header"},e.createElement("span",{className:"command-index"},n+1),e.createElement(me,{className:"command-type",value:t.type,onChange:e=>a({type:e}),options:J.map(e=>({value:e.value,label:e.label,description:e.description,category:"caspar"===e.category?"CasparCG Commands":"Client Commands"})),groupBy:"category"}),e.createElement("div",{className:"command-actions"},e.createElement("button",{className:"btn-icon btn-sm",onClick:()=>o(-1),disabled:0===n,title:"Move Up"},e.createElement("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor"},e.createElement("path",{d:"M7 14l5-5 5 5H7z"}))),e.createElement("button",{className:"btn-icon btn-sm",onClick:()=>o(1),disabled:n===r-1,title:"Move Down"},e.createElement("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor"},e.createElement("path",{d:"M7 10l5 5 5-5H7z"}))),e.createElement("button",{className:"btn-icon btn-sm btn-danger-icon",onClick:i,title:"Remove"},e.createElement("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},e.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18",strokeWidth:"2",strokeLinecap:"round"}),e.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18",strokeWidth:"2",strokeLinecap:"round"}))))),e.createElement("div",{className:"command-params"},e.createElement("div",{className:"param-row"},e.createElement("label",null,"Channel"),e.createElement("input",{type:"number",className:"input param-input",value:t.channel,onChange:e=>a({channel:parseInt(e.target.value)||1}),min:"1"}),e.createElement("label",null,"Layer"),e.createElement("input",{type:"number",className:"input param-input",value:t.layer,onChange:e=>a({layer:parseInt(e.target.value)||1}),min:"1"}),e.createElement("label",null,"Delay (ms)"),e.createElement("input",{type:"number",className:"input param-input",value:t.delay,onChange:e=>a({delay:parseInt(e.target.value)||0}),min:"0",step:"100"})),("PLAY"===t.type||"LOADBG"===t.type)&&e.createElement("div",{className:"param-row"},e.createElement("label",null,"Clip"),e.createElement("input",{type:"text",className:"input",value:t.params.clip||"",onChange:e=>s("clip",e.target.value),placeholder:"Filename without extension"}),e.createElement("label",{className:"checkbox-label"},e.createElement("input",{type:"checkbox",checked:t.params.loop||!1,onChange:e=>s("loop",e.target.checked)}),"Loop")),"CG_ADD"===t.type&&e.createElement("div",{className:"param-row"},e.createElement("label",null,"Template"),e.createElement("input",{type:"text",className:"input",value:t.params.template||"",onChange:e=>s("template",e.target.value),placeholder:"Template name"})),"CUSTOM"===t.type&&e.createElement("div",{className:"param-row"},e.createElement("label",null,"AMCP Command"),e.createElement("input",{type:"text",className:"input",value:t.params.amcp||"",onChange:e=>s("amcp",e.target.value),placeholder:"e.g., PLAY 1-10 AMB LOOP"}))))}je.styleTagTransform=m(),je.setAttributes=d(),je.insert=l().bind(null,"head"),je.domAPI=o(),je.insertStyleElement=p(),a()(ze.A,je),ze.A&&ze.A.locals&&ze.A.locals;var qe=n(3142),We={};function He(){const{state:t,createMacro:n,updateMacro:r,deleteMacro:a,executeMacro:i}=ie(),[o,s]=(0,e.useState)(!1),[l,c]=(0,e.useState)(null);return e.createElement("div",{className:"macro-list"},e.createElement("div",{className:"macro-list-header"},e.createElement("button",{className:"btn btn-primary",onClick:()=>{c(null),s(!0)}},e.createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},e.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19",strokeWidth:"2",strokeLinecap:"round"}),e.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12",strokeWidth:"2",strokeLinecap:"round"})),"New Macro")),e.createElement("div",{className:"macro-list-content"},0===t.macros.length?e.createElement("div",{className:"empty-state"},e.createElement("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",opacity:"0.3"},e.createElement("circle",{cx:"12",cy:"12",r:"3",strokeWidth:"2"}),e.createElement("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24",strokeWidth:"2",strokeLinecap:"round"})),e.createElement("p",null,"No macros created"),e.createElement("p",{className:"text-sm text-tertiary"},"Create macros to automate CasparCG commands")):e.createElement("div",{className:"macros"},t.macros.map(t=>e.createElement(Ye,{key:t.id,macro:t,onEdit:()=>(e=>{c(e),s(!0)})(t),onDelete:()=>(async e=>{confirm(`Delete macro "${e.name}"? This cannot be undone.`)&&await a(e.id)})(t),onExecute:()=>(async e=>{await i(e)})(t)})))),o&&e.createElement(Ve,{macro:l,onSave:async e=>{l?await r(e):await n(e),s(!1),c(null)},onCancel:()=>{s(!1),c(null)}}))}function Ye({macro:t,onEdit:n,onDelete:r,onExecute:a}){return e.createElement("div",{className:"macro-item",draggable:!0,onDragStart:e=>{xe(e,be,{id:t.id,name:t.name,color:t.color,commands:t.commands}),e.currentTarget.classList.add("dragging")},onDragEnd:e=>{e.currentTarget.classList.remove("dragging")}},e.createElement("div",{className:"macro-color",style:{backgroundColor:t.color||"#ff6432"}}),e.createElement("div",{className:"macro-info"},e.createElement("span",{className:"macro-name"},t.name),t.description&&e.createElement("span",{className:"macro-description"},t.description),e.createElement("span",{className:"macro-commands"},t.commands?.length||0," command",1!==t.commands?.length?"s":"")),e.createElement("div",{className:"macro-actions"},e.createElement("button",{className:"btn-icon",onClick:a,title:"Run Macro"},e.createElement("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"currentColor"},e.createElement("path",{d:"M8 5v14l11-7z"}))),e.createElement("button",{className:"btn-icon",onClick:n,title:"Edit Macro"},e.createElement("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},e.createElement("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))),e.createElement("button",{className:"btn-icon btn-danger-icon",onClick:r,title:"Delete Macro"},e.createElement("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},e.createElement("polyline",{points:"3 6 5 6 21 6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})))))}We.styleTagTransform=m(),We.setAttributes=d(),We.insert=l().bind(null,"head"),We.domAPI=o(),We.insertStyleElement=p(),a()(qe.A,We),qe.A&&qe.A.locals&&qe.A.locals;var Qe=n(2309),Ke={};function $e(){const{rundowns:t,saveRundown:n,loadRundown:r,deleteRundown:a,loadRundownList:i,clearAllChannels:o}=ie(),[s,l]=(0,e.useState)(!1),[c,d]=(0,e.useState)(""),[u,p]=(0,e.useState)(!1),[h,m]=(0,e.useState)(null),[f,A]=(0,e.useState)(null),[g,_]=(0,e.useState)(!1),[y,v]=(0,e.useState)(null);return e.createElement("div",{className:"rundown-list"},e.createElement("div",{className:"rundown-list-header"},e.createElement("button",{className:"btn btn-secondary",onClick:()=>{_(!0)},title:"New Rundown"},e.createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},e.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19",strokeWidth:"2",strokeLinecap:"round"}),e.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12",strokeWidth:"2",strokeLinecap:"round"})),"New"),e.createElement("button",{className:"btn btn-primary",onClick:()=>{l(!0),d(""),A(null)}},e.createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},e.createElement("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",strokeWidth:"2"}),e.createElement("polyline",{points:"17 21 17 13 7 13 7 21",strokeWidth:"2"}),e.createElement("polyline",{points:"7 3 7 8 15 8",strokeWidth:"2"})),"Save"),e.createElement("button",{className:"btn btn-icon",onClick:i,title:"Refresh"},e.createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},e.createElement("path",{d:"M23 4v6h-6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("path",{d:"M1 20v-6h6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("path",{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})))),f&&e.createElement("div",{className:"rundown-error"},e.createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor"},e.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"})),e.createElement("span",null,f)),s&&e.createElement("div",{className:"save-dialog"},e.createElement("form",{onSubmit:async e=>{if(e.preventDefault(),c.trim()){p(!0),A(null);try{const e=await n(c.trim());e.success?(l(!1),d("")):A(e.error||"Failed to save rundown")}catch(e){A(e.message)}finally{p(!1)}}}},e.createElement("input",{type:"text",className:"input",autoFocus:!0,value:c,onChange:e=>d(e.target.value),placeholder:"Enter rundown name..."}),e.createElement("div",{className:"save-dialog-actions"},e.createElement("button",{type:"button",className:"btn",onClick:()=>l(!1)},"Cancel"),e.createElement("button",{type:"submit",className:"btn btn-primary",disabled:u||!c.trim()},u?"Saving...":"Save")))),g&&e.createElement("div",{className:"save-dialog confirm-dialog"},e.createElement("p",null,"Create a new rundown? This will clear all current channels and playlists."),e.createElement("div",{className:"save-dialog-actions"},e.createElement("button",{type:"button",className:"btn",onClick:()=>_(!1)},"Cancel"),e.createElement("button",{type:"button",className:"btn btn-primary",onClick:()=>{o(),_(!1)}},"Create New"))),y&&e.createElement("div",{className:"save-dialog confirm-dialog"},e.createElement("p",null,'Delete rundown "',y,'"?'),e.createElement("div",{className:"save-dialog-actions"},e.createElement("button",{type:"button",className:"btn",onClick:()=>v(null)},"Cancel"),e.createElement("button",{type:"button",className:"btn btn-danger",onClick:async()=>{if(y){try{const e=await a(y);e.success||A(e.error||"Failed to delete rundown")}catch(e){A(e.message)}v(null)}}},"Delete"))),e.createElement("div",{className:"rundown-items"},0===t.filter(e=>"__LastSession__"!==e.id).length?e.createElement("div",{className:"rundown-empty"},e.createElement("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",opacity:"0.3"},e.createElement("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z",strokeWidth:"2"})),e.createElement("p",null,"No saved rundowns"),e.createElement("p",{className:"text-sm text-tertiary"},'Click "Save Current" to save your current setup')):t.filter(e=>"__LastSession__"!==e.id).map(t=>e.createElement("div",{key:t.id,className:"rundown-item"},e.createElement("div",{className:"rundown-icon"},e.createElement("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},e.createElement("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20",strokeWidth:"2"}),e.createElement("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z",strokeWidth:"2"}))),e.createElement("div",{className:"rundown-info"},e.createElement("span",{className:"rundown-name"},t.name),e.createElement("span",{className:"rundown-meta"},t.channelCount," channel",1!==t.channelCount?"s":""," | ",(e=>{if(!e)return"Unknown";const t=new Date(e);return t.toLocaleDateString()+" "+t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})(t.savedAt))),e.createElement("div",{className:"rundown-actions"},e.createElement("button",{className:"btn btn-sm btn-primary",onClick:()=>(async e=>{m(e),A(null);try{const t=await r(e);t.success||A(t.error||"Failed to load rundown")}catch(e){A(e.message)}finally{m(null)}})(t.id),disabled:h===t.id},h===t.id?"Loading...":"Load"),e.createElement("button",{className:"btn-icon btn-sm btn-danger-icon",onClick:()=>{return e=t.id,void v(e);var e},title:"Delete"},e.createElement("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},e.createElement("polyline",{points:"3 6 5 6 21 6",strokeWidth:"2"}),e.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",strokeWidth:"2"}))))))))}Ke.styleTagTransform=m(),Ke.setAttributes=d(),Ke.insert=l().bind(null,"head"),Ke.domAPI=o(),Ke.insertStyleElement=p(),a()(Qe.A,Ke),Qe.A&&Qe.A.locals&&Qe.A.locals;var Xe=n(9170),Ze={};function Je(){const{state:t,setSidebarTab:n}=ie(),{sidebarTab:r}=t.ui;return e.createElement("div",{className:"sidebar"},e.createElement("div",{className:"sidebar-tabs"},e.createElement("button",{className:"sidebar-tab "+("files"===r?"active":""),onClick:()=>n("files")},e.createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},e.createElement("path",{d:"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("polyline",{points:"13 2 13 9 20 9",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})),"Files"),e.createElement("button",{className:"sidebar-tab "+("macros"===r?"active":""),onClick:()=>n("macros")},e.createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},e.createElement("circle",{cx:"12",cy:"12",r:"3",strokeWidth:"2"}),e.createElement("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24",strokeWidth:"2",strokeLinecap:"round"})),"Macros"),e.createElement("button",{className:"sidebar-tab "+("rundowns"===r?"active":""),onClick:()=>n("rundowns")},e.createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},e.createElement("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})),"Rundowns")),e.createElement("div",{className:"sidebar-content"},"files"===r&&e.createElement(Fe,null),"macros"===r&&e.createElement(He,null),"rundowns"===r&&e.createElement($e,null)))}function et(e,t=25){if(!e||e<0)return"00:00:00:00";const n=e/t,r=Math.floor(n/3600),a=Math.floor(n%3600/60),i=Math.floor(n%60),o=Math.floor(e%t);return[r.toString().padStart(2,"0"),a.toString().padStart(2,"0"),i.toString().padStart(2,"0"),o.toString().padStart(2,"0")].join(":")}function tt(e){if(!e||e<=0)return"00:00";const t=Math.floor(e/3600),n=Math.floor(e%3600/60),r=Math.floor(e%60);return t>0?`${t}:${n.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`:`${n.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`}Ze.styleTagTransform=m(),Ze.setAttributes=d(),Ze.insert=l().bind(null,"head"),Ze.domAPI=o(),Ze.insertStyleElement=p(),a()(Xe.A,Ze),Xe.A&&Xe.A.locals&&Xe.A.locals;var nt=n(9250),rt={};function at({value:t,onChange:n,frameRate:r=25,maxFrames:a=null,placeholder:i="00:00:00:00",disabled:o=!1}){const s=e=>{if(null==e||e<0)return{hours:"",minutes:"",seconds:"",frames:""};const t=Math.floor(e/r),n=Math.floor(e%r),a=t%60,i=Math.floor(t/60)%60;return{hours:Math.floor(t/3600).toString().padStart(2,"0"),minutes:i.toString().padStart(2,"0"),seconds:a.toString().padStart(2,"0"),frames:n.toString().padStart(2,"0")}},l=e=>{const t=parseInt(e.hours)||0,n=parseInt(e.minutes)||0,a=parseInt(e.seconds)||0,i=parseInt(e.frames)||0;return 3600*t*r+60*n*r+a*r+i},[c,d]=(0,e.useState)(s(t)),u=(0,e.useRef)(null),p=(0,e.useRef)(null),h=(0,e.useRef)(null),m=(0,e.useRef)(null);(0,e.useEffect)(()=>{d(s(t))},[t,r]);const f=(e,t)=>{const n={...c,[e]:t};d(n)},A=e=>{const i=((e,t)=>{const n=parseInt(t)||0;switch(e){case"hours":return Math.max(0,Math.min(99,n));case"minutes":case"seconds":return Math.max(0,Math.min(59,n));case"frames":return Math.max(0,Math.min(Math.floor(r)-1,n));default:return n}})(e,c[e]),o={...c,[e]:i.toString().padStart(2,"0")};if(d(o),!(o.hours||o.minutes||o.seconds||o.frames)||"00"===o.hours&&"00"===o.minutes&&"00"===o.seconds&&"00"===o.frames)n(null==t?null:l(o));else{let e=l(o);null!==a&&e>a&&(e=a,d(s(e))),n(e)}},g=(e,t,n)=>{const a={hours:{prev:null,next:p},minutes:{prev:u,next:h},seconds:{prev:p,next:m},frames:{prev:h,next:null}};if(":"===e.key||"Tab"===e.key&&!e.shiftKey)a[t].next&&(e.preventDefault(),a[t].next.current?.focus(),a[t].next.current?.select());else if("Tab"===e.key&&e.shiftKey)a[t].prev&&(e.preventDefault(),a[t].prev.current?.focus(),a[t].prev.current?.select());else if("ArrowUp"===e.key){e.preventDefault();const n=parseInt(c[t])||0,a="frames"===t?Math.floor(r)-1:"hours"===t?99:59,i=Math.min(a,n+1);f(t,i.toString().padStart(2,"0"))}else if("ArrowDown"===e.key){e.preventDefault();const n=parseInt(c[t])||0,r=Math.max(0,n-1);f(t,r.toString().padStart(2,"0"))}else"Enter"===e.key&&A(t)},_=(e,t)=>{const n=e.target.value.replace(/\D/g,"").slice(-2);if(f(t,n),2===n.length){const e={hours:p,minutes:h,seconds:m,frames:null};e[t]&&setTimeout(()=>{e[t].current?.focus(),e[t].current?.select()},0)}};return e.createElement("div",{className:"timecode-input "+(o?"disabled":"")},e.createElement("div",{className:"timecode-fields"},e.createElement("input",{ref:u,type:"text",className:"timecode-field",value:c.hours,onChange:e=>_(e,"hours"),onBlur:()=>A("hours"),onKeyDown:e=>g(e,"hours"),onFocus:e=>e.target.select(),placeholder:"HH",disabled:o,maxLength:2}),e.createElement("span",{className:"timecode-separator"},":"),e.createElement("input",{ref:p,type:"text",className:"timecode-field",value:c.minutes,onChange:e=>_(e,"minutes"),onBlur:()=>A("minutes"),onKeyDown:e=>g(e,"minutes"),onFocus:e=>e.target.select(),placeholder:"MM",disabled:o,maxLength:2}),e.createElement("span",{className:"timecode-separator"},":"),e.createElement("input",{ref:h,type:"text",className:"timecode-field",value:c.seconds,onChange:e=>_(e,"seconds"),onBlur:()=>A("seconds"),onKeyDown:e=>g(e,"seconds"),onFocus:e=>e.target.select(),placeholder:"SS",disabled:o,maxLength:2}),e.createElement("span",{className:"timecode-separator"},":"),e.createElement("input",{ref:m,type:"text",className:"timecode-field",value:c.frames,onChange:e=>_(e,"frames"),onBlur:()=>A("frames"),onKeyDown:e=>g(e,"frames"),onFocus:e=>e.target.select(),placeholder:"FF",disabled:o,maxLength:2})),e.createElement("span",{className:"timecode-fps"},r,"fps"))}rt.styleTagTransform=m(),rt.setAttributes=d(),rt.insert=l().bind(null,"head"),rt.domAPI=o(),rt.insertStyleElement=p(),a()(nt.A,rt),nt.A&&nt.A.locals&&nt.A.locals;var it=n(5055),ot={};ot.styleTagTransform=m(),ot.setAttributes=d(),ot.insert=l().bind(null,"head"),ot.domAPI=o(),ot.insertStyleElement=p(),a()(it.A,ot),it.A&&it.A.locals&&it.A.locals;const{ipcRenderer:st}=window.require("electron");function lt({item:t,index:n,isPlaying:r,isCurrent:a,isSelected:i,channelId:o,layerId:s,channelFrameRate:l,onItemClick:c}){const{removePlaylistItem:d,playItem:u,updateItemDuration:p,updateItemInOutPoints:h,updateItemMetadata:m}=ie(),f="macro"===t.type,A="image"===t.type,g="video"===t.type,[_,y]=(0,e.useState)(!1),[v,E]=(0,e.useState)(!1),[C,b]=(0,e.useState)(t.inPointFrames??null),[x,w]=(0,e.useState)(t.outPointFrames??null),B=t.frameRate??25,S=t.duration>0?Math.floor(t.duration*B):null,k=l||25,T=A&&t.duration>0?Math.round(t.duration*k):null,[I,R]=(0,e.useState)(T),L=(()=>{if(g&&(null!==t.inPointFrames||null!==t.outPointFrames)){const e=t.inPointFrames||0;return((null!==t.outPointFrames?t.outPointFrames:t.duration*B)-e)/B}return t.duration})();(0,e.useEffect)(()=>{b(t.inPointFrames??null),w(t.outPointFrames??null)},[t.inPointFrames,t.outPointFrames]),(0,e.useEffect)(()=>{A&&t.duration>0&&R(Math.round(t.duration*k))},[t.duration,k,A]);const D=e=>{A&&(e.stopPropagation(),y(!_))},O=async e=>{if(e.stopPropagation(),g&&25===t.frameRate&&!t.metadataVerified)try{const e=await st.invoke("media:getMetadata",t.path,"video");e?.frameRate&&m(o,s,t.id,e)}catch(e){console.warn("Failed to verify video metadata:",e)}E(!v)};return e.createElement("div",{className:`playlist-item ${a?"current":""} ${r?"playing":""} ${f?"macro":""} ${i?"selected":""}`,onClick:e=>{c&&c(e)},onDoubleClick:()=>{u(o,s,n)},draggable:!0,onDragStart:e=>{xe(e,Ce,{item:t,sourceChannelId:o,sourceLayerId:s,index:n}),e.currentTarget.classList.add("dragging")},onDragEnd:e=>{e.currentTarget.classList.remove("dragging")}},e.createElement("span",{className:"item-index"},n+1),e.createElement("div",{className:"item-icon"},function(t){switch(t){case"video":return e.createElement("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"currentColor"},e.createElement("path",{d:"M18 4l2 4h-3l-2-4h-2l2 4h-3l-2-4H8l2 4H7L5 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4h-4z"}));case"image":return e.createElement("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"currentColor"},e.createElement("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"}));case"audio":return e.createElement("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"currentColor"},e.createElement("path",{d:"M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"}));case"macro":return e.createElement("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"currentColor"},e.createElement("path",{d:"M19 9l1.25-2.75L23 5l-2.75-1.25L19 1l-1.25 2.75L15 5l2.75 1.25L19 9zm-7.5.5L9 4 6.5 9.5 1 12l5.5 2.5L9 20l2.5-5.5L17 12l-5.5-2.5z"}));default:return e.createElement("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"currentColor"},e.createElement("path",{d:"M14 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8l-6-6zm4 18H6V4h7v5h5v11z"}))}}(t.type)),e.createElement("div",{className:"item-info"},e.createElement("span",{className:"item-name",title:t.relativePath||t.path||t.name},t.name),t.resolution&&e.createElement("span",{className:"item-meta"},t.resolution)),e.createElement("div",{className:"item-duration"},null!==t.inPointFrames||null!==t.outPointFrames?e.createElement("span",{className:"item-io",title:`In: ${null!==t.inPointFrames?et(t.inPointFrames,B):"-"} / Out: ${null!==t.outPointFrames?et(t.outPointFrames,B):"-"}${25!==B?` @ ${B.toFixed(2)}fps`:""}`,onClick:O},"IO"):g?e.createElement("span",{className:"item-io-add",title:"Click to set In/Out points (HH:MM:SS:FF)"+(25!==B?` @ ${B.toFixed(2)}fps`:""),onClick:O},"+IO"):null,L>0?e.createElement("span",{className:A?"duration-editable":"duration-display",onClick:D,title:A?"Click to edit duration":`Duration: ${tt(L)}${g&&L!==t.duration?` (full: ${tt(t.duration)})`:""}`},tt(L)):e.createElement("span",{className:A?"duration-editable duration-unknown":"duration-display duration-unknown",onClick:D},"--:--")),v&&g&&e.createElement("div",{className:"item-io-editor",onClick:e=>e.stopPropagation()},e.createElement("div",{className:"io-fps-display"},B.toFixed(2)," fps"),e.createElement("div",{className:"io-row"},e.createElement("label",null,"In:"),e.createElement(at,{value:C,onChange:e=>{b(e),h(o,s,t.id,e,x)},frameRate:B,maxFrames:S})),e.createElement("div",{className:"io-row"},e.createElement("label",null,"Out:"),e.createElement(at,{value:x,onChange:e=>{w(e),h(o,s,t.id,C,e)},frameRate:B,maxFrames:S})),e.createElement("div",{className:"io-row io-actions"},e.createElement("button",{className:"io-clear-btn",title:"Clear In/Out points",onClick:()=>{b(null),w(null),h(o,s,t.id,null,null)}},"Clear"),e.createElement("button",{className:"io-done-btn",title:"Close editor",onClick:()=>E(!1)},"Done"))),_&&A&&e.createElement("div",{className:"item-io-editor",onClick:e=>e.stopPropagation()},e.createElement("div",{className:"io-fps-display"},k.toFixed(2)," fps (channel)"),e.createElement("div",{className:"io-row"},e.createElement("label",null,"Dur:"),e.createElement(at,{value:I,onChange:e=>{if(R(e),null!==e&&e>0){const n=e/k;p(o,s,t.id,n)}},frameRate:k,maxFrames:null})),e.createElement("div",{className:"io-row io-actions"},e.createElement("button",{className:"io-clear-btn",title:"Reset to default (5 sec)",onClick:()=>{const e=Math.round(5*k);R(e),p(o,s,t.id,5)}},"Reset"),e.createElement("button",{className:"io-done-btn",title:"Close editor",onClick:()=>y(!1)},"Done"))),e.createElement("button",{className:"item-remove",onClick:e=>{e.stopPropagation(),d(o,s,t.id)},title:"Remove from playlist"},e.createElement("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},e.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18",strokeWidth:"2",strokeLinecap:"round"}),e.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18",strokeWidth:"2",strokeLinecap:"round"}))),r&&e.createElement("div",{className:"playing-indicator"},e.createElement("span",null),e.createElement("span",null),e.createElement("span",null)))}var ct=n(5974),dt={};function ut({items:t,currentIndex:n,channelId:r,layerId:a,channelFrameRate:i,expanded:o=!1,selectedItems:s=[],lastSelectedIndex:l=null,isLayerPlaying:c=!1}){const{addMediaToPlaylist:d,reorderPlaylistItems:u,selectPlaylistItems:p,deleteSelectedItems:h,undoDelete:m}=ie(),[f,A]=(0,e.useState)(null),[g,_]=(0,e.useState)(null),y=(0,e.useRef)(null);(0,e.useEffect)(()=>{const e=e=>{(y.current?.contains(document.activeElement)||document.activeElement===y.current)&&("Delete"===e.key&&s.length>0?(e.preventDefault(),h(r,a)):"z"===e.key&&(e.ctrlKey||e.metaKey)?(e.preventDefault(),m(r,a)):"a"===e.key&&(e.ctrlKey||e.metaKey)&&t.length>0&&(e.preventDefault(),p(r,a,t.map(e=>e.id))))};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[r,a,s,t,h,m,p]);const v=e=>{e.preventDefault(),e.dataTransfer.dropEffect="copy",e.currentTarget.classList.add("drag-over")},E=e=>{e.currentTarget.classList.remove("drag-over"),A(null)},C=e=>{e.preventDefault(),e.currentTarget.classList.remove("drag-over"),A(null);const t=function(e){try{const t=e.dataTransfer.getData("application/json");if(t)return JSON.parse(t)}catch(e){console.error("Failed to parse drag data:",e)}return null}(e);if(t)if(t.type===Ee){const e=t.data;d(r,a,{name:e.name,path:e.path,type:e.type,metadata:e.metadata})}else if(t.type===be){const e=t.data;d(r,a,{name:e.name,path:null,type:"macro",macroId:e.id,metadata:{color:e.color}})}else if(t.type===Ce){const e=t.data;e.sourceChannelId===r&&e.sourceLayerId===a?null!==f&&f!==e.index&&u(r,a,e.index,f):d(r,a,{name:e.item.name,path:e.item.path,type:e.item.type,metadata:e.item.metadata})}};return 0===t.length?e.createElement("div",{ref:y,className:"playlist empty "+(o?"expanded":""),onDragOver:v,onDragLeave:E,onDrop:C,tabIndex:0},e.createElement("div",{className:"playlist-empty"},e.createElement("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",opacity:"0.3"},e.createElement("line",{x1:"8",y1:"6",x2:"21",y2:"6",strokeWidth:"2",strokeLinecap:"round"}),e.createElement("line",{x1:"8",y1:"12",x2:"21",y2:"12",strokeWidth:"2",strokeLinecap:"round"}),e.createElement("line",{x1:"8",y1:"18",x2:"21",y2:"18",strokeWidth:"2",strokeLinecap:"round"}),e.createElement("line",{x1:"3",y1:"6",x2:"3.01",y2:"6",strokeWidth:"2",strokeLinecap:"round"}),e.createElement("line",{x1:"3",y1:"12",x2:"3.01",y2:"12",strokeWidth:"2",strokeLinecap:"round"}),e.createElement("line",{x1:"3",y1:"18",x2:"3.01",y2:"18",strokeWidth:"2",strokeLinecap:"round"})),e.createElement("p",null,"Drop media here"))):e.createElement("div",{ref:y,className:"playlist "+(o?"expanded":""),onDragOver:v,onDragLeave:E,onDrop:C,tabIndex:0},e.createElement("div",{className:"playlist-items"},t.map((o,l)=>e.createElement("div",{key:o.id,className:"playlist-item-wrapper "+(f===l?"drag-over":""),onDragOver:e=>((e,t)=>{e.preventDefault(),e.stopPropagation(),A(t)})(e,l)},e.createElement(lt,{item:o,index:l,isPlaying:l===n&&o.playing,isCurrent:l===n,isSelected:s.includes(o.id),channelId:r,layerId:a,channelFrameRate:i,onItemClick:e=>((e,n,i)=>{if(i.ctrlKey||i.metaKey)p(r,a,[e],"toggle");else if(i.shiftKey&&null!==g){const e=Math.min(g,n),i=Math.max(g,n),o=t.slice(e,i+1).map(e=>e.id);p(r,a,o)}else p(r,a,[e]),_(n)})(o.id,l,e)})))))}dt.styleTagTransform=m(),dt.setAttributes=d(),dt.insert=l().bind(null,"head"),dt.domAPI=o(),dt.insertStyleElement=p(),a()(ct.A,dt),ct.A&&ct.A.locals&&ct.A.locals;var pt=n(7771),ht={};function mt({layer:t,channelId:n}){const{connection:r,playItem:a,pausePlayback:i,resumePlayback:o,stopPlayback:s,nextItem:l,prevItem:c,togglePlaylistMode:d,toggleLoopMode:u,toggleLoopItem:p}=ie(),h=r.isConnected,m=t.playlist.length>0;return e.createElement("div",{className:"layer-controls"},e.createElement("div",{className:"transport-controls"},e.createElement("button",{className:"control-btn",onClick:()=>{c(n,t.id)},disabled:!h||!m,title:"Previous Item"},e.createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor"},e.createElement("path",{d:"M6 6h2v12H6zm3.5 6l8.5 6V6z"}))),t.isPlaying&&!t.isPaused?e.createElement("button",{className:"control-btn control-btn-primary",onClick:()=>{i(n,t.id)},disabled:!h,title:"Pause"},e.createElement("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor"},e.createElement("path",{d:"M6 4h4v16H6V4zm8 0h4v16h-4V4z"}))):e.createElement("button",{className:"control-btn control-btn-primary",onClick:()=>{if(t.isPaused)o(n,t.id);else if(m){let e=0;if(t.selectedItems&&t.selectedItems.length>0){const n=t.selectedItems[0],r=t.playlist.findIndex(e=>e.id===n);r>=0&&(e=r)}else t.currentIndex>=0&&(e=t.currentIndex);a(n,t.id,e)}},disabled:!h||!m,title:t.isPaused?"Resume":"Play"},e.createElement("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor"},e.createElement("path",{d:"M8 5v14l11-7z"}))),e.createElement("button",{className:"control-btn",onClick:()=>{s(n,t.id)},disabled:!h,title:"Stop"},e.createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor"},e.createElement("rect",{x:"6",y:"6",width:"12",height:"12"}))),e.createElement("button",{className:"control-btn",onClick:()=>{l(n,t.id)},disabled:!h||!m,title:"Next Item"},e.createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor"},e.createElement("path",{d:"M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"})))),e.createElement("div",{className:"mode-controls"},e.createElement("button",{className:"mode-btn "+(t.playlistMode?"active":""),onClick:()=>d(n,t.id),title:"Playlist Mode - Auto-advance to next item"},"PL"),e.createElement("button",{className:"mode-btn "+(t.loopMode?"active":""),onClick:()=>u(n,t.id),title:"Loop Playlist - Loop back to first item"},"LP"),e.createElement("button",{className:"mode-btn "+(t.loopItem?"active":""),onClick:()=>p(n,t.id),title:"Loop Item - Repeat current item"},"LI")))}ht.styleTagTransform=m(),ht.setAttributes=d(),ht.insert=l().bind(null,"head"),ht.domAPI=o(),ht.insertStyleElement=p(),a()(pt.A,ht),pt.A&&pt.A.locals&&pt.A.locals;var ft=n(3201),At={};function gt({currentTime:t,totalTime:n,isPlaying:r}){const a=(i=t,!(o=n)||o<=0?0:Math.min(100,Math.max(0,i/o*100)));var i,o;const s=n-t;return e.createElement("div",{className:"time-display"},e.createElement("div",{className:"time-progress"},e.createElement("div",{className:"time-progress-bar "+(r?"playing":""),style:{width:`${a}%`}})),e.createElement("div",{className:"time-values"},e.createElement("span",{className:"time-current"},tt(t)),e.createElement("span",{className:"time-remaining"},function(e){return!e||e<=0?"-00:00":"-"+tt(e)}(s)),e.createElement("span",{className:"time-total"},tt(n))))}At.styleTagTransform=m(),At.setAttributes=d(),At.insert=l().bind(null,"head"),At.domAPI=o(),At.insertStyleElement=p(),a()(ft.A,At),ft.A&&ft.A.locals&&ft.A.locals;var _t=n(5133),yt={};function vt({layer:t,channelId:n,channelFrameRate:r,expanded:a=!1}){const{state:i,deleteLayer:o}=ie();return e.createElement("div",{className:"layer "+(a?"expanded":"")},e.createElement("div",{className:"layer-header"},e.createElement("span",{className:"layer-title"},"Layer ",t.id),e.createElement("div",{className:"layer-modes"},e.createElement(Et,{label:"PL",active:t.playlistMode,title:"Playlist Mode"}),e.createElement(Et,{label:"LP",active:t.loopMode,title:"Loop Playlist"}),e.createElement(Et,{label:"LI",active:t.loopItem,title:"Loop Item"})),e.createElement("button",{className:"btn-icon btn-sm",onClick:()=>{t.playlist.length>0&&!confirm(`Delete Layer ${t.id}? All playlist items will be removed.`)||o(n,t.id)},title:"Delete Layer"},e.createElement("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},e.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18",strokeWidth:"2",strokeLinecap:"round"}),e.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18",strokeWidth:"2",strokeLinecap:"round"})))),e.createElement(gt,{currentTime:t.currentTime,totalTime:t.totalTime,isPlaying:t.isPlaying}),e.createElement(mt,{layer:t,channelId:n}),e.createElement(ut,{items:t.playlist,currentIndex:t.currentIndex,channelId:n,layerId:t.id,channelFrameRate:r,expanded:a,selectedItems:t.selectedItems||[],lastSelectedIndex:t.lastSelectedIndex,isLayerPlaying:t.isPlaying}))}function Et({label:t,active:n,title:r}){return e.createElement("span",{className:"mode-indicator "+(n?"active":""),title:r},t)}yt.styleTagTransform=m(),yt.setAttributes=d(),yt.insert=l().bind(null,"head"),yt.domAPI=o(),yt.insertStyleElement=p(),a()(_t.A,yt),_t.A&&_t.A.locals&&_t.A.locals;var Ct=n(8579),bt=n.n(Ct),xt=n(4738),wt={};function Bt({channelId:t,expanded:n=!1}){const{connection:r,settings:a,setStreamActive:i,setStreamInactive:o,state:s}=ie(),l=(0,e.useRef)(null),c=(0,e.useRef)(null),[d,u]=(0,e.useState)(!1),[p,h]=(0,e.useState)(!1),[m,f]=(0,e.useState)(null),[A,g]=(0,e.useState)(""),_=(0,e.useRef)(0);(0,e.useEffect)(()=>{const e="all"===s.autoConnectChannelId||s.autoConnectChannelId===t;s.autoConnectTrigger>0&&s.autoConnectTrigger!==_.current&&e&&!d&&!p&&r.isConnected&&a.autoConnectPreviews&&(_.current=s.autoConnectTrigger,setTimeout(()=>{v()},100))},[s.autoConnectTrigger,s.autoConnectChannelId,t,d,p,r.isConnected,a.autoConnectPreviews]);const y=async e=>{const t=r.casparCG;if(!t)throw new Error("Not connected");try{const n=await t.sendCustom({command:e});return n&&n.request?await n.request:n}catch(e){throw console.error("sendCustom failed:",e),e}},v=async()=>{if(!r.casparCG||!r.isConnected)return;const{ipcRenderer:e}=window.require("electron");h(!0),f(null);try{const n=(a.previewPort||9250)+t-1;console.log(`[Preview ${t}] Starting stream relay on port ${n}`);const r=await e.invoke("stream:startRelay",t,n);if(!r.success)throw new Error(r.error||"Failed to start stream relay");const o=r.streamUrl;g(o),console.log(`[Preview ${t}] Stream URL: ${o}`);const s=a.previewScale||"384:216",d=a.previewPreset||"ultrafast",p=a.previewTune||"zerolatency",m=Math.round(51-.33*(a.previewQuality||50)),A=o.replace("/stream","/stream.ts"),_=`ADD ${t} STREAM "${A}" -format mpegts -codec:v libx264 -crf:v ${m} -tune:v ${p} -preset:v ${d} -filter:v scale=${s.replace(":",":")} -filter:a "pan=stereo|c0=FL|c1=FR"`;console.log("[Preview] Sending MPEGTS stream command:",_);try{await y(_)}catch(e){throw console.warn("ADD STREAM command failed:",e),new Error("Failed to start CasparCG stream: "+e.message)}if(await new Promise(e=>setTimeout(e,500)),!bt().isSupported())throw new Error("mpegts.js is not supported in this browser");console.log(`[Preview ${t}] Creating mpegts.js player`);const v=bt().createPlayer({type:"mpegts",url:o,isLive:!0,hasAudio:!1},{enableWorker:!0,liveBufferLatencyChasing:!0,liveBufferLatencyMaxLatency:1,liveBufferLatencyMinRemain:.2,lazyLoadMaxDuration:.5,seekType:"range"});v.on(bt().Events.ERROR,(e,n,r)=>{console.error(`[Preview ${t}] mpegts error:`,e,n,r),e===bt().ErrorTypes.NETWORK_ERROR?(f("Network error - stream may have ended"),E()):e===bt().ErrorTypes.MEDIA_ERROR?f("Media error - codec issue"):f(`Playback error: ${n}`)}),v.on(bt().Events.LOADING_COMPLETE,()=>{console.log(`[Preview ${t}] Loading complete`)}),v.on(bt().Events.METADATA_ARRIVED,e=>{console.log(`[Preview ${t}] Metadata arrived:`,e)}),v.attachMediaElement(l.current),v.load();try{await v.play(),console.log(`[Preview ${t}] Playback started`)}catch(e){console.warn(`[Preview ${t}] Autoplay failed, trying muted:`,e),l.current.muted=!0,await v.play()}c.current=v,i(t,o,n),u(!0),h(!1)}catch(n){console.error("Failed to connect:",n),f(n.message||"Failed to connect"),h(!1),await e.invoke("stream:stopRelay",t)}},E=async()=>{const{ipcRenderer:e}=window.require("electron");try{if(r.casparCG&&r.isConnected&&A)try{const e=A.replace("/stream","/stream.ts");await y(`REMOVE ${t} STREAM "${e}"`)}catch(e){console.log("Remove stream command failed (may be expected):",e)}if(c.current){try{c.current.pause(),c.current.unload(),c.current.detachMediaElement(),c.current.destroy()}catch(e){console.warn(`[Preview ${t}] Error destroying player:`,e)}c.current=null}l.current&&(l.current.src="",l.current.load()),await e.invoke("stream:stopRelay",t),o(t)}catch(e){console.error("Error disconnecting:",e)}u(!1),g(""),f(null),h(!1)};return r.isConnected?e.createElement("div",{className:"preview "+(n?"expanded":"")},e.createElement("video",{ref:l,className:"preview-video",autoPlay:!0,muted:!0,playsInline:!0,onError:()=>{d&&f("Stream playback error")},style:{display:d?"block":"none"}}),!d&&e.createElement("div",{className:"preview-placeholder"},p?e.createElement(e.Fragment,null,e.createElement("div",{className:"preview-loading"},e.createElement("div",{className:"loading-spinner"})),e.createElement("p",null,"Connecting to stream...")):m?e.createElement(e.Fragment,null,e.createElement("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",opacity:"0.3"},e.createElement("circle",{cx:"12",cy:"12",r:"10",strokeWidth:"2"}),e.createElement("line",{x1:"15",y1:"9",x2:"9",y2:"15",strokeWidth:"2",strokeLinecap:"round"}),e.createElement("line",{x1:"9",y1:"9",x2:"15",y2:"15",strokeWidth:"2",strokeLinecap:"round"})),e.createElement("p",null,m),e.createElement("button",{className:"btn btn-primary btn-sm",onClick:v},"Retry")):e.createElement(e.Fragment,null,e.createElement("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",opacity:"0.3"},e.createElement("rect",{x:"2",y:"7",width:"20",height:"15",rx:"2",ry:"2",strokeWidth:"2"}),e.createElement("polyline",{points:"17 2 12 7 7 2",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})),e.createElement("p",null,"Channel ",t," Preview"),e.createElement("div",{className:"preview-buttons"},e.createElement("button",{className:"btn btn-primary btn-sm",onClick:v},e.createElement("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},e.createElement("circle",{cx:"12",cy:"12",r:"10"}),e.createElement("circle",{cx:"12",cy:"12",r:"3"})),"Connect")))),d&&e.createElement("div",{className:"preview-controls"},e.createElement("button",{className:"btn-icon btn-sm",onClick:E,title:"Disconnect"},e.createElement("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"currentColor"},e.createElement("rect",{x:"6",y:"6",width:"12",height:"12"}))),e.createElement("span",{className:"preview-label"},"Channel ",t,e.createElement("span",{className:"streaming-badge"},"LIVE")))):e.createElement("div",{className:"preview "+(n?"expanded":"")},e.createElement("div",{className:"preview-placeholder"},e.createElement("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",opacity:"0.3"},e.createElement("rect",{x:"2",y:"7",width:"20",height:"15",rx:"2",ry:"2",strokeWidth:"2"}),e.createElement("polyline",{points:"17 2 12 7 7 2",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})),e.createElement("p",null,"Not connected to CasparCG")))}wt.styleTagTransform=m(),wt.setAttributes=d(),wt.insert=l().bind(null,"head"),wt.domAPI=o(),wt.insertStyleElement=p(),a()(xt.A,wt),xt.A&&xt.A.locals&&xt.A.locals;var St=n(4263),kt={};function Tt({channel:t,isExpanded:n=!1,isHidden:r=!1}){const{deleteChannel:a,addLayer:i,toggleExpandChannel:o,state:s,setExpandedPreviewHeight:l}=ie(),[c,d]=(0,e.useState)(!1),[u,p]=(0,e.useState)(!1),h=(0,e.useRef)(0),m=(0,e.useRef)(0),f=s.ui.previewSize||400,A=(0,e.useCallback)(e=>{e.preventDefault(),p(!0),h.current=e.clientY,m.current=f;const t=e=>{const t=e.clientY-h.current,n=m.current+t;l(n)},n=()=>{p(!1),document.removeEventListener("mousemove",t),document.removeEventListener("mouseup",n)};document.addEventListener("mousemove",t),document.addEventListener("mouseup",n)},[f,l]),g=n?"100%":420+392*Math.max(0,t.layers.length-1)+60+"px",_=["channel"];return n&&_.push("channel-expanded"),r&&_.push("channel-hidden"),e.createElement("div",{className:_.join(" "),style:{width:g}},c&&e.createElement("div",{className:"delete-confirm-overlay"},e.createElement("div",{className:"delete-confirm"},e.createElement("h3",null,"Delete Channel?"),e.createElement("p",null,"Are you sure you want to delete ",t.name,"? All layers and playlist items will be removed. This cannot be undone."),e.createElement("div",{className:"delete-confirm-buttons"},e.createElement("button",{className:"btn",onClick:()=>{d(!1)}},"Cancel"),e.createElement("button",{className:"btn btn-danger",onClick:()=>{a(t.id),d(!1)}},"Delete")))),!n&&e.createElement("div",{className:"channel-header"},e.createElement("div",{className:"channel-header-info"},e.createElement("h3",{className:"channel-name"},t.name),(t.channelResolution||t.channelFrameRate)&&e.createElement("span",{className:"channel-format"},t.channelResolution,t.channelResolution&&t.channelFrameRate&&" / ",t.channelFrameRate&&`${t.channelFrameRate}fps`)),e.createElement("div",{className:"channel-actions"},e.createElement("button",{className:"btn-icon",title:"Expand Channel",onClick:()=>o(t.id)},e.createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},e.createElement("path",{d:"M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))),e.createElement("button",{className:"btn-icon btn-danger-icon",onClick:()=>{d(!0)},title:"Delete Channel"},e.createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},e.createElement("polyline",{points:"3 6 5 6 21 6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))))),e.createElement("div",{className:"channel-preview "+(n?"channel-preview-expanded":""),style:n?{height:`${f}px`}:void 0},e.createElement(Bt,{channelId:t.id,expanded:n}),n&&e.createElement("div",{className:"preview-resize-handle "+(u?"resizing":""),onMouseDown:A,title:"Drag to resize preview"},e.createElement("div",{className:"resize-handle-bar"}))),e.createElement("div",{className:"channel-layers "+(n?"channel-layers-expanded":"")},t.layers.map(r=>e.createElement(vt,{key:r.id,layer:r,channelId:t.id,channelFrameRate:t.channelFrameRate,expanded:n})),!n&&e.createElement("button",{className:"add-layer-button",onClick:()=>i(t.id),title:"Add Layer"},e.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},e.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19",strokeWidth:"2",strokeLinecap:"round"}),e.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12",strokeWidth:"2",strokeLinecap:"round"})))))}kt.styleTagTransform=m(),kt.setAttributes=d(),kt.insert=l().bind(null,"head"),kt.domAPI=o(),kt.insertStyleElement=p(),a()(St.A,kt),St.A&&St.A.locals&&St.A.locals;var It=n(9787),Rt={};function Lt(){const{state:t,addChannel:n,addLayer:r,toggleExpandChannel:a}=ie(),i=t.ui.expandedChannel,o=null!==i;return e.createElement("div",{className:"channels-container "+(o?"has-expanded":"")},e.createElement("div",{className:"channels-header"},o?e.createElement(e.Fragment,null,e.createElement("button",{className:"btn",onClick:()=>a(null)},e.createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},e.createElement("line",{x1:"19",y1:"12",x2:"5",y2:"12",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("polyline",{points:"12 19 5 12 12 5",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})),"Back to All Channels"),e.createElement("h2",{className:"channels-title"},t.channels.find(e=>e.id===i)?.name||"Channel",(()=>{const n=t.channels.find(e=>e.id===i);return n?.channelResolution||n?.channelFrameRate?e.createElement("span",{className:"channel-format-inline"},n.channelResolution,n.channelResolution&&n.channelFrameRate&&" / ",n.channelFrameRate&&`${n.channelFrameRate}fps`):null})()),e.createElement("button",{className:"btn btn-primary",onClick:()=>r(i)},e.createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},e.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19",strokeWidth:"2",strokeLinecap:"round"}),e.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12",strokeWidth:"2",strokeLinecap:"round"})),"Add Layer")):e.createElement(e.Fragment,null,e.createElement("h2",{className:"channels-title"},"Channels"),e.createElement("button",{className:"btn btn-primary",onClick:n},e.createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},e.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19",strokeWidth:"2",strokeLinecap:"round"}),e.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12",strokeWidth:"2",strokeLinecap:"round"})),"Add Channel"))),e.createElement("div",{className:"channels-grid"},0===t.channels.length?e.createElement("div",{className:"empty-state"},e.createElement("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",opacity:"0.3"},e.createElement("rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",strokeWidth:"2"}),e.createElement("line",{x1:"8",y1:"21",x2:"16",y2:"21",strokeWidth:"2",strokeLinecap:"round"}),e.createElement("line",{x1:"12",y1:"17",x2:"12",y2:"21",strokeWidth:"2",strokeLinecap:"round"})),e.createElement("h3",null,"No Channels"),e.createElement("p",null,'Click "Add Channel" to create your first channel')):t.channels.map(t=>e.createElement(Tt,{key:t.id,channel:t,isExpanded:i===t.id,isHidden:o&&i!==t.id}))))}function Dt(){const{state:t,showConnectionDialog:n,setShowConnectionDialog:r,showSettings:a,setShowSettings:i,connection:o,connectToCaspar:s,settings:l,saveRundown:c,rundowns:d}=ie(),u=(0,e.useRef)(!1),[p,h]=(0,e.useState)(null);(0,e.useEffect)(()=>{const e=document.querySelector(".loading-screen");e&&setTimeout(()=>{e.style.opacity="0",setTimeout(()=>e.remove(),300)},500)},[]),(0,e.useEffect)(()=>{u.current||o.isConnected||!l.host||(u.current=!0,s(l.host||"127.0.0.1",l.port||5250,l.oscPort||6250,o.previewUrl||"").catch(e=>{console.log("Auto-connect failed:",e.message)}))},[l.host,l.port,l.oscPort,o.isConnected,s,o.previewUrl]),(0,e.useEffect)(()=>{const e=e=>{(e.ctrlKey||e.metaKey)&&"s"===e.key&&(e.preventDefault(),m())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[p,t.channels]);const m=async()=>{if(0!==t.channels.length)if(p)await c(p);else{const e=window.prompt("Enter rundown name:");e&&e.trim()&&(await c(e.trim())).success&&h(e.trim())}};return e.createElement("div",{className:"app"},n&&e.createElement(de,{onClose:()=>r(!1)}),a&&e.createElement(ge,{onClose:()=>i(!1)}),e.createElement(ve,null),e.createElement("div",{className:"app-main"},e.createElement(Je,null),e.createElement("div",{className:"content-area"},e.createElement(Lt,null))))}function Ot(){return e.createElement(se,null,e.createElement(Dt,null))}Rt.styleTagTransform=m(),Rt.setAttributes=d(),Rt.insert=l().bind(null,"head"),Rt.domAPI=o(),Rt.insertStyleElement=p(),a()(It.A,Rt),It.A&&It.A.locals&&It.A.locals,t.createRoot(document.getElementById("root")).render(e.createElement(e.StrictMode,null,e.createElement(Ot,null)))})()})();
//# sourceMappingURL=bundle.js.map